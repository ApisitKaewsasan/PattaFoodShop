require.config({"config": {
        "jsbuild":{"jquery/fileUploader/jquery.fileupload-fp.js":"/*\n * jQuery File Upload File Processing Plugin 1.0\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n */\n\n/*jslint nomen: true, unparam: true, regexp: true */\n/*global define, window, document */\n\n(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // Register as an anonymous AMD module:\n        define([\n            'jquery',\n            'jquery/fileUploader/load-image',\n            'jquery/fileUploader/canvas-to-blob',\n            'jquery/fileUploader/jquery.fileupload'\n        ], factory);\n    } else {\n        // Browser globals:\n        factory(\n            window.jQuery,\n            window.loadImage\n        );\n    }\n}(function ($, loadImage) {\n    'use strict';\n\n    // The File Upload IP version extends the basic fileupload widget\n    // with file processing functionality:\n    $.widget('blueimpFP.fileupload', $.blueimp.fileupload, {\n\n        options: {\n            // The list of file processing actions:\n            process: [\n            /*\n                {\n                    action: 'load',\n                    fileTypes: /^image\\/(gif|jpeg|png)$/,\n                    maxFileSize: 20000000 // 20MB\n                },\n                {\n                    action: 'resize',\n                    maxWidth: 1920,\n                    maxHeight: 1200,\n                    minWidth: 800,\n                    minHeight: 600\n                },\n                {\n                    action: 'save'\n                }\n            */\n            ],\n\n            // The add callback is invoked as soon as files are added to the\n            // fileupload widget (via file input selection, drag & drop or add\n            // API call). See the basic file upload widget for more information:\n            add: function (e, data) {\n                $(this).fileupload('process', data).done(function () {\n                    data.submit();\n                });\n            }\n        },\n\n        processActions: {\n            // Loads the image given via data.files and data.index\n            // as canvas element.\n            // Accepts the options fileTypes (regular expression)\n            // and maxFileSize (integer) to limit the files to load:\n            load: function (data, options) {\n                var that = this,\n                    file = data.files[data.index],\n                    dfd = $.Deferred();\n                if (window.HTMLCanvasElement &&\n                        window.HTMLCanvasElement.prototype.toBlob &&\n                        ($.type(options.maxFileSize) !== 'number' ||\n                            file.size < options.maxFileSize) &&\n                        (!options.fileTypes ||\n                            options.fileTypes.test(file.type))) {\n                    loadImage(\n                        file,\n                        function (canvas) {\n                            data.canvas = canvas;\n                            dfd.resolveWith(that, [data]);\n                        },\n                        {canvas: true}\n                    );\n                } else {\n                    dfd.rejectWith(that, [data]);\n                }\n                return dfd.promise();\n            },\n            // Resizes the image given as data.canvas and updates\n            // data.canvas with the resized image.\n            // Accepts the options maxWidth, maxHeight, minWidth and\n            // minHeight to scale the given image:\n            resize: function (data, options) {\n                if (data.canvas) {\n                    var canvas = loadImage.scale(data.canvas, options);\n                    if (canvas.width !== data.canvas.width ||\n                            canvas.height !== data.canvas.height) {\n                        data.canvas = canvas;\n                        data.processed = true;\n                    }\n                }\n                return data;\n            },\n            // Saves the processed image given as data.canvas\n            // inplace at data.index of data.files:\n            save: function (data, options) {\n                // Do nothing if no processing has happened:\n                if (!data.canvas || !data.processed) {\n                    return data;\n                }\n                var that = this,\n                    file = data.files[data.index],\n                    name = file.name,\n                    dfd = $.Deferred(),\n                    callback = function (blob) {\n                        if (!blob.name) {\n                            if (file.type === blob.type) {\n                                blob.name = file.name;\n                            } else if (file.name) {\n                                blob.name = file.name.replace(\n                                    /\\..+$/,\n                                    '.' + blob.type.substr(6)\n                                );\n                            }\n                        }\n                        // Store the created blob at the position\n                        // of the original file in the files list:\n                        data.files[data.index] = blob;\n                        dfd.resolveWith(that, [data]);\n                    };\n                // Use canvas.mozGetAsFile directly, to retain the filename, as\n                // Gecko doesn't support the filename option for FormData.append:\n                if (data.canvas.mozGetAsFile) {\n                    callback(data.canvas.mozGetAsFile(\n                        (/^image\\/(jpeg|png)$/.test(file.type) && name) ||\n                            ((name && name.replace(/\\..+$/, '')) ||\n                                'blob') + '.png',\n                        file.type\n                    ));\n                } else {\n                    data.canvas.toBlob(callback, file.type);\n                }\n                return dfd.promise();\n            }\n        },\n\n        // Resizes the file at the given index and stores the created blob at\n        // the original position of the files list, returns a Promise object:\n        _processFile: function (files, index, options) {\n            var that = this,\n                dfd = $.Deferred().resolveWith(that, [{\n                    files: files,\n                    index: index\n                }]),\n                chain = dfd.promise();\n            that._processing += 1;\n            $.each(options.process, function (i, settings) {\n                chain = chain.pipe(function (data) {\n                    return that.processActions[settings.action]\n                        .call(this, data, settings);\n                });\n            });\n            chain.always(function () {\n                that._processing -= 1;\n                if (that._processing === 0) {\n                    that.element\n                        .removeClass('fileupload-processing');\n                }\n            });\n            if (that._processing === 1) {\n                that.element.addClass('fileupload-processing');\n            }\n            return chain;\n        },\n\n        // Processes the files given as files property of the data parameter,\n        // returns a Promise object that allows to bind a done handler, which\n        // will be invoked after processing all files (inplace) is done:\n        process: function (data) {\n            var that = this,\n                options = $.extend({}, this.options, data);\n            if (options.process && options.process.length &&\n                    this._isXHRUpload(options)) {\n                $.each(data.files, function (index, file) {\n                    that._processingQueue = that._processingQueue.pipe(\n                        function () {\n                            var dfd = $.Deferred();\n                            that._processFile(data.files, index, options)\n                                .always(function () {\n                                    dfd.resolveWith(that);\n                                });\n                            return dfd.promise();\n                        }\n                    );\n                });\n            }\n            return this._processingQueue;\n        },\n\n        _create: function () {\n            $.blueimp.fileupload.prototype._create.call(this);\n            this._processing = 0;\n            this._processingQueue = $.Deferred().resolveWith(this)\n                .promise();\n        }\n\n    });\n\n}));\n","jquery/fileUploader/jquery.fileupload.js":"/*\n * jQuery File Upload Plugin 5.16.4\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2010, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n */\n\n/*jslint nomen: true, unparam: true, regexp: true */\n/*global define, window, document, Blob, FormData, location */\n\n(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // Register as an anonymous AMD module:\n        define([\n            'jquery',\n            'jquery/ui',\n            'jquery/fileUploader/jquery.iframe-transport'\n        ], factory);\n    } else {\n        // Browser globals:\n        factory(window.jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    // The FileReader API is not actually used, but works as feature detection,\n    // as e.g. Safari supports XHR file uploads via the FormData API,\n    // but not non-multipart XHR file uploads:\n    $.support.xhrFileUpload = !!(window.XMLHttpRequestUpload && window.FileReader);\n    $.support.xhrFormDataFileUpload = !!window.FormData;\n\n    // The fileupload widget listens for change events on file input fields defined\n    // via fileInput setting and paste or drop events of the given dropZone.\n    // In addition to the default jQuery Widget methods, the fileupload widget\n    // exposes the \"add\" and \"send\" methods, to add or directly send files using\n    // the fileupload API.\n    // By default, files added via file input selection, paste, drag & drop or\n    // \"add\" method are uploaded immediately, but it is possible to override\n    // the \"add\" callback option to queue file uploads.\n    $.widget('blueimp.fileupload', {\n\n        options: {\n            // The namespace used for event handler binding on the dropZone and\n            // fileInput collections.\n            // If not set, the name of the widget (\"fileupload\") is used.\n            namespace: undefined,\n            // The drop target collection, by the default the complete document.\n            // Set to null or an empty collection to disable drag & drop support:\n            dropZone: $(document),\n            // The file input field collection, that is listened for change events.\n            // If undefined, it is set to the file input fields inside\n            // of the widget element on plugin initialization.\n            // Set to null or an empty collection to disable the change listener.\n            fileInput: undefined,\n            // By default, the file input field is replaced with a clone after\n            // each input field change event. This is required for iframe transport\n            // queues and allows change events to be fired for the same file\n            // selection, but can be disabled by setting the following option to false:\n            replaceFileInput: true,\n            // The parameter name for the file form data (the request argument name).\n            // If undefined or empty, the name property of the file input field is\n            // used, or \"files[]\" if the file input name property is also empty,\n            // can be a string or an array of strings:\n            paramName: undefined,\n            // By default, each file of a selection is uploaded using an individual\n            // request for XHR type uploads. Set to false to upload file\n            // selections in one request each:\n            singleFileUploads: true,\n            // To limit the number of files uploaded with one XHR request,\n            // set the following option to an integer greater than 0:\n            limitMultiFileUploads: undefined,\n            // Set the following option to true to issue all file upload requests\n            // in a sequential order:\n            sequentialUploads: false,\n            // To limit the number of concurrent uploads,\n            // set the following option to an integer greater than 0:\n            limitConcurrentUploads: undefined,\n            // Set the following option to true to force iframe transport uploads:\n            forceIframeTransport: false,\n            // Set the following option to the location of a redirect url on the\n            // origin server, for cross-domain iframe transport uploads:\n            redirect: undefined,\n            // The parameter name for the redirect url, sent as part of the form\n            // data and set to 'redirect' if this option is empty:\n            redirectParamName: undefined,\n            // Set the following option to the location of a postMessage window,\n            // to enable postMessage transport uploads:\n            postMessage: undefined,\n            // By default, XHR file uploads are sent as multipart/form-data.\n            // The iframe transport is always using multipart/form-data.\n            // Set to false to enable non-multipart XHR uploads:\n            multipart: true,\n            // To upload large files in smaller chunks, set the following option\n            // to a preferred maximum chunk size. If set to 0, null or undefined,\n            // or the browser does not support the required Blob API, files will\n            // be uploaded as a whole.\n            maxChunkSize: undefined,\n            // When a non-multipart upload or a chunked multipart upload has been\n            // aborted, this option can be used to resume the upload by setting\n            // it to the size of the already uploaded bytes. This option is most\n            // useful when modifying the options object inside of the \"add\" or\n            // \"send\" callbacks, as the options are cloned for each file upload.\n            uploadedBytes: undefined,\n            // By default, failed (abort or error) file uploads are removed from the\n            // global progress calculation. Set the following option to false to\n            // prevent recalculating the global progress data:\n            recalculateProgress: true,\n            // Interval in milliseconds to calculate and trigger progress events:\n            progressInterval: 100,\n            // Interval in milliseconds to calculate progress bitrate:\n            bitrateInterval: 500,\n\n            // Additional form data to be sent along with the file uploads can be set\n            // using this option, which accepts an array of objects with name and\n            // value properties, a function returning such an array, a FormData\n            // object (for XHR file uploads), or a simple object.\n            // The form of the first fileInput is given as parameter to the function:\n            formData: function (form) {\n                return form.serializeArray();\n            },\n\n            // The add callback is invoked as soon as files are added to the fileupload\n            // widget (via file input selection, drag & drop, paste or add API call).\n            // If the singleFileUploads option is enabled, this callback will be\n            // called once for each file in the selection for XHR file uplaods, else\n            // once for each file selection.\n            // The upload starts when the submit method is invoked on the data parameter.\n            // The data object contains a files property holding the added files\n            // and allows to override plugin options as well as define ajax settings.\n            // Listeners for this callback can also be bound the following way:\n            // .bind('fileuploadadd', func);\n            // data.submit() returns a Promise object and allows to attach additional\n            // handlers using jQuery's Deferred callbacks:\n            // data.submit().done(func).fail(func).always(func);\n            add: function (e, data) {\n                data.submit();\n            },\n\n            // Other callbacks:\n            // Callback for the submit event of each file upload:\n            // submit: function (e, data) {}, // .bind('fileuploadsubmit', func);\n            // Callback for the start of each file upload request:\n            // send: function (e, data) {}, // .bind('fileuploadsend', func);\n            // Callback for successful uploads:\n            // done: function (e, data) {}, // .bind('fileuploaddone', func);\n            // Callback for failed (abort or error) uploads:\n            // fail: function (e, data) {}, // .bind('fileuploadfail', func);\n            // Callback for completed (success, abort or error) requests:\n            // always: function (e, data) {}, // .bind('fileuploadalways', func);\n            // Callback for upload progress events:\n            // progress: function (e, data) {}, // .bind('fileuploadprogress', func);\n            // Callback for global upload progress events:\n            // progressall: function (e, data) {}, // .bind('fileuploadprogressall', func);\n            // Callback for uploads start, equivalent to the global ajaxStart event:\n            // start: function (e) {}, // .bind('fileuploadstart', func);\n            // Callback for uploads stop, equivalent to the global ajaxStop event:\n            // stop: function (e) {}, // .bind('fileuploadstop', func);\n            // Callback for change events of the fileInput collection:\n            // change: function (e, data) {}, // .bind('fileuploadchange', func);\n            // Callback for paste events to the dropZone collection:\n            // paste: function (e, data) {}, // .bind('fileuploadpaste', func);\n            // Callback for drop events of the dropZone collection:\n            // drop: function (e, data) {}, // .bind('fileuploaddrop', func);\n            // Callback for dragover events of the dropZone collection:\n            // dragover: function (e) {}, // .bind('fileuploaddragover', func);\n\n            // The plugin options are used as settings object for the ajax calls.\n            // The following are jQuery ajax settings required for the file uploads:\n            processData: false,\n            contentType: false,\n            cache: false\n        },\n\n        // A list of options that require a refresh after assigning a new value:\n        _refreshOptionsList: [\n            'namespace',\n            'dropZone',\n            'fileInput',\n            'multipart',\n            'forceIframeTransport'\n        ],\n\n        _BitrateTimer: function () {\n            this.timestamp = +(new Date());\n            this.loaded = 0;\n            this.bitrate = 0;\n            this.getBitrate = function (now, loaded, interval) {\n                var timeDiff = now - this.timestamp;\n                if (!this.bitrate || !interval || timeDiff > interval) {\n                    this.bitrate = (loaded - this.loaded) * (1000 / timeDiff) * 8;\n                    this.loaded = loaded;\n                    this.timestamp = now;\n                }\n                return this.bitrate;\n            };\n        },\n\n        _isXHRUpload: function (options) {\n            return !options.forceIframeTransport &&\n                ((!options.multipart && $.support.xhrFileUpload) ||\n                $.support.xhrFormDataFileUpload);\n        },\n\n        _getFormData: function (options) {\n            var formData;\n            if (typeof options.formData === 'function') {\n                return options.formData(options.form);\n            }\n\t\t\tif ($.isArray(options.formData)) {\n                return options.formData;\n            }\n\t\t\tif (options.formData) {\n                formData = [];\n                $.each(options.formData, function (name, value) {\n                    formData.push({name: name, value: value});\n                });\n                return formData;\n            }\n            return [];\n        },\n\n        _getTotal: function (files) {\n            var total = 0;\n            $.each(files, function (index, file) {\n                total += file.size || 1;\n            });\n            return total;\n        },\n\n        _onProgress: function (e, data) {\n            if (e.lengthComputable) {\n                var now = +(new Date()),\n                    total,\n                    loaded;\n                if (data._time && data.progressInterval &&\n                        (now - data._time < data.progressInterval) &&\n                        e.loaded !== e.total) {\n                    return;\n                }\n                data._time = now;\n                total = data.total || this._getTotal(data.files);\n                loaded = parseInt(\n                    e.loaded / e.total * (data.chunkSize || total),\n                    10\n                ) + (data.uploadedBytes || 0);\n                this._loaded += loaded - (data.loaded || data.uploadedBytes || 0);\n                data.lengthComputable = true;\n                data.loaded = loaded;\n                data.total = total;\n                data.bitrate = data._bitrateTimer.getBitrate(\n                    now,\n                    loaded,\n                    data.bitrateInterval\n                );\n                // Trigger a custom progress event with a total data property set\n                // to the file size(s) of the current upload and a loaded data\n                // property calculated accordingly:\n                this._trigger('progress', e, data);\n                // Trigger a global progress event for all current file uploads,\n                // including ajax calls queued for sequential file uploads:\n                this._trigger('progressall', e, {\n                    lengthComputable: true,\n                    loaded: this._loaded,\n                    total: this._total,\n                    bitrate: this._bitrateTimer.getBitrate(\n                        now,\n                        this._loaded,\n                        data.bitrateInterval\n                    )\n                });\n            }\n        },\n\n        _initProgressListener: function (options) {\n            var that = this,\n                xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr();\n            // Accesss to the native XHR object is required to add event listeners\n            // for the upload progress event:\n            if (xhr.upload) {\n                $(xhr.upload).bind('progress', function (e) {\n                    var oe = e.originalEvent;\n                    // Make sure the progress event properties get copied over:\n                    e.lengthComputable = oe.lengthComputable;\n                    e.loaded = oe.loaded;\n                    e.total = oe.total;\n                    that._onProgress(e, options);\n                });\n                options.xhr = function () {\n                    return xhr;\n                };\n            }\n        },\n\n        _initXHRData: function (options) {\n            var formData,\n                file = options.files[0],\n                // Ignore non-multipart setting if not supported:\n                multipart = options.multipart || !$.support.xhrFileUpload,\n                paramName = options.paramName[0];\n            if (!multipart || options.blob) {\n                // For non-multipart uploads and chunked uploads,\n                // file meta data is not part of the request body,\n                // so we transmit this data as part of the HTTP headers.\n                // For cross domain requests, these headers must be allowed\n                // via Access-Control-Allow-Headers or removed using\n                // the beforeSend callback:\n                options.headers = $.extend(options.headers, {\n                    'X-File-Name': file.name,\n                    'X-File-Type': file.type,\n                    'X-File-Size': file.size\n                });\n                if (!options.blob) {\n                    // Non-chunked non-multipart upload:\n                    options.contentType = file.type;\n                    options.data = file;\n                } else if (!multipart) {\n                    // Chunked non-multipart upload:\n                    options.contentType = 'application/octet-stream';\n                    options.data = options.blob;\n                }\n            }\n            if (multipart && $.support.xhrFormDataFileUpload) {\n                if (options.postMessage) {\n                    // window.postMessage does not allow sending FormData\n                    // objects, so we just add the File/Blob objects to\n                    // the formData array and let the postMessage window\n                    // create the FormData object out of this array:\n                    formData = this._getFormData(options);\n                    if (options.blob) {\n                        formData.push({\n                            name: paramName,\n                            value: options.blob\n                        });\n                    } else {\n                        $.each(options.files, function (index, file) {\n                            formData.push({\n                                name: options.paramName[index] || paramName,\n                                value: file\n                            });\n                        });\n                    }\n                } else {\n                    if (options.formData instanceof FormData) {\n                        formData = options.formData;\n                    } else {\n                        formData = new FormData();\n                        $.each(this._getFormData(options), function (index, field) {\n                            formData.append(field.name, field.value);\n                        });\n                    }\n                    if (options.blob) {\n                        formData.append(paramName, options.blob, file.name);\n                    } else {\n                        $.each(options.files, function (index, file) {\n                            // File objects are also Blob instances.\n                            // This check allows the tests to run with\n                            // dummy objects:\n                            if (file instanceof Blob) {\n                                formData.append(\n                                    options.paramName[index] || paramName,\n                                    file,\n                                    file.name\n                                );\n                            }\n                        });\n                    }\n                }\n                options.data = formData;\n            }\n            // Blob reference is not needed anymore, free memory:\n            options.blob = null;\n        },\n\n        _initIframeSettings: function (options) {\n            // Setting the dataType to iframe enables the iframe transport:\n            options.dataType = 'iframe ' + (options.dataType || '');\n            // The iframe transport accepts a serialized array as form data:\n            options.formData = this._getFormData(options);\n            // Add redirect url to form data on cross-domain uploads:\n            if (options.redirect && $('<a></a>').prop('href', options.url)\n                    .prop('host') !== location.host) {\n                options.formData.push({\n                    name: options.redirectParamName || 'redirect',\n                    value: options.redirect\n                });\n            }\n        },\n\n        _initDataSettings: function (options) {\n            if (this._isXHRUpload(options)) {\n                if (!this._chunkedUpload(options, true)) {\n                    if (!options.data) {\n                        this._initXHRData(options);\n                    }\n                    this._initProgressListener(options);\n                }\n                if (options.postMessage) {\n                    // Setting the dataType to postmessage enables the\n                    // postMessage transport:\n                    options.dataType = 'postmessage ' + (options.dataType || '');\n                }\n            } else {\n                this._initIframeSettings(options, 'iframe');\n            }\n        },\n\n        _getParamName: function (options) {\n            var fileInput = $(options.fileInput),\n                paramName = options.paramName;\n            if (!paramName) {\n                paramName = [];\n                fileInput.each(function () {\n                    var input = $(this),\n                        name = input.prop('name') || 'files[]',\n                        i = (input.prop('files') || [1]).length;\n                    while (i) {\n                        paramName.push(name);\n                        i -= 1;\n                    }\n                });\n                if (!paramName.length) {\n                    paramName = [fileInput.prop('name') || 'files[]'];\n                }\n            } else if (!$.isArray(paramName)) {\n                paramName = [paramName];\n            }\n            return paramName;\n        },\n\n        _initFormSettings: function (options) {\n            // Retrieve missing options from the input field and the\n            // associated form, if available:\n            if (!options.form || !options.form.length) {\n                options.form = $(options.fileInput.prop('form'));\n            }\n            options.paramName = this._getParamName(options);\n            if (!options.url) {\n                options.url = options.form.prop('action') || location.href;\n            }\n            // The HTTP request method must be \"POST\" or \"PUT\":\n            options.type = (options.type || options.form.prop('method') || '')\n                .toUpperCase();\n            if (options.type !== 'POST' && options.type !== 'PUT') {\n                options.type = 'POST';\n            }\n            if (!options.formAcceptCharset) {\n                options.formAcceptCharset = options.form.attr('accept-charset');\n            }\n        },\n\n        _getAJAXSettings: function (data) {\n            var options = $.extend({}, this.options, data);\n            this._initFormSettings(options);\n            this._initDataSettings(options);\n            return options;\n        },\n\n        // Maps jqXHR callbacks to the equivalent\n        // methods of the given Promise object:\n        _enhancePromise: function (promise) {\n            promise.success = promise.done;\n            promise.error = promise.fail;\n            promise.complete = promise.always;\n            return promise;\n        },\n\n        // Creates and returns a Promise object enhanced with\n        // the jqXHR methods abort, success, error and complete:\n        _getXHRPromise: function (resolveOrReject, context, args) {\n            var dfd = $.Deferred(),\n                promise = dfd.promise();\n            context = context || this.options.context || promise;\n            if (resolveOrReject === true) {\n                dfd.resolveWith(context, args);\n            } else if (resolveOrReject === false) {\n                dfd.rejectWith(context, args);\n            }\n            promise.abort = dfd.promise;\n            return this._enhancePromise(promise);\n        },\n\n        // Uploads a file in multiple, sequential requests\n        // by splitting the file up in multiple blob chunks.\n        // If the second parameter is true, only tests if the file\n        // should be uploaded in chunks, but does not invoke any\n        // upload requests:\n        _chunkedUpload: function (options, testOnly) {\n            var that = this,\n                file = options.files[0],\n                fs = file.size,\n                ub = options.uploadedBytes = options.uploadedBytes || 0,\n                mcs = options.maxChunkSize || fs,\n                // Use the Blob methods with the slice implementation\n                // according to the W3C Blob API specification:\n                slice = file.webkitSlice || file.mozSlice || file.slice,\n                upload,\n                n,\n                jqXHR,\n                pipe;\n            if (!(this._isXHRUpload(options) && slice && (ub || mcs < fs)) ||\n                    options.data) {\n                return false;\n            }\n            if (testOnly) {\n                return true;\n            }\n            if (ub >= fs) {\n                file.error = 'uploadedBytes';\n                return this._getXHRPromise(\n                    false,\n                    options.context,\n                    [null, 'error', file.error]\n                );\n            }\n            // n is the number of blobs to upload,\n            // calculated via filesize, uploaded bytes and max chunk size:\n            n = Math.ceil((fs - ub) / mcs);\n            // The chunk upload method accepting the chunk number as parameter:\n            upload = function (i) {\n                if (!i) {\n                    return that._getXHRPromise(true, options.context);\n                }\n                // Upload the blobs in sequential order:\n                return upload(i -= 1).pipe(function () {\n                    // Clone the options object for each chunk upload:\n                    var o = $.extend({}, options);\n                    o.blob = slice.call(\n                        file,\n                        ub + i * mcs,\n                        ub + (i + 1) * mcs\n                    );\n                    // Expose the chunk index:\n                    o.chunkIndex = i;\n                    // Expose the number of chunks:\n                    o.chunksNumber = n;\n                    // Store the current chunk size, as the blob itself\n                    // will be dereferenced after data processing:\n                    o.chunkSize = o.blob.size;\n                    // Process the upload data (the blob and potential form data):\n                    that._initXHRData(o);\n                    // Add progress listeners for this chunk upload:\n                    that._initProgressListener(o);\n                    jqXHR = ($.ajax(o) || that._getXHRPromise(false, o.context))\n                        .done(function () {\n                            // Create a progress event if upload is done and\n                            // no progress event has been invoked for this chunk:\n                            if (!o.loaded) {\n                                that._onProgress($.Event('progress', {\n                                    lengthComputable: true,\n                                    loaded: o.chunkSize,\n                                    total: o.chunkSize\n                                }), o);\n                            }\n                            options.uploadedBytes = o.uploadedBytes +=\n                                o.chunkSize;\n                        });\n                    return jqXHR;\n                });\n            };\n            // Return the piped Promise object, enhanced with an abort method,\n            // which is delegated to the jqXHR object of the current upload,\n            // and jqXHR callbacks mapped to the equivalent Promise methods:\n            pipe = upload(n);\n            pipe.abort = function () {\n                return jqXHR.abort();\n            };\n            return this._enhancePromise(pipe);\n        },\n\n        _beforeSend: function (e, data) {\n            if (this._active === 0) {\n                // the start callback is triggered when an upload starts\n                // and no other uploads are currently running,\n                // equivalent to the global ajaxStart event:\n                this._trigger('start');\n                // Set timer for global bitrate progress calculation:\n                this._bitrateTimer = new this._BitrateTimer();\n            }\n            this._active += 1;\n            // Initialize the global progress values:\n            this._loaded += data.uploadedBytes || 0;\n            this._total += this._getTotal(data.files);\n        },\n\n        _onDone: function (result, textStatus, jqXHR, options) {\n            if (!this._isXHRUpload(options)) {\n                // Create a progress event for each iframe load:\n                this._onProgress($.Event('progress', {\n                    lengthComputable: true,\n                    loaded: 1,\n                    total: 1\n                }), options);\n            }\n            options.result = result;\n            options.textStatus = textStatus;\n            options.jqXHR = jqXHR;\n            this._trigger('done', null, options);\n        },\n\n        _onFail: function (jqXHR, textStatus, errorThrown, options) {\n            options.jqXHR = jqXHR;\n            options.textStatus = textStatus;\n            options.errorThrown = errorThrown;\n            this._trigger('fail', null, options);\n            if (options.recalculateProgress) {\n                // Remove the failed (error or abort) file upload from\n                // the global progress calculation:\n                this._loaded -= options.loaded || options.uploadedBytes || 0;\n                this._total -= options.total || this._getTotal(options.files);\n            }\n        },\n\n        _onAlways: function (jqXHRorResult, textStatus, jqXHRorError, options) {\n            this._active -= 1;\n            options.textStatus = textStatus;\n            if (jqXHRorError && jqXHRorError.always) {\n                options.jqXHR = jqXHRorError;\n                options.result = jqXHRorResult;\n            } else {\n                options.jqXHR = jqXHRorResult;\n                options.errorThrown = jqXHRorError;\n            }\n            this._trigger('always', null, options);\n            if (this._active === 0) {\n                // The stop callback is triggered when all uploads have\n                // been completed, equivalent to the global ajaxStop event:\n                this._trigger('stop');\n                // Reset the global progress values:\n                this._loaded = this._total = 0;\n                this._bitrateTimer = null;\n            }\n        },\n\n        _onSend: function (e, data) {\n            var that = this,\n                jqXHR,\n                slot,\n                pipe,\n                options = that._getAJAXSettings(data),\n                send = function (resolve, args) {\n                    that._sending += 1;\n                    // Set timer for bitrate progress calculation:\n                    options._bitrateTimer = new that._BitrateTimer();\n                    jqXHR = jqXHR || (\n                        (resolve !== false &&\n                        that._trigger('send', e, options) !== false &&\n                        (that._chunkedUpload(options) || $.ajax(options))) ||\n                        that._getXHRPromise(false, options.context, args)\n                    ).done(function (result, textStatus, jqXHR) {\n                        that._onDone(result, textStatus, jqXHR, options);\n                    }).fail(function (jqXHR, textStatus, errorThrown) {\n                        that._onFail(jqXHR, textStatus, errorThrown, options);\n                    }).always(function (jqXHRorResult, textStatus, jqXHRorError) {\n                        that._sending -= 1;\n                        that._onAlways(\n                            jqXHRorResult,\n                            textStatus,\n                            jqXHRorError,\n                            options\n                        );\n                        if (options.limitConcurrentUploads &&\n                                options.limitConcurrentUploads > that._sending) {\n                            // Start the next queued upload,\n                            // that has not been aborted:\n                            var nextSlot = that._slots.shift(),\n                                isPending;\n                            while (nextSlot) {\n                                // jQuery 1.6 doesn't provide .state(),\n                                // while jQuery 1.8+ removed .isRejected():\n                                isPending = nextSlot.state ?\n                                        nextSlot.state() === 'pending' :\n                                        !nextSlot.isRejected();\n                                if (isPending) {\n                                    nextSlot.resolve();\n                                    break;\n                                }\n                                nextSlot = that._slots.shift();\n                            }\n                        }\n                    });\n                    return jqXHR;\n                };\n            this._beforeSend(e, options);\n            if (this.options.sequentialUploads ||\n                    (this.options.limitConcurrentUploads &&\n                    this.options.limitConcurrentUploads <= this._sending)) {\n                if (this.options.limitConcurrentUploads > 1) {\n                    slot = $.Deferred();\n                    this._slots.push(slot);\n                    pipe = slot.pipe(send);\n                } else {\n                    pipe = (this._sequence = this._sequence.pipe(send, send));\n                }\n                // Return the piped Promise object, enhanced with an abort method,\n                // which is delegated to the jqXHR object of the current upload,\n                // and jqXHR callbacks mapped to the equivalent Promise methods:\n                pipe.abort = function () {\n                    var args = [undefined, 'abort', 'abort'];\n                    if (!jqXHR) {\n                        if (slot) {\n                            slot.rejectWith(pipe, args);\n                        }\n                        return send(false, args);\n                    }\n                    return jqXHR.abort();\n                };\n                return this._enhancePromise(pipe);\n            }\n            return send();\n        },\n\n        _onAdd: function (e, data) {\n            var that = this,\n                result = true,\n                options = $.extend({}, this.options, data),\n                limit = options.limitMultiFileUploads,\n                paramName = this._getParamName(options),\n                paramNameSet,\n                paramNameSlice,\n                fileSet,\n                i;\n            if (!(options.singleFileUploads || limit) ||\n                    !this._isXHRUpload(options)) {\n                fileSet = [data.files];\n                paramNameSet = [paramName];\n            } else if (!options.singleFileUploads && limit) {\n                fileSet = [];\n                paramNameSet = [];\n                for (i = 0; i < data.files.length; i += limit) {\n                    fileSet.push(data.files.slice(i, i + limit));\n                    paramNameSlice = paramName.slice(i, i + limit);\n                    if (!paramNameSlice.length) {\n                        paramNameSlice = paramName;\n                    }\n                    paramNameSet.push(paramNameSlice);\n                }\n            } else {\n                paramNameSet = paramName;\n            }\n            data.originalFiles = data.files;\n            $.each(fileSet || data.files, function (index, element) {\n                var newData = $.extend({}, data);\n                newData.files = fileSet ? element : [element];\n                newData.paramName = paramNameSet[index];\n                newData.submit = function () {\n                    newData.jqXHR = this.jqXHR =\n                        (that._trigger('submit', e, this) !== false) &&\n                        that._onSend(e, this);\n                    return this.jqXHR;\n                };\n                return (result = that._trigger('add', e, newData));\n            });\n            return result;\n        },\n\n        _replaceFileInput: function (input) {\n            var inputClone = input.clone(true);\n            $('<form></form>').append(inputClone)[0].reset();\n            // Detaching allows to insert the fileInput on another form\n            // without loosing the file input value:\n            input.after(inputClone).detach();\n            // Avoid memory leaks with the detached file input:\n            $.cleanData(input.unbind('remove'));\n            // Replace the original file input element in the fileInput\n            // collection with the clone, which has been copied including\n            // event handlers:\n            this.options.fileInput = this.options.fileInput.map(function (i, el) {\n                if (el === input[0]) {\n                    return inputClone[0];\n                }\n                return el;\n            });\n            // If the widget has been initialized on the file input itself,\n            // override this.element with the file input clone:\n            if (input[0] === this.element[0]) {\n                this.element = inputClone;\n            }\n        },\n\n        _handleFileTreeEntry: function (entry, path) {\n            var that = this,\n                dfd = $.Deferred(),\n                errorHandler = function () {\n                    dfd.reject();\n                },\n                dirReader;\n            path = path || '';\n            if (entry.isFile) {\n                entry.file(function (file) {\n                    file.relativePath = path;\n                    dfd.resolve(file);\n                }, errorHandler);\n            } else if (entry.isDirectory) {\n                dirReader = entry.createReader();\n                dirReader.readEntries(function (entries) {\n                    that._handleFileTreeEntries(\n                        entries,\n                        path + entry.name + '/'\n                    ).done(function (files) {\n                        dfd.resolve(files);\n                    }).fail(errorHandler);\n                }, errorHandler);\n            } else {\n                errorHandler();\n            }\n            return dfd.promise();\n        },\n\n        _handleFileTreeEntries: function (entries, path) {\n            var that = this;\n            return $.when.apply(\n                $,\n                $.map(entries, function (entry) {\n                    return that._handleFileTreeEntry(entry, path);\n                })\n            ).pipe(function () {\n                return Array.prototype.concat.apply(\n                    [],\n                    arguments\n                );\n            });\n        },\n\n        _getDroppedFiles: function (dataTransfer) {\n            dataTransfer = dataTransfer || {};\n            var items = dataTransfer.items;\n            if (items && items.length && (items[0].webkitGetAsEntry ||\n                    items[0].getAsEntry)) {\n                return this._handleFileTreeEntries(\n                    $.map(items, function (item) {\n                        if (item.webkitGetAsEntry) {\n                            return item.webkitGetAsEntry();\n                        }\n                        return item.getAsEntry();\n                    })\n                );\n            }\n            return $.Deferred().resolve(\n                $.makeArray(dataTransfer.files)\n            ).promise();\n        },\n\n        _getFileInputFiles: function (fileInput) {\n            fileInput = $(fileInput);\n            var entries = fileInput.prop('webkitEntries') ||\n                    fileInput.prop('entries'),\n                files,\n                value;\n            if (entries && entries.length) {\n                return this._handleFileTreeEntries(entries);\n            }\n            files = $.makeArray(fileInput.prop('files'));\n            if (!files.length) {\n                value = fileInput.prop('value');\n                if (!value) {\n                    return $.Deferred().reject([]).promise();\n                }\n                // If the files property is not available, the browser does not\n                // support the File API and we add a pseudo File object with\n                // the input value as name with path information removed:\n                files = [{name: value.replace(/^.*\\\\/, '')}];\n            }\n            return $.Deferred().resolve(files).promise();\n        },\n\n        _onChange: function (e) {\n            var that = e.data.fileupload,\n                data = {\n                    fileInput: $(e.target),\n                    form: $(e.target.form)\n                };\n            that._getFileInputFiles(data.fileInput).always(function (files) {\n                data.files = files;\n                if (that.options.replaceFileInput) {\n                    that._replaceFileInput(data.fileInput);\n                }\n                if (that._trigger('change', e, data) !== false) {\n                    that._onAdd(e, data);\n                }\n            });\n        },\n\n        _onPaste: function (e) {\n            var that = e.data.fileupload,\n                cbd = e.originalEvent.clipboardData,\n                items = (cbd && cbd.items) || [],\n                data = {files: []};\n            $.each(items, function (index, item) {\n                var file = item.getAsFile && item.getAsFile();\n                if (file) {\n                    data.files.push(file);\n                }\n            });\n            if (that._trigger('paste', e, data) === false ||\n                    that._onAdd(e, data) === false) {\n                return false;\n            }\n        },\n\n        _onDrop: function (e) {\n            e.preventDefault();\n            var that = e.data.fileupload,\n                dataTransfer = e.dataTransfer = e.originalEvent.dataTransfer,\n                data = {};\n            that._getDroppedFiles(dataTransfer).always(function (files) {\n                data.files = files;\n                if (that._trigger('drop', e, data) !== false) {\n                    that._onAdd(e, data);\n                }\n            });\n        },\n\n        _onDragOver: function (e) {\n            var that = e.data.fileupload,\n                dataTransfer = e.dataTransfer = e.originalEvent.dataTransfer;\n            if (that._trigger('dragover', e) === false) {\n                return false;\n            }\n            if (dataTransfer) {\n                dataTransfer.dropEffect = 'copy';\n            }\n            e.preventDefault();\n        },\n\n        _initEventHandlers: function () {\n            var ns = this.options.namespace;\n            if (this._isXHRUpload(this.options)) {\n                this.options.dropZone\n                    .bind('dragover.' + ns, {fileupload: this}, this._onDragOver)\n                    .bind('drop.' + ns, {fileupload: this}, this._onDrop)\n                    .bind('paste.' + ns, {fileupload: this}, this._onPaste);\n            }\n            this.options.fileInput\n                .bind('change.' + ns, {fileupload: this}, this._onChange);\n        },\n\n        _destroyEventHandlers: function () {\n            var ns = this.options.namespace;\n            this.options.dropZone\n                .unbind('dragover.' + ns, this._onDragOver)\n                .unbind('drop.' + ns, this._onDrop)\n                .unbind('paste.' + ns, this._onPaste);\n            this.options.fileInput\n                .unbind('change.' + ns, this._onChange);\n        },\n\n        _setOption: function (key, value) {\n            var refresh = $.inArray(key, this._refreshOptionsList) !== -1;\n            if (refresh) {\n                this._destroyEventHandlers();\n            }\n            $.Widget.prototype._setOption.call(this, key, value);\n            if (refresh) {\n                this._initSpecialOptions();\n                this._initEventHandlers();\n            }\n        },\n\n        _initSpecialOptions: function () {\n            var options = this.options;\n            if (options.fileInput === undefined) {\n                options.fileInput = this.element.is('input[type=\"file\"]') ?\n                        this.element : this.element.find('input[type=\"file\"]');\n            } else if (!(options.fileInput instanceof $)) {\n                options.fileInput = $(options.fileInput);\n            }\n            if (!(options.dropZone instanceof $)) {\n                options.dropZone = $(options.dropZone);\n            }\n        },\n\n        _create: function () {\n            var options = this.options;\n            // Initialize options set via HTML5 data-attributes:\n            $.extend(options, $(this.element[0].cloneNode(false)).data());\n            options.namespace = options.namespace || this.widgetName;\n            this._initSpecialOptions();\n            this._slots = [];\n            this._sequence = this._getXHRPromise(true);\n            this._sending = this._active = this._loaded = this._total = 0;\n            this._initEventHandlers();\n        },\n\n        destroy: function () {\n            this._destroyEventHandlers();\n            $.Widget.prototype.destroy.call(this);\n        },\n\n        enable: function () {\n            var wasDisabled = false;\n            if (this.options.disabled) {\n                wasDisabled = true;\n            }\n            $.Widget.prototype.enable.call(this);\n            if (wasDisabled) {\n                this._initEventHandlers();\n            }\n        },\n\n        disable: function () {\n            if (!this.options.disabled) {\n                this._destroyEventHandlers();\n            }\n            $.Widget.prototype.disable.call(this);\n        },\n\n        // This method is exposed to the widget API and allows adding files\n        // using the fileupload API. The data parameter accepts an object which\n        // must have a files property and can contain additional options:\n        // .fileupload('add', {files: filesList});\n        add: function (data) {\n            var that = this;\n            if (!data || this.options.disabled) {\n                return;\n            }\n            if (data.fileInput && !data.files) {\n                this._getFileInputFiles(data.fileInput).always(function (files) {\n                    data.files = files;\n                    that._onAdd(null, data);\n                });\n            } else {\n                data.files = $.makeArray(data.files);\n                this._onAdd(null, data);\n            }\n        },\n\n        // This method is exposed to the widget API and allows sending files\n        // using the fileupload API. The data parameter accepts an object which\n        // must have a files or fileInput property and can contain additional options:\n        // .fileupload('send', {files: filesList});\n        // The method returns a Promise object for the file upload call.\n        send: function (data) {\n            if (data && !this.options.disabled) {\n                if (data.fileInput && !data.files) {\n                    var that = this,\n                        dfd = $.Deferred(),\n                        promise = dfd.promise(),\n                        jqXHR,\n                        aborted;\n                    promise.abort = function () {\n                        aborted = true;\n                        if (jqXHR) {\n                            return jqXHR.abort();\n                        }\n                        dfd.reject(null, 'abort', 'abort');\n                        return promise;\n                    };\n                    this._getFileInputFiles(data.fileInput).always(\n                        function (files) {\n                            if (aborted) {\n                                return;\n                            }\n                            data.files = files;\n                            jqXHR = that._onSend(null, data).then(\n                                function (result, textStatus, jqXHR) {\n                                    dfd.resolve(result, textStatus, jqXHR);\n                                },\n                                function (jqXHR, textStatus, errorThrown) {\n                                    dfd.reject(jqXHR, textStatus, errorThrown);\n                                }\n                            );\n                        }\n                    );\n                    return this._enhancePromise(promise);\n                }\n                data.files = $.makeArray(data.files);\n                if (data.files.length) {\n                    return this._onSend(null, data);\n                }\n            }\n            return this._getXHRPromise(false, data && data.context);\n        }\n\n    });\n\n}));\n","jquery/fileUploader/main.js":"/*\n * jQuery File Upload Plugin JS Example 6.7\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2010, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n */\n\n/*jslint nomen: true, unparam: true, regexp: true */\n/*global $, window, document */\n\n$(function () {\n    'use strict';\n\n    // Initialize the jQuery File Upload widget:\n    $('#fileupload').fileupload();\n\n    // Enable iframe cross-domain access via redirect option:\n    $('#fileupload').fileupload(\n        'option',\n        'redirect',\n        window.location.href.replace(\n            /\\/[^\\/]*$/,\n            '/cors/result.html?%s'\n        )\n    );\n\n    if (window.location.hostname === 'blueimp.github.com') {\n        // Demo settings:\n        $('#fileupload').fileupload('option', {\n            url: '//jquery-file-upload.appspot.com/',\n            maxFileSize: 5000000,\n            acceptFileTypes: /(\\.|\\/)(gif|jpe?g|png)$/i,\n            process: [\n                {\n                    action: 'load',\n                    fileTypes: /^image\\/(gif|jpeg|png)$/,\n                    maxFileSize: 20000000 // 20MB\n                },\n                {\n                    action: 'resize',\n                    maxWidth: 1440,\n                    maxHeight: 900\n                },\n                {\n                    action: 'save'\n                }\n            ]\n        });\n        // Upload server status check for browsers with CORS support:\n        if ($.support.cors) {\n            $.ajax({\n                url: '//jquery-file-upload.appspot.com/',\n                type: 'HEAD'\n            }).fail(function () {\n                $('<span class=\"alert alert-error\"/>')\n                    .text($.mage.__('Upload server currently unavailable - ') +\n                            new Date())\n                    .appendTo('#fileupload');\n            });\n        }\n    } else {\n        // Load existing files:\n        $('#fileupload').each(function () {\n            var that = this;\n            $.getJSON(this.action, function (result) {\n                if (result && result.length) {\n                    $(that).fileupload('option', 'done')\n                        .call(that, null, {result: result});\n                }\n            });\n        });\n    }\n\n});\n","jquery/fileUploader/load-image.js":"(function(a){\"use strict\";var b=function(a,c,d){var e=document.createElement(\"img\"),f,g;return e.onerror=c,e.onload=function(){g&&(!d||!d.noRevoke)&&b.revokeObjectURL(g),c(b.scale(e,d))},window.Blob&&a instanceof Blob||window.File&&a instanceof File?f=g=b.createObjectURL(a):f=a,f?(e.src=f,e):b.readFile(a,function(a){e.src=a})},c=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;b.scale=function(a,b){b=b||{};var c=document.createElement(\"canvas\"),d=a.width,e=a.height,f=Math.max((b.minWidth||d)/d,(b.minHeight||e)/e);return f>1&&(d=parseInt(d*f,10),e=parseInt(e*f,10)),f=Math.min((b.maxWidth||d)/d,(b.maxHeight||e)/e),f<1&&(d=parseInt(d*f,10),e=parseInt(e*f,10)),a.getContext||b.canvas&&c.getContext?(c.width=d,c.height=e,c.getContext(\"2d\").drawImage(a,0,0,d,e),c):(a.width=d,a.height=e,a)},b.createObjectURL=function(a){return c?c.createObjectURL(a):!1},b.revokeObjectURL=function(a){return c?c.revokeObjectURL(a):!1},b.readFile=function(a,b){if(window.FileReader&&FileReader.prototype.readAsDataURL){var c=new FileReader;return c.onload=function(a){b(a.target.result)},c.readAsDataURL(a),c}return!1},typeof define==\"function\"&&define.amd?define(function(){return b}):a.loadImage=b})(this);","jquery/fileUploader/canvas-to-blob.js":"(function(a){\"use strict\";var b=a.HTMLCanvasElement&&a.HTMLCanvasElement.prototype,c=a.Blob&&function(){try{return Boolean(new Blob)}catch(a){return!1}}(),d=c&&a.Uint8Array&&function(){try{return(new Blob([new Uint8Array(100)])).size===100}catch(a){return!1}}(),e=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder,f=(c||e)&&a.atob&&a.ArrayBuffer&&a.Uint8Array&&function(a){var b,f,g,h,i,j;a.split(\",\")[0].indexOf(\"base64\")>=0?b=atob(a.split(\",\")[1]):b=decodeURIComponent(a.split(\",\")[1]),f=new ArrayBuffer(b.length),g=new Uint8Array(f);for(h=0;h<b.length;h+=1)g[h]=b.charCodeAt(h);return i=a.split(\",\")[0].split(\":\")[1].split(\";\")[0],c?new Blob([d?g:f],{type:i}):(j=new e,j.append(f),j.getBlob(i))};a.HTMLCanvasElement&&!b.toBlob&&(b.mozGetAsFile?b.toBlob=function(a,b){a(this.mozGetAsFile(\"blob\",b))}:b.toDataURL&&f&&(b.toBlob=function(a,b){a(f(this.toDataURL(b)))})),typeof define==\"function\"&&define.amd?define(function(){return f}):a.dataURLtoBlob=f})(this);","jquery/fileUploader/jquery.iframe-transport.js":"/*\n * jQuery Iframe Transport Plugin 1.5\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n */\n\n/*jslint unparam: true, nomen: true */\n/*global define, window, document */\n\n(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // Register as an anonymous AMD module:\n        define(['jquery'], factory);\n    } else {\n        // Browser globals:\n        factory(window.jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    // Helper variable to create unique names for the transport iframes:\n    var counter = 0;\n\n    // The iframe transport accepts three additional options:\n    // options.fileInput: a jQuery collection of file input fields\n    // options.paramName: the parameter name for the file form data,\n    //  overrides the name property of the file input field(s),\n    //  can be a string or an array of strings.\n    // options.formData: an array of objects with name and value properties,\n    //  equivalent to the return data of .serializeArray(), e.g.:\n    //  [{name: 'a', value: 1}, {name: 'b', value: 2}]\n    $.ajaxTransport('iframe', function (options) {\n        if (options.async && (options.type === 'POST' || options.type === 'GET')) {\n            var form,\n                iframe;\n            return {\n                send: function (_, completeCallback) {\n                    form = $('<form style=\"display:none;\"></form>');\n                    form.attr('accept-charset', options.formAcceptCharset);\n                    // javascript:false as initial iframe src\n                    // prevents warning popups on HTTPS in IE6.\n                    // IE versions below IE8 cannot set the name property of\n                    // elements that have already been added to the DOM,\n                    // so we set the name along with the iframe HTML markup:\n                    iframe = $(\n                        '<iframe src=\"javascript:false;\" name=\"iframe-transport-' +\n                            (counter += 1) + '\"></iframe>'\n                    ).bind('load', function () {\n                        var fileInputClones,\n                            paramNames = $.isArray(options.paramName) ?\n                                    options.paramName : [options.paramName];\n                        iframe\n                            .unbind('load')\n                            .bind('load', function () {\n                                var response;\n                                // Wrap in a try/catch block to catch exceptions thrown\n                                // when trying to access cross-domain iframe contents:\n                                try {\n                                    response = iframe.contents();\n                                    // Google Chrome and Firefox do not throw an\n                                    // exception when calling iframe.contents() on\n                                    // cross-domain requests, so we unify the response:\n                                    if (!response.length || !response[0].firstChild) {\n                                        throw new Error();\n                                    }\n                                } catch (e) {\n                                    response = undefined;\n                                }\n                                // The complete callback returns the\n                                // iframe content document as response object:\n                                completeCallback(\n                                    200,\n                                    'success',\n                                    {'iframe': response}\n                                );\n                                // Fix for IE endless progress bar activity bug\n                                // (happens on form submits to iframe targets):\n                                $('<iframe src=\"javascript:false;\"></iframe>')\n                                    .appendTo(form);\n                                form.remove();\n                            });\n                        form\n                            .prop('target', iframe.prop('name'))\n                            .prop('action', options.url)\n                            .prop('method', options.type);\n                        if (options.formData) {\n                            $.each(options.formData, function (index, field) {\n                                $('<input type=\"hidden\"/>')\n                                    .prop('name', field.name)\n                                    .val(field.value)\n                                    .appendTo(form);\n                            });\n                        }\n                        if (options.fileInput && options.fileInput.length &&\n                                options.type === 'POST') {\n                            fileInputClones = options.fileInput.clone();\n                            // Insert a clone for each file input field:\n                            options.fileInput.after(function (index) {\n                                return fileInputClones[index];\n                            });\n                            if (options.paramName) {\n                                options.fileInput.each(function (index) {\n                                    $(this).prop(\n                                        'name',\n                                        paramNames[index] || options.paramName\n                                    );\n                                });\n                            }\n                            // Appending the file input fields to the hidden form\n                            // removes them from their original location:\n                            form\n                                .append(options.fileInput)\n                                .prop('enctype', 'multipart/form-data')\n                                // enctype must be set as encoding for IE:\n                                .prop('encoding', 'multipart/form-data');\n                        }\n                        form.submit();\n                        // Insert the file input fields at their original location\n                        // by replacing the clones with the originals:\n                        if (fileInputClones && fileInputClones.length) {\n                            options.fileInput.each(function (index, input) {\n                                var clone = $(fileInputClones[index]);\n                                $(input).prop('name', clone.prop('name'));\n                                clone.replaceWith(input);\n                            });\n                        }\n                    });\n                    form.append(iframe).appendTo(document.body);\n                },\n                abort: function () {\n                    if (iframe) {\n                        // javascript:false as iframe src aborts the request\n                        // and prevents warning popups on HTTPS in IE6.\n                        // concat is used to avoid the \"Script URL\" JSLint error:\n                        iframe\n                            .unbind('load')\n                            .prop('src', 'javascript'.concat(':false;'));\n                    }\n                    if (form) {\n                        form.remove();\n                    }\n                }\n            };\n        }\n    });\n\n    // The iframe transport returns the iframe content document as response.\n    // The following adds converters from iframe to text, json, html, and script:\n    $.ajaxSetup({\n        converters: {\n            'iframe text': function (iframe) {\n                return $(iframe[0].body).text();\n            },\n            'iframe json': function (iframe) {\n                return $.parseJSON($(iframe[0].body).text());\n            },\n            'iframe html': function (iframe) {\n                return $(iframe[0].body).html();\n            },\n            'iframe script': function (iframe) {\n                return $.globalEval($(iframe[0].body).text());\n            }\n        }\n    });\n\n}));\n","jquery/fileUploader/jquery.fileupload-ui.js":"/*\n * jQuery File Upload User Interface Plugin 6.9.5\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2010, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n */\n\n/*jslint nomen: true, unparam: true, regexp: true */\n/*global define, window, document, URL, webkitURL, FileReader */\n\n(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // Register as an anonymous AMD module:\n        define([\n            'jquery',\n            'mage/template',\n            'jquery/fileUploader/load-image',\n            'jquery/fileUploader/jquery.fileupload-fp',\n            'jquery/fileUploader/jquery.iframe-transport'\n        ], factory);\n    } else {\n        // Browser globals:\n        factory(\n            window.jQuery,\n            window.mageTemplate,\n            window.loadImage\n        );\n    }\n}(function ($, tmpl, loadImage) {\n    'use strict';\n\n    // The UI version extends the FP (file processing) version or the basic\n    // file upload widget and adds complete user interface interaction:\n    var parentWidget = ($.blueimpFP || $.blueimp).fileupload;\n    $.widget('blueimpUI.fileupload', parentWidget, {\n\n        options: {\n            // By default, files added to the widget are uploaded as soon\n            // as the user clicks on the start buttons. To enable automatic\n            // uploads, set the following option to true:\n            autoUpload: false,\n            // The following option limits the number of files that are\n            // allowed to be uploaded using this widget:\n            maxNumberOfFiles: undefined,\n            // The maximum allowed file size:\n            maxFileSize: undefined,\n            // The minimum allowed file size:\n            minFileSize: undefined,\n            // The regular expression for allowed file types, matches\n            // against either file type or file name:\n            acceptFileTypes:  /.+$/i,\n            // The regular expression to define for which files a preview\n            // image is shown, matched against the file type:\n            previewSourceFileTypes: /^image\\/(gif|jpeg|png)$/,\n            // The maximum file size of images that are to be displayed as preview:\n            previewSourceMaxFileSize: 5000000, // 5MB\n            // The maximum width of the preview images:\n            previewMaxWidth: 80,\n            // The maximum height of the preview images:\n            previewMaxHeight: 80,\n            // By default, preview images are displayed as canvas elements\n            // if supported by the browser. Set the following option to false\n            // to always display preview images as img elements:\n            previewAsCanvas: true,\n            // The ID of the upload template:\n            uploadTemplateId: 'template-upload',\n            // The ID of the download template:\n            downloadTemplateId: 'template-download',\n            // The container for the list of files. If undefined, it is set to\n            // an element with class \"files\" inside of the widget element:\n            filesContainer: undefined,\n            // By default, files are appended to the files container.\n            // Set the following option to true, to prepend files instead:\n            prependFiles: false,\n            // The expected data type of the upload response, sets the dataType\n            // option of the $.ajax upload requests:\n            dataType: 'json',\n\n            // The add callback is invoked as soon as files are added to the fileupload\n            // widget (via file input selection, drag & drop or add API call).\n            // See the basic file upload widget for more information:\n            add: function (e, data) {\n                var that = $(this).data('fileupload'),\n                    options = that.options,\n                    files = data.files;\n                $(this).fileupload('process', data).done(function () {\n                    that._adjustMaxNumberOfFiles(-files.length);\n                    data.maxNumberOfFilesAdjusted = true;\n                    data.files.valid = data.isValidated = that._validate(files);\n                    data.context = that._renderUpload(files).data('data', data);\n                    options.filesContainer[\n                        options.prependFiles ? 'prepend' : 'append'\n                    ](data.context);\n                    that._renderPreviews(files, data.context);\n                    that._forceReflow(data.context);\n                    that._transition(data.context).done(\n                        function () {\n                            if ((that._trigger('added', e, data) !== false) &&\n                                    (options.autoUpload || data.autoUpload) &&\n                                    data.autoUpload !== false && data.isValidated) {\n                                data.submit();\n                            }\n                        }\n                    );\n                });\n            },\n            // Callback for the start of each file upload request:\n            send: function (e, data) {\n                var that = $(this).data('fileupload');\n                if (!data.isValidated) {\n                    if (!data.maxNumberOfFilesAdjusted) {\n                        that._adjustMaxNumberOfFiles(-data.files.length);\n                        data.maxNumberOfFilesAdjusted = true;\n                    }\n                    if (!that._validate(data.files)) {\n                        return false;\n                    }\n                }\n                if (data.context && data.dataType &&\n                        data.dataType.substr(0, 6) === 'iframe') {\n                    // Iframe Transport does not support progress events.\n                    // In lack of an indeterminate progress bar, we set\n                    // the progress to 100%, showing the full animated bar:\n                    data.context\n                        .find('.progress').addClass(\n                            !$.support.transition && 'progress-animated'\n                        )\n                        .attr('aria-valuenow', 100)\n                        .find('.bar').css(\n                            'width',\n                            '100%'\n                        );\n                }\n                return that._trigger('sent', e, data);\n            },\n            // Callback for successful uploads:\n            done: function (e, data) {\n                var that = $(this).data('fileupload'),\n                    template;\n                if (data.context) {\n                    data.context.each(function (index) {\n                        var file = ($.isArray(data.result) &&\n                                data.result[index]) || {error: 'emptyResult'};\n                        if (file.error) {\n                            that._adjustMaxNumberOfFiles(1);\n                        }\n                        that._transition($(this)).done(\n                            function () {\n                                var node = $(this);\n                                template = that._renderDownload([file])\n                                    .replaceAll(node);\n                                that._forceReflow(template);\n                                that._transition(template).done(\n                                    function () {\n                                        data.context = $(this);\n                                        that._trigger('completed', e, data);\n                                    }\n                                );\n                            }\n                        );\n                    });\n                } else {\n                    if ($.isArray(data.result)) {\n                        $.each(data.result, function (index, file) {\n                            if (data.maxNumberOfFilesAdjusted && file.error) {\n                                that._adjustMaxNumberOfFiles(1);\n                            } else if (!data.maxNumberOfFilesAdjusted &&\n                                    !file.error) {\n                                that._adjustMaxNumberOfFiles(-1);\n                            }\n                        });\n                        data.maxNumberOfFilesAdjusted = true;\n                    }\n                    template = that._renderDownload(data.result)\n                        .appendTo(that.options.filesContainer);\n                    that._forceReflow(template);\n                    that._transition(template).done(\n                        function () {\n                            data.context = $(this);\n                            that._trigger('completed', e, data);\n                        }\n                    );\n                }\n            },\n            // Callback for failed (abort or error) uploads:\n            fail: function (e, data) {\n                var that = $(this).data('fileupload'),\n                    template;\n                if (data.maxNumberOfFilesAdjusted) {\n                    that._adjustMaxNumberOfFiles(data.files.length);\n                }\n                if (data.context) {\n                    data.context.each(function (index) {\n                        if (data.errorThrown !== 'abort') {\n                            var file = data.files[index];\n                            file.error = file.error || data.errorThrown ||\n                                true;\n                            that._transition($(this)).done(\n                                function () {\n                                    var node = $(this);\n                                    template = that._renderDownload([file])\n                                        .replaceAll(node);\n                                    that._forceReflow(template);\n                                    that._transition(template).done(\n                                        function () {\n                                            data.context = $(this);\n                                            that._trigger('failed', e, data);\n                                        }\n                                    );\n                                }\n                            );\n                        } else {\n                            that._transition($(this)).done(\n                                function () {\n                                    $(this).remove();\n                                    that._trigger('failed', e, data);\n                                }\n                            );\n                        }\n                    });\n                } else if (data.errorThrown !== 'abort') {\n                    data.context = that._renderUpload(data.files)\n                        .appendTo(that.options.filesContainer)\n                        .data('data', data);\n                    that._forceReflow(data.context);\n                    that._transition(data.context).done(\n                        function () {\n                            data.context = $(this);\n                            that._trigger('failed', e, data);\n                        }\n                    );\n                } else {\n                    that._trigger('failed', e, data);\n                }\n            },\n            // Callback for upload progress events:\n            progress: function (e, data) {\n                if (data.context) {\n                    var progress = parseInt(data.loaded / data.total * 100, 10);\n                    data.context.find('.progress')\n                        .attr('aria-valuenow', progress)\n                        .find('.bar').css(\n                            'width',\n                            progress + '%'\n                        );\n                }\n            },\n            // Callback for global upload progress events:\n            progressall: function (e, data) {\n                var $this = $(this),\n                    progress = parseInt(data.loaded / data.total * 100, 10),\n                    globalProgressNode = $this.find('.fileupload-progress'),\n                    extendedProgressNode = globalProgressNode\n                        .find('.progress-extended');\n                if (extendedProgressNode.length) {\n                    extendedProgressNode.html(\n                        $this.data('fileupload')._renderExtendedProgress(data)\n                    );\n                }\n                globalProgressNode\n                    .find('.progress')\n                    .attr('aria-valuenow', progress)\n                    .find('.bar').css(\n                        'width',\n                        progress + '%'\n                    );\n            },\n            // Callback for uploads start, equivalent to the global ajaxStart event:\n            start: function (e) {\n                var that = $(this).data('fileupload');\n                that._transition($(this).find('.fileupload-progress')).done(\n                    function () {\n                        that._trigger('started', e);\n                    }\n                );\n            },\n            // Callback for uploads stop, equivalent to the global ajaxStop event:\n            stop: function (e) {\n                var that = $(this).data('fileupload');\n                that._transition($(this).find('.fileupload-progress')).done(\n                    function () {\n                        $(this).find('.progress')\n                            .attr('aria-valuenow', '0')\n                            .find('.bar').css('width', '0%');\n                        $(this).find('.progress-extended').html('&nbsp;');\n                        that._trigger('stopped', e);\n                    }\n                );\n            },\n            // Callback for file deletion:\n            destroy: function (e, data) {\n                var that = $(this).data('fileupload');\n                if (data.url) {\n                    $.ajax(data);\n                    that._adjustMaxNumberOfFiles(1);\n                }\n                that._transition(data.context).done(\n                    function () {\n                        $(this).remove();\n                        that._trigger('destroyed', e, data);\n                    }\n                );\n            }\n        },\n\n        // Link handler, that allows to download files\n        // by drag & drop of the links to the desktop:\n        _enableDragToDesktop: function () {\n            var link = $(this),\n                url = link.prop('href'),\n                name = link.prop('download'),\n                type = 'application/octet-stream';\n            link.bind('dragstart', function (e) {\n                try {\n                    e.originalEvent.dataTransfer.setData(\n                        'DownloadURL',\n                        [type, name, url].join(':')\n                    );\n                } catch (err) {}\n            });\n        },\n\n        _adjustMaxNumberOfFiles: function (operand) {\n            if (typeof this.options.maxNumberOfFiles === 'number') {\n                this.options.maxNumberOfFiles += operand;\n                if (this.options.maxNumberOfFiles < 1) {\n                    this._disableFileInputButton();\n                } else {\n                    this._enableFileInputButton();\n                }\n            }\n        },\n\n        _formatFileSize: function (bytes) {\n            if (typeof bytes !== 'number') {\n                return '';\n            }\n            if (bytes >= 1000000000) {\n                return (bytes / 1000000000).toFixed(2) + ' GB';\n            }\n            if (bytes >= 1000000) {\n                return (bytes / 1000000).toFixed(2) + ' MB';\n            }\n            return (bytes / 1000).toFixed(2) + ' KB';\n        },\n\n        _formatBitrate: function (bits) {\n            if (typeof bits !== 'number') {\n                return '';\n            }\n            if (bits >= 1000000000) {\n                return (bits / 1000000000).toFixed(2) + ' Gbit/s';\n            }\n            if (bits >= 1000000) {\n                return (bits / 1000000).toFixed(2) + ' Mbit/s';\n            }\n            if (bits >= 1000) {\n                return (bits / 1000).toFixed(2) + ' kbit/s';\n            }\n            return bits + ' bit/s';\n        },\n\n        _formatTime: function (seconds) {\n            var date = new Date(seconds * 1000),\n                days = parseInt(seconds / 86400, 10);\n            days = days ? days + 'd ' : '';\n            return days +\n                ('0' + date.getUTCHours()).slice(-2) + ':' +\n                ('0' + date.getUTCMinutes()).slice(-2) + ':' +\n                ('0' + date.getUTCSeconds()).slice(-2);\n        },\n\n        _formatPercentage: function (floatValue) {\n            return (floatValue * 100).toFixed(2) + ' %';\n        },\n\n        _renderExtendedProgress: function (data) {\n            return this._formatBitrate(data.bitrate) + ' | ' +\n                this._formatTime(\n                    (data.total - data.loaded) * 8 / data.bitrate\n                ) + ' | ' +\n                this._formatPercentage(\n                    data.loaded / data.total\n                ) + ' | ' +\n                this._formatFileSize(data.loaded) + ' / ' +\n                this._formatFileSize(data.total);\n        },\n\n        _hasError: function (file) {\n            if (file.error) {\n                return file.error;\n            }\n            // The number of added files is subtracted from\n            // maxNumberOfFiles before validation, so we check if\n            // maxNumberOfFiles is below 0 (instead of below 1):\n            if (this.options.maxNumberOfFiles < 0) {\n                return 'maxNumberOfFiles';\n            }\n            // Files are accepted if either the file type or the file name\n            // matches against the acceptFileTypes regular expression, as\n            // only browsers with support for the File API report the type:\n            if (!(this.options.acceptFileTypes.test(file.type) ||\n                    this.options.acceptFileTypes.test(file.name))) {\n                return 'acceptFileTypes';\n            }\n            if (this.options.maxFileSize &&\n                    file.size > this.options.maxFileSize) {\n                return 'maxFileSize';\n            }\n            if (typeof file.size === 'number' &&\n                    file.size < this.options.minFileSize) {\n                return 'minFileSize';\n            }\n            return null;\n        },\n\n        _validate: function (files) {\n            var that = this,\n                valid = !!files.length;\n            $.each(files, function (index, file) {\n                file.error = that._hasError(file);\n                if (file.error) {\n                    valid = false;\n                }\n            });\n            return valid;\n        },\n\n        _renderTemplate: function (func, files) {\n            if (!func) {\n                return $();\n            }\n            var result = func({\n                files: files,\n                formatFileSize: this._formatFileSize,\n                options: this.options\n            });\n            if (result instanceof $) {\n                return result;\n            }\n            return $(this.options.templatesContainer).html(result).children();\n        },\n\n        _renderPreview: function (file, node) {\n            var that = this,\n                options = this.options,\n                dfd = $.Deferred();\n            return ((loadImage && loadImage(\n                file,\n                function (img) {\n                    node.append(img);\n                    that._forceReflow(node);\n                    that._transition(node).done(function () {\n                        dfd.resolveWith(node);\n                    });\n                    if (!$.contains(document.body, node[0])) {\n                        // If the element is not part of the DOM,\n                        // transition events are not triggered,\n                        // so we have to resolve manually:\n                        dfd.resolveWith(node);\n                    }\n                },\n                {\n                    maxWidth: options.previewMaxWidth,\n                    maxHeight: options.previewMaxHeight,\n                    canvas: options.previewAsCanvas\n                }\n            )) || dfd.resolveWith(node)) && dfd;\n        },\n\n        _renderPreviews: function (files, nodes) {\n            var that = this,\n                options = this.options;\n            nodes.find('.preview span').each(function (index, element) {\n                var file = files[index];\n                if (options.previewSourceFileTypes.test(file.type) &&\n                        ($.type(options.previewSourceMaxFileSize) !== 'number' ||\n                        file.size < options.previewSourceMaxFileSize)) {\n                    that._processingQueue = that._processingQueue.pipe(function () {\n                        var dfd = $.Deferred();\n                        that._renderPreview(file, $(element)).done(\n                            function () {\n                                dfd.resolveWith(that);\n                            }\n                        );\n                        return dfd.promise();\n                    });\n                }\n            });\n            return this._processingQueue;\n        },\n\n        _renderUpload: function (files) {\n            return this._renderTemplate(\n                this.options.uploadTemplate,\n                files\n            );\n        },\n\n        _renderDownload: function (files) {\n            return this._renderTemplate(\n                this.options.downloadTemplate,\n                files\n            ).find('a[download]').each(this._enableDragToDesktop).end();\n        },\n\n        _startHandler: function (e) {\n            e.preventDefault();\n            var button = $(this),\n                template = button.closest('.template-upload'),\n                data = template.data('data');\n            if (data && data.submit && !data.jqXHR && data.submit()) {\n                button.prop('disabled', true);\n            }\n        },\n\n        _cancelHandler: function (e) {\n            e.preventDefault();\n            var template = $(this).closest('.template-upload'),\n                data = template.data('data') || {};\n            if (!data.jqXHR) {\n                data.errorThrown = 'abort';\n                e.data.fileupload._trigger('fail', e, data);\n            } else {\n                data.jqXHR.abort();\n            }\n        },\n\n        _deleteHandler: function (e) {\n            e.preventDefault();\n            var button = $(this);\n            e.data.fileupload._trigger('destroy', e, {\n                context: button.closest('.template-download'),\n                url: button.attr('data-url'),\n                type: button.attr('data-type') || 'DELETE',\n                dataType: e.data.fileupload.options.dataType\n            });\n        },\n\n        _forceReflow: function (node) {\n            return $.support.transition && node.length &&\n                node[0].offsetWidth;\n        },\n\n        _transition: function (node) {\n            var dfd = $.Deferred();\n            if ($.support.transition && node.hasClass('fade')) {\n                node.bind(\n                    $.support.transition.end,\n                    function (e) {\n                        // Make sure we don't respond to other transitions events\n                        // in the container element, e.g. from button elements:\n                        if (e.target === node[0]) {\n                            node.unbind($.support.transition.end);\n                            dfd.resolveWith(node);\n                        }\n                    }\n                ).toggleClass('in');\n            } else {\n                node.toggleClass('in');\n                dfd.resolveWith(node);\n            }\n            return dfd;\n        },\n\n        _initButtonBarEventHandlers: function () {\n            var fileUploadButtonBar = this.element.find('.fileupload-buttonbar'),\n                filesList = this.options.filesContainer,\n                ns = this.options.namespace;\n            fileUploadButtonBar.find('.start')\n                .bind('click.' + ns, function (e) {\n                    e.preventDefault();\n                    filesList.find('.start button').click();\n                });\n            fileUploadButtonBar.find('.cancel')\n                .bind('click.' + ns, function (e) {\n                    e.preventDefault();\n                    filesList.find('.cancel button').click();\n                });\n            fileUploadButtonBar.find('.delete')\n                .bind('click.' + ns, function (e) {\n                    e.preventDefault();\n                    filesList.find('.delete input:checked')\n                        .siblings('button').click();\n                    fileUploadButtonBar.find('.toggle')\n                        .prop('checked', false);\n                });\n            fileUploadButtonBar.find('.toggle')\n                .bind('change.' + ns, function (e) {\n                    filesList.find('.delete input').prop(\n                        'checked',\n                        $(this).is(':checked')\n                    );\n                });\n        },\n\n        _destroyButtonBarEventHandlers: function () {\n            this.element.find('.fileupload-buttonbar button')\n                .unbind('click.' + this.options.namespace);\n            this.element.find('.fileupload-buttonbar .toggle')\n                .unbind('change.' + this.options.namespace);\n        },\n\n        _initEventHandlers: function () {\n            parentWidget.prototype._initEventHandlers.call(this);\n            var eventData = {fileupload: this};\n            this.options.filesContainer\n                .delegate(\n                    '.start button',\n                    'click.' + this.options.namespace,\n                    eventData,\n                    this._startHandler\n                )\n                .delegate(\n                    '.cancel button',\n                    'click.' + this.options.namespace,\n                    eventData,\n                    this._cancelHandler\n                )\n                .delegate(\n                    '.delete button',\n                    'click.' + this.options.namespace,\n                    eventData,\n                    this._deleteHandler\n                );\n            this._initButtonBarEventHandlers();\n        },\n\n        _destroyEventHandlers: function () {\n            var options = this.options;\n            this._destroyButtonBarEventHandlers();\n            options.filesContainer\n                .undelegate('.start button', 'click.' + options.namespace)\n                .undelegate('.cancel button', 'click.' + options.namespace)\n                .undelegate('.delete button', 'click.' + options.namespace);\n            parentWidget.prototype._destroyEventHandlers.call(this);\n        },\n\n        _enableFileInputButton: function () {\n            this.element.find('.fileinput-button input')\n                .prop('disabled', false)\n                .parent().removeClass('disabled');\n        },\n\n        _disableFileInputButton: function () {\n            this.element.find('.fileinput-button input')\n                .prop('disabled', true)\n                .parent().addClass('disabled');\n        },\n\n        _initTemplates: function () {\n            var options = this.options;\n            options.templatesContainer = document.createElement(\n                options.filesContainer.prop('nodeName')\n            );\n            if (tmpl) {\n                if (options.uploadTemplateId) {\n                    options.uploadTemplate = tmpl(options.uploadTemplateId);\n                }\n                if (options.downloadTemplateId) {\n                    options.downloadTemplate = tmpl(options.downloadTemplateId);\n                }\n            }\n        },\n\n        _initFilesContainer: function () {\n            var options = this.options;\n            if (options.filesContainer === undefined) {\n                options.filesContainer = this.element.find('.files');\n            } else if (!(options.filesContainer instanceof $)) {\n                options.filesContainer = $(options.filesContainer);\n            }\n        },\n\n        _stringToRegExp: function (str) {\n            var parts = str.split('/'),\n                modifiers = parts.pop();\n            parts.shift();\n            return new RegExp(parts.join('/'), modifiers);\n        },\n\n        _initRegExpOptions: function () {\n            var options = this.options;\n            if ($.type(options.acceptFileTypes) === 'string') {\n                options.acceptFileTypes = this._stringToRegExp(\n                    options.acceptFileTypes\n                );\n            }\n            if ($.type(options.previewSourceFileTypes) === 'string') {\n                options.previewSourceFileTypes = this._stringToRegExp(\n                    options.previewSourceFileTypes\n                );\n            }\n        },\n\n        _initSpecialOptions: function () {\n            parentWidget.prototype._initSpecialOptions.call(this);\n            this._initFilesContainer();\n            this._initTemplates();\n            this._initRegExpOptions();\n        },\n\n        _create: function () {\n            parentWidget.prototype._create.call(this);\n            this._refreshOptionsList.push(\n                'filesContainer',\n                'uploadTemplateId',\n                'downloadTemplateId'\n            );\n            if (!$.blueimpFP) {\n                this._processingQueue = $.Deferred().resolveWith(this).promise();\n                this.process = function () {\n                    return this._processingQueue;\n                };\n            }\n        },\n\n        enable: function () {\n            var wasDisabled = false;\n            if (this.options.disabled) {\n                wasDisabled = true;\n            }\n            parentWidget.prototype.enable.call(this);\n            if (wasDisabled) {\n                this.element.find('input, button').prop('disabled', false);\n                this._enableFileInputButton();\n            }\n        },\n\n        disable: function () {\n            if (!this.options.disabled) {\n                this.element.find('input, button').prop('disabled', true);\n                this._disableFileInputButton();\n            }\n            parentWidget.prototype.disable.call(this);\n        }\n\n    });\n\n}));\n","jquery/fileUploader/locale.js":"/*\n * jQuery File Upload Plugin Localization Example 6.5.1\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n */\n\n/*global window */\n\nwindow.locale = {\n    \"fileupload\": {\n        \"errors\": {\n            \"maxFileSize\": \"File is too big\",\n            \"minFileSize\": \"File is too small\",\n            \"acceptFileTypes\": \"Filetype not allowed\",\n            \"maxNumberOfFiles\": \"Max number of files exceeded\",\n            \"uploadedBytes\": \"Uploaded bytes exceed file size\",\n            \"emptyResult\": \"Empty file upload result\"\n        },\n        \"error\": \"Error\",\n        \"start\": \"Start\",\n        \"cancel\": \"Cancel\",\n        \"destroy\": \"Delete\"\n    }\n};\n","jquery/fileUploader/cors/jquery.xdr-transport.js":"/*\n * jQuery XDomainRequest Transport Plugin 1.1.2\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n *\n * Based on Julian Aubourg's ajaxHooks xdr.js:\n * https://github.com/jaubourg/ajaxHooks/\n */\n\n/*jslint unparam: true */\n/*global define, window, XDomainRequest */\n\n(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // Register as an anonymous AMD module:\n        define(['jquery'], factory);\n    } else {\n        // Browser globals:\n        factory(window.jQuery);\n    }\n}(function ($) {\n    'use strict';\n    if (window.XDomainRequest && !$.support.cors) {\n        $.ajaxTransport(function (s) {\n            if (s.crossDomain && s.async) {\n                if (s.timeout) {\n                    s.xdrTimeout = s.timeout;\n                    delete s.timeout;\n                }\n                var xdr;\n                return {\n                    send: function (headers, completeCallback) {\n                        function callback(status, statusText, responses, responseHeaders) {\n                            xdr.onload = xdr.onerror = xdr.ontimeout = $.noop;\n                            xdr = null;\n                            completeCallback(status, statusText, responses, responseHeaders);\n                        }\n                        xdr = new XDomainRequest();\n                        // XDomainRequest only supports GET and POST:\n                        if (s.type === 'DELETE') {\n                            s.url = s.url + (/\\?/.test(s.url) ? '&' : '?') +\n                                '_method=DELETE';\n                            s.type = 'POST';\n                        } else if (s.type === 'PUT') {\n                            s.url = s.url + (/\\?/.test(s.url) ? '&' : '?') +\n                                '_method=PUT';\n                            s.type = 'POST';\n                        }\n                        xdr.open(s.type, s.url);\n                        xdr.onload = function () {\n                            callback(\n                                200,\n                                'OK',\n                                {text: xdr.responseText},\n                                'Content-Type: ' + xdr.contentType\n                            );\n                        };\n                        xdr.onerror = function () {\n                            callback(404, 'Not Found');\n                        };\n                        if (s.xdrTimeout) {\n                            xdr.ontimeout = function () {\n                                callback(0, 'timeout');\n                            };\n                            xdr.timeout = s.xdrTimeout;\n                        }\n                        xdr.send((s.hasContent && s.data) || null);\n                    },\n                    abort: function () {\n                        if (xdr) {\n                            xdr.onerror = $.noop();\n                            xdr.abort();\n                        }\n                    }\n                };\n            }\n        });\n    }\n}));\n","jquery/fileUploader/cors/jquery.postmessage-transport.js":"/*\n * jQuery postMessage Transport Plugin 1.1\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n */\n\n/*jslint unparam: true, nomen: true */\n/*global define, window, document */\n\n(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // Register as an anonymous AMD module:\n        define(['jquery'], factory);\n    } else {\n        // Browser globals:\n        factory(window.jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    var counter = 0,\n        names = [\n            'accepts',\n            'cache',\n            'contents',\n            'contentType',\n            'crossDomain',\n            'data',\n            'dataType',\n            'headers',\n            'ifModified',\n            'mimeType',\n            'password',\n            'processData',\n            'timeout',\n            'traditional',\n            'type',\n            'url',\n            'username'\n        ],\n        convert = function (p) {\n            return p;\n        };\n\n    $.ajaxSetup({\n        converters: {\n            'postmessage text': convert,\n            'postmessage json': convert,\n            'postmessage html': convert\n        }\n    });\n\n    $.ajaxTransport('postmessage', function (options) {\n        if (options.postMessage && window.postMessage) {\n            var iframe,\n                loc = $('<a>').prop('href', options.postMessage)[0],\n                target = loc.protocol + '//' + loc.host,\n                xhrUpload = options.xhr().upload;\n            return {\n                send: function (_, completeCallback) {\n                    var message = {\n                            id: 'postmessage-transport-' + (counter += 1)\n                        },\n                        eventName = 'message.' + message.id;\n                    iframe = $(\n                        '<iframe style=\"display:none;\" src=\"' +\n                            options.postMessage + '\" name=\"' +\n                            message.id + '\"></iframe>'\n                    ).bind('load', function () {\n                        $.each(names, function (i, name) {\n                            message[name] = options[name];\n                        });\n                        message.dataType = message.dataType.replace('postmessage ', '');\n                        $(window).bind(eventName, function (e) {\n                            e = e.originalEvent;\n                            var data = e.data,\n                                ev;\n                            if (e.origin === target && data.id === message.id) {\n                                if (data.type === 'progress') {\n                                    ev = document.createEvent('Event');\n                                    ev.initEvent(data.type, false, true);\n                                    $.extend(ev, data);\n                                    xhrUpload.dispatchEvent(ev);\n                                } else {\n                                    completeCallback(\n                                        data.status,\n                                        data.statusText,\n                                        {postmessage: data.result},\n                                        data.headers\n                                    );\n                                    iframe.remove();\n                                    $(window).unbind(eventName);\n                                }\n                            }\n                        });\n                        iframe[0].contentWindow.postMessage(\n                            message,\n                            target\n                        );\n                    }).appendTo(document.body);\n                },\n                abort: function () {\n                    if (iframe) {\n                        iframe.remove();\n                    }\n                }\n            };\n        }\n    });\n\n}));\n","jquery/fileUploader/vendor/jquery.ui.widget.js":"/*\n * jQuery UI Widget 1.8.23+amd\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Widget\n */\n\n(function (factory) {\n    if (typeof define === \"function\" && define.amd) {\n        // Register as an anonymous AMD module:\n        define([\"jquery\"], factory);\n    } else {\n        // Browser globals:\n        factory(jQuery);\n    }\n}(function( $, undefined ) {\n\n// jQuery 1.4+\nif ( $.cleanData ) {\n\tvar _cleanData = $.cleanData;\n\t$.cleanData = function( elems ) {\n\t\tfor ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {\n\t\t\ttry {\n\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t// http://bugs.jquery.com/ticket/8235\n\t\t\t} catch( e ) {}\n\t\t}\n\t\t_cleanData( elems );\n\t};\n} else {\n\tvar _remove = $.fn.remove;\n\t$.fn.remove = function( selector, keepData ) {\n\t\treturn this.each(function() {\n\t\t\tif ( !keepData ) {\n\t\t\t\tif ( !selector || $.filter( selector, [ this ] ).length ) {\n\t\t\t\t\t$( \"*\", this ).add( [ this ] ).each(function() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$( this ).triggerHandler( \"remove\" );\n\t\t\t\t\t\t// http://bugs.jquery.com/ticket/8235\n\t\t\t\t\t\t} catch( e ) {}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _remove.call( $(this), selector, keepData );\n\t\t});\n\t};\n}\n\n$.widget = function( name, base, prototype ) {\n\tvar namespace = name.split( \".\" )[ 0 ],\n\t\tfullName;\n\tname = name.split( \".\" )[ 1 ];\n\tfullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\t// create selector for plugin\n\t$.expr[ \":\" ][ fullName ] = function( elem ) {\n\t\treturn !!$.data( elem, name );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\t$[ namespace ][ name ] = function( options, element ) {\n\t\t// allow instantiation without initializing for simple inheritance\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\n\tvar basePrototype = new base();\n\t// we need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n//\t$.each( basePrototype, function( key, val ) {\n//\t\tif ( $.isPlainObject(val) ) {\n//\t\t\tbasePrototype[ key ] = $.extend( {}, val );\n//\t\t}\n//\t});\n\tbasePrototype.options = $.extend( true, {}, basePrototype.options );\n\t$[ namespace ][ name ].prototype = $.extend( true, basePrototype, {\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetEventPrefix: $[ namespace ][ name ].prototype.widgetEventPrefix || name,\n\t\twidgetBaseClass: fullName\n\t}, prototype );\n\n\t$.widget.bridge( name, $[ namespace ][ name ] );\n};\n\n$.widget.bridge = function( name, object ) {\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\",\n\t\t\targs = Array.prototype.slice.call( arguments, 1 ),\n\t\t\treturnValue = this;\n\n\t\t// allow multiple hashes to be passed on init\n\t\toptions = !isMethodCall && args.length ?\n\t\t\t$.extend.apply( null, [ true, options ].concat(args) ) :\n\t\t\toptions;\n\n\t\t// prevent calls to internal methods\n\t\tif ( isMethodCall && options.charAt( 0 ) === \"_\" ) {\n\t\t\treturn returnValue;\n\t\t}\n\n\t\tif ( isMethodCall ) {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, name ),\n\t\t\t\t\tmethodValue = instance && $.isFunction( instance[options] ) ?\n\t\t\t\t\t\tinstance[ options ].apply( instance, args ) :\n\t\t\t\t\t\tinstance;\n\t\t\t\t// TODO: add this back in 1.9 and use $.error() (see #5972)\n//\t\t\t\tif ( !instance ) {\n//\t\t\t\t\tthrow \"cannot call methods on \" + name + \" prior to initialization; \" +\n//\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\";\n//\t\t\t\t}\n//\t\t\t\tif ( !$.isFunction( instance[options] ) ) {\n//\t\t\t\t\tthrow \"no such method '\" + options + \"' for \" + name + \" widget instance\";\n//\t\t\t\t}\n//\t\t\t\tvar methodValue = instance[ options ].apply( instance, args );\n\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\treturnValue = methodValue;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, name );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} )._init();\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, name, new object( options, this ) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( options, element ) {\n\t// allow instantiation without initializing for simple inheritance\n\tif ( arguments.length ) {\n\t\tthis._createWidget( options, element );\n\t}\n};\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\toptions: {\n\t\tdisabled: false\n\t},\n\t_createWidget: function( options, element ) {\n\t\t// $.widget.bridge stores the plugin instance, but we do it anyway\n\t\t// so that it's stored even before the _create function runs\n\t\t$.data( element, this.widgetName, this );\n\t\tthis.element = $( element );\n\t\tthis.options = $.extend( true, {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tvar self = this;\n\t\tthis.element.bind( \"remove.\" + this.widgetName, function() {\n\t\t\tself.destroy();\n\t\t});\n\n\t\tthis._create();\n\t\tthis._trigger( \"create\" );\n\t\tthis._init();\n\t},\n\t_getCreateOptions: function() {\n\t\treturn $.metadata && $.metadata.get( this.element[0] )[ this.widgetName ];\n\t},\n\t_create: function() {},\n\t_init: function() {},\n\n\tdestroy: function() {\n\t\tthis.element\n\t\t\t.unbind( \".\" + this.widgetName )\n\t\t\t.removeData( this.widgetName );\n\t\tthis.widget()\n\t\t\t.unbind( \".\" + this.widgetName )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.removeClass(\n\t\t\t\tthis.widgetBaseClass + \"-disabled \" +\n\t\t\t\t\"ui-state-disabled\" );\n\t},\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key;\n\n\t\tif ( arguments.length === 0 ) {\n\t\t\t// don't return a reference to the internal hash\n\t\t\treturn $.extend( {}, this.options );\n\t\t}\n\n\t\tif  (typeof key === \"string\" ) {\n\t\t\tif ( value === undefined ) {\n\t\t\t\treturn this.options[ key ];\n\t\t\t}\n\t\t\toptions = {};\n\t\t\toptions[ key ] = value;\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\t_setOptions: function( options ) {\n\t\tvar self = this;\n\t\t$.each( options, function( key, value ) {\n\t\t\tself._setOption( key, value );\n\t\t});\n\n\t\treturn this;\n\t},\n\t_setOption: function( key, value ) {\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.widget()\n\t\t\t\t[ value ? \"addClass\" : \"removeClass\"](\n\t\t\t\t\tthis.widgetBaseClass + \"-disabled\" + \" \" +\n\t\t\t\t\t\"ui-state-disabled\" )\n\t\t\t\t.attr( \"aria-disabled\", value );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tenable: function() {\n\t\treturn this._setOption( \"disabled\", false );\n\t},\n\tdisable: function() {\n\t\treturn this._setOption( \"disabled\", true );\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig,\n\t\t\tcallback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\t\t// the original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\n\t\treturn !( $.isFunction(callback) &&\n\t\t\tcallback.call( this.element[0], event, data ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n}));\n","jquery/colorpicker/js/colorpicker.js":"/**\n *\n * Color picker\n * Author: Stefan Petre www.eyecon.ro\n * \n * Dual licensed under the MIT and GPL licenses\n * \n */\n\ndefine([\n\t\"jquery\",\n], function ($) {\n\tvar ColorPicker = function () {\n\t\tvar\n\t\t\tids = {},\n\t\t\tinAction,\n\t\t\tcharMin = 65,\n\t\t\tvisible,\n\t\t\ttpl = '<div class=\"colorpicker\"><div class=\"colorpicker_color\"><div><div></div></div></div><div class=\"colorpicker_hue\"><div></div></div><div class=\"colorpicker_new_color\"></div><div class=\"colorpicker_current_color\"></div><div class=\"colorpicker_hex\"><input type=\"text\" maxlength=\"6\" size=\"6\" /></div><div class=\"colorpicker_rgb_r colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_rgb_g colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_rgb_b colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_h colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_s colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_b colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_submit\"></div></div>',\n\t\t\tdefaults = {\n\t\t\t\teventName: 'click',\n\t\t\t\tonShow: function () {},\n\t\t\t\tonBeforeShow: function(){},\n\t\t\t\tonHide: function () {},\n\t\t\t\tonChange: function () {},\n\t\t\t\tonSubmit: function () {},\n\t\t\t\tcolor: 'ff0000',\n\t\t\t\tlivePreview: true,\n\t\t\t\tflat: false\n\t\t\t},\n\t\t\tfillRGBFields = function  (hsb, cal) {\n\t\t\t\tvar rgb = HSBToRGB(hsb);\n\t\t\t\t$(cal).data('colorpicker').fields\n\t\t\t\t\t.eq(1).val(rgb.r).end()\n\t\t\t\t\t.eq(2).val(rgb.g).end()\n\t\t\t\t\t.eq(3).val(rgb.b).end();\n\t\t\t},\n\t\t\tfillHSBFields = function  (hsb, cal) {\n\t\t\t\t$(cal).data('colorpicker').fields\n\t\t\t\t\t.eq(4).val(hsb.h).end()\n\t\t\t\t\t.eq(5).val(hsb.s).end()\n\t\t\t\t\t.eq(6).val(hsb.b).end();\n\t\t\t},\n\t\t\tfillHexFields = function (hsb, cal) {\n\t\t\t\t$(cal).data('colorpicker').fields\n\t\t\t\t\t.eq(0).val(HSBToHex(hsb)).end();\n\t\t\t},\n\t\t\tsetSelector = function (hsb, cal) {\n\t\t\t\t$(cal).data('colorpicker').selector.css('backgroundColor', '#' + HSBToHex({h: hsb.h, s: 100, b: 100}));\n\t\t\t\t$(cal).data('colorpicker').selectorIndic.css({\n\t\t\t\t\tleft: parseInt(150 * hsb.s/100, 10),\n\t\t\t\t\ttop: parseInt(150 * (100-hsb.b)/100, 10)\n\t\t\t\t});\n\t\t\t},\n\t\t\tsetHue = function (hsb, cal) {\n\t\t\t\t$(cal).data('colorpicker').hue.css('top', parseInt(150 - 150 * hsb.h/360, 10));\n\t\t\t},\n\t\t\tsetCurrentColor = function (hsb, cal) {\n\t\t\t\t$(cal).data('colorpicker').currentColor.css('backgroundColor', '#' + HSBToHex(hsb));\n\t\t\t},\n\t\t\tsetNewColor = function (hsb, cal) {\n\t\t\t\t$(cal).data('colorpicker').newColor.css('backgroundColor', '#' + HSBToHex(hsb));\n\t\t\t},\n\t\t\tkeyDown = function (ev) {\n\t\t\t\tvar pressedKey = ev.charCode || ev.keyCode || -1;\n\t\t\t\tif ((pressedKey > charMin && pressedKey <= 90) || pressedKey == 32) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar cal = $(this).parent().parent();\n\t\t\t\tif (cal.data('colorpicker').livePreview === true) {\n\t\t\t\t\tchange.apply(this);\n\t\t\t\t}\n\t\t\t},\n\t\t\tchange = function (ev) {\n\t\t\t\tvar cal = $(this).parent().parent(), col;\n\t\t\t\tif (this.parentNode.className.indexOf('_hex') > 0) {\n\t\t\t\t\tcal.data('colorpicker').color = col = HexToHSB(fixHex(this.value));\n\t\t\t\t} else if (this.parentNode.className.indexOf('_hsb') > 0) {\n\t\t\t\t\tcal.data('colorpicker').color = col = fixHSB({\n\t\t\t\t\t\th: parseInt(cal.data('colorpicker').fields.eq(4).val(), 10),\n\t\t\t\t\t\ts: parseInt(cal.data('colorpicker').fields.eq(5).val(), 10),\n\t\t\t\t\t\tb: parseInt(cal.data('colorpicker').fields.eq(6).val(), 10)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcal.data('colorpicker').color = col = RGBToHSB(fixRGB({\n\t\t\t\t\t\tr: parseInt(cal.data('colorpicker').fields.eq(1).val(), 10),\n\t\t\t\t\t\tg: parseInt(cal.data('colorpicker').fields.eq(2).val(), 10),\n\t\t\t\t\t\tb: parseInt(cal.data('colorpicker').fields.eq(3).val(), 10)\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t\tif (ev) {\n\t\t\t\t\tfillRGBFields(col, cal.get(0));\n\t\t\t\t\tfillHexFields(col, cal.get(0));\n\t\t\t\t\tfillHSBFields(col, cal.get(0));\n\t\t\t\t}\n\t\t\t\tsetSelector(col, cal.get(0));\n\t\t\t\tsetHue(col, cal.get(0));\n\t\t\t\tsetNewColor(col, cal.get(0));\n\t\t\t\tcal.data('colorpicker').onChange.apply(cal, [col, HSBToHex(col), HSBToRGB(col)]);\n\t\t\t},\n\t\t\tblur = function (ev) {\n\t\t\t\tvar cal = $(this).parent().parent();\n\t\t\t\tcal.data('colorpicker').fields.parent().removeClass('colorpicker_focus');\n\t\t\t},\n\t\t\tfocus = function () {\n\t\t\t\tcharMin = this.parentNode.className.indexOf('_hex') > 0 ? 70 : 65;\n\t\t\t\t$(this).parent().parent().data('colorpicker').fields.parent().removeClass('colorpicker_focus');\n\t\t\t\t$(this).parent().addClass('colorpicker_focus');\n\t\t\t},\n\t\t\tdownIncrement = function (ev) {\n\t\t\t\tvar field = $(this).parent().find('input').focus();\n\t\t\t\tvar current = {\n\t\t\t\t\tel: $(this).parent().addClass('colorpicker_slider'),\n\t\t\t\t\tmax: this.parentNode.className.indexOf('_hsb_h') > 0 ? 360 : (this.parentNode.className.indexOf('_hsb') > 0 ? 100 : 255),\n\t\t\t\t\ty: ev.pageY,\n\t\t\t\t\tfield: field,\n\t\t\t\t\tval: parseInt(field.val(), 10),\n\t\t\t\t\tpreview: $(this).parent().parent().data('colorpicker').livePreview\t\t\t\t\t\n\t\t\t\t};\n\t\t\t\t$(document).bind('mouseup', current, upIncrement);\n\t\t\t\t$(document).bind('mousemove', current, moveIncrement);\n\t\t\t},\n\t\t\tmoveIncrement = function (ev) {\n\t\t\t\tev.data.field.val(Math.max(0, Math.min(ev.data.max, parseInt(ev.data.val + ev.pageY - ev.data.y, 10))));\n\t\t\t\tif (ev.data.preview) {\n\t\t\t\t\tchange.apply(ev.data.field.get(0), [true]);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tupIncrement = function (ev) {\n\t\t\t\tchange.apply(ev.data.field.get(0), [true]);\n\t\t\t\tev.data.el.removeClass('colorpicker_slider').find('input').focus();\n\t\t\t\t$(document).unbind('mouseup', upIncrement);\n\t\t\t\t$(document).unbind('mousemove', moveIncrement);\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tdownHue = function (ev) {\n\t\t\t\tvar current = {\n\t\t\t\t\tcal: $(this).parent(),\n\t\t\t\t\ty: $(this).offset().top\n\t\t\t\t};\n\t\t\t\tcurrent.preview = current.cal.data('colorpicker').livePreview;\n\t\t\t\t$(document).bind('mouseup', current, upHue);\n\t\t\t\t$(document).bind('mousemove', current, moveHue);\n\t\t\t},\n\t\t\tmoveHue = function (ev) {\n\t\t\t\tchange.apply(\n\t\t\t\t\tev.data.cal.data('colorpicker')\n\t\t\t\t\t\t.fields\n\t\t\t\t\t\t.eq(4)\n\t\t\t\t\t\t.val(parseInt(360*(150 - Math.max(0,Math.min(150,(ev.pageY - ev.data.y))))/150, 10))\n\t\t\t\t\t\t.get(0),\n\t\t\t\t\t[ev.data.preview]\n\t\t\t\t);\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tupHue = function (ev) {\n\t\t\t\tfillRGBFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\n\t\t\t\tfillHexFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\n\t\t\t\t$(document).unbind('mouseup', upHue);\n\t\t\t\t$(document).unbind('mousemove', moveHue);\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tdownSelector = function (ev) {\n\t\t\t\tvar current = {\n\t\t\t\t\tcal: $(this).parent(),\n\t\t\t\t\tpos: $(this).offset()\n\t\t\t\t};\n\t\t\t\tcurrent.preview = current.cal.data('colorpicker').livePreview;\n\t\t\t\t$(document).bind('mouseup', current, upSelector);\n\t\t\t\t$(document).bind('mousemove', current, moveSelector);\n\t\t\t},\n\t\t\tmoveSelector = function (ev) {\n\t\t\t\tchange.apply(\n\t\t\t\t\tev.data.cal.data('colorpicker')\n\t\t\t\t\t\t.fields\n\t\t\t\t\t\t.eq(6)\n\t\t\t\t\t\t.val(parseInt(100*(150 - Math.max(0,Math.min(150,(ev.pageY - ev.data.pos.top))))/150, 10))\n\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.eq(5)\n\t\t\t\t\t\t.val(parseInt(100*(Math.max(0,Math.min(150,(ev.pageX - ev.data.pos.left))))/150, 10))\n\t\t\t\t\t\t.get(0),\n\t\t\t\t\t[ev.data.preview]\n\t\t\t\t);\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tupSelector = function (ev) {\n\t\t\t\tfillRGBFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\n\t\t\t\tfillHexFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\n\t\t\t\t$(document).unbind('mouseup', upSelector);\n\t\t\t\t$(document).unbind('mousemove', moveSelector);\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tenterSubmit = function (ev) {\n\t\t\t\t$(this).addClass('colorpicker_focus');\n\t\t\t},\n\t\t\tleaveSubmit = function (ev) {\n\t\t\t\t$(this).removeClass('colorpicker_focus');\n\t\t\t},\n\t\t\tclickSubmit = function (ev) {\n\t\t\t\tvar cal = $(this).parent();\n\t\t\t\tvar col = cal.data('colorpicker').color;\n\t\t\t\tcal.data('colorpicker').origColor = col;\n\t\t\t\tsetCurrentColor(col, cal.get(0));\n\t\t\t\tcal.data('colorpicker').onSubmit(col, HSBToHex(col), HSBToRGB(col), cal.data('colorpicker').el);\n\t\t\t},\n\t\t\tshow = function (ev) {\n\t\t\t\tvar cal = $('#' + $(this).data('colorpickerId'));\n\t\t\t\tcal.data('colorpicker').onBeforeShow.apply(this, [cal.get(0)]);\n\t\t\t\tvar pos = $(this).offset();\n\t\t\t\tvar viewPort = getViewport();\n\t\t\t\tvar top = pos.top + this.offsetHeight;\n\t\t\t\tvar left = pos.left;\n\t\t\t\tif (top + 176 > viewPort.t + viewPort.h) {\n\t\t\t\t\ttop -= this.offsetHeight + 176;\n\t\t\t\t}\n\t\t\t\tif (left + 356 > viewPort.l + viewPort.w) {\n\t\t\t\t\tleft -= 356;\n\t\t\t\t}\n\t\t\t\tcal.css({left: left + 'px', top: top + 'px'});\n\t\t\t\tif (cal.data('colorpicker').onShow.apply(this, [cal.get(0)]) != false) {\n\t\t\t\t\tcal.show();\n\t\t\t\t}\n\t\t\t\t$(document).bind('mousedown', {cal: cal}, hide);\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\thide = function (ev) {\n\t\t\t\tif (!isChildOf(ev.data.cal.get(0), ev.target, ev.data.cal.get(0))) {\n\t\t\t\t\tif (ev.data.cal.data('colorpicker').onHide.apply(this, [ev.data.cal.get(0)]) != false) {\n\t\t\t\t\t\tev.data.cal.hide();\n\t\t\t\t\t}\n\t\t\t\t\t$(document).unbind('mousedown', hide);\n\t\t\t\t}\n\t\t\t},\n\t\t\tisChildOf = function(parentEl, el, container) {\n\t\t\t\tif (parentEl == el) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (parentEl.contains) {\n\t\t\t\t\treturn parentEl.contains(el);\n\t\t\t\t}\n\t\t\t\tif ( parentEl.compareDocumentPosition ) {\n\t\t\t\t\treturn !!(parentEl.compareDocumentPosition(el) & 16);\n\t\t\t\t}\n\t\t\t\tvar prEl = el.parentNode;\n\t\t\t\twhile(prEl && prEl != container) {\n\t\t\t\t\tif (prEl == parentEl)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tprEl = prEl.parentNode;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tgetViewport = function () {\n\t\t\t\tvar m = document.compatMode == 'CSS1Compat';\n\t\t\t\treturn {\n\t\t\t\t\tl : window.pageXOffset || (m ? document.documentElement.scrollLeft : document.body.scrollLeft),\n\t\t\t\t\tt : window.pageYOffset || (m ? document.documentElement.scrollTop : document.body.scrollTop),\n\t\t\t\t\tw : window.innerWidth || (m ? document.documentElement.clientWidth : document.body.clientWidth),\n\t\t\t\t\th : window.innerHeight || (m ? document.documentElement.clientHeight : document.body.clientHeight)\n\t\t\t\t};\n\t\t\t},\n\t\t\tfixHSB = function (hsb) {\n\t\t\t\treturn {\n\t\t\t\t\th: Math.min(360, Math.max(0, hsb.h)),\n\t\t\t\t\ts: Math.min(100, Math.max(0, hsb.s)),\n\t\t\t\t\tb: Math.min(100, Math.max(0, hsb.b))\n\t\t\t\t};\n\t\t\t}, \n\t\t\tfixRGB = function (rgb) {\n\t\t\t\treturn {\n\t\t\t\t\tr: Math.min(255, Math.max(0, rgb.r)),\n\t\t\t\t\tg: Math.min(255, Math.max(0, rgb.g)),\n\t\t\t\t\tb: Math.min(255, Math.max(0, rgb.b))\n\t\t\t\t};\n\t\t\t},\n\t\t\tfixHex = function (hex) {\n\t\t\t\tvar len = 6 - hex.length;\n\t\t\t\tif (len > 0) {\n\t\t\t\t\tvar o = [];\n\t\t\t\t\tfor (var i=0; i<len; i++) {\n\t\t\t\t\t\to.push('0');\n\t\t\t\t\t}\n\t\t\t\t\to.push(hex);\n\t\t\t\t\thex = o.join('');\n\t\t\t\t}\n\t\t\t\treturn hex;\n\t\t\t}, \n\t\t\tHexToRGB = function (hex) {\n\t\t\t\tvar hex = parseInt(((hex.indexOf('#') > -1) ? hex.substring(1) : hex), 16);\n\t\t\t\treturn {r: hex >> 16, g: (hex & 0x00FF00) >> 8, b: (hex & 0x0000FF)};\n\t\t\t},\n\t\t\tHexToHSB = function (hex) {\n\t\t\t\treturn RGBToHSB(HexToRGB(hex));\n\t\t\t},\n\t\t\tRGBToHSB = function (rgb) {\n\t\t\t\tvar hsb = {\n\t\t\t\t\th: 0,\n\t\t\t\t\ts: 0,\n\t\t\t\t\tb: 0\n\t\t\t\t};\n\t\t\t\tvar min = Math.min(rgb.r, rgb.g, rgb.b);\n\t\t\t\tvar max = Math.max(rgb.r, rgb.g, rgb.b);\n\t\t\t\tvar delta = max - min;\n\t\t\t\thsb.b = max;\n\t\t\t\tif (max != 0) {\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\thsb.s = max != 0 ? 255 * delta / max : 0;\n\t\t\t\tif (hsb.s != 0) {\n\t\t\t\t\tif (rgb.r == max) {\n\t\t\t\t\t\thsb.h = (rgb.g - rgb.b) / delta;\n\t\t\t\t\t} else if (rgb.g == max) {\n\t\t\t\t\t\thsb.h = 2 + (rgb.b - rgb.r) / delta;\n\t\t\t\t\t} else {\n\t\t\t\t\t\thsb.h = 4 + (rgb.r - rgb.g) / delta;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thsb.h = -1;\n\t\t\t\t}\n\t\t\t\thsb.h *= 60;\n\t\t\t\tif (hsb.h < 0) {\n\t\t\t\t\thsb.h += 360;\n\t\t\t\t}\n\t\t\t\thsb.s *= 100/255;\n\t\t\t\thsb.b *= 100/255;\n\t\t\t\treturn hsb;\n\t\t\t},\n\t\t\tHSBToRGB = function (hsb) {\n\t\t\t\tvar rgb = {};\n\t\t\t\tvar h = Math.round(hsb.h);\n\t\t\t\tvar s = Math.round(hsb.s*255/100);\n\t\t\t\tvar v = Math.round(hsb.b*255/100);\n\t\t\t\tif(s == 0) {\n\t\t\t\t\trgb.r = rgb.g = rgb.b = v;\n\t\t\t\t} else {\n\t\t\t\t\tvar t1 = v;\n\t\t\t\t\tvar t2 = (255-s)*v/255;\n\t\t\t\t\tvar t3 = (t1-t2)*(h%60)/60;\n\t\t\t\t\tif(h==360) h = 0;\n\t\t\t\t\tif(h<60) {rgb.r=t1;\trgb.b=t2; rgb.g=t2+t3}\n\t\t\t\t\telse if(h<120) {rgb.g=t1; rgb.b=t2;\trgb.r=t1-t3}\n\t\t\t\t\telse if(h<180) {rgb.g=t1; rgb.r=t2;\trgb.b=t2+t3}\n\t\t\t\t\telse if(h<240) {rgb.b=t1; rgb.r=t2;\trgb.g=t1-t3}\n\t\t\t\t\telse if(h<300) {rgb.b=t1; rgb.g=t2;\trgb.r=t2+t3}\n\t\t\t\t\telse if(h<360) {rgb.r=t1; rgb.g=t2;\trgb.b=t1-t3}\n\t\t\t\t\telse {rgb.r=0; rgb.g=0;\trgb.b=0}\n\t\t\t\t}\n\t\t\t\treturn {r:Math.round(rgb.r), g:Math.round(rgb.g), b:Math.round(rgb.b)};\n\t\t\t},\n\t\t\tRGBToHex = function (rgb) {\n\t\t\t\tvar hex = [\n\t\t\t\t\trgb.r.toString(16),\n\t\t\t\t\trgb.g.toString(16),\n\t\t\t\t\trgb.b.toString(16)\n\t\t\t\t];\n\t\t\t\t$.each(hex, function (nr, val) {\n\t\t\t\t\tif (val.length == 1) {\n\t\t\t\t\t\thex[nr] = '0' + val;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn hex.join('');\n\t\t\t},\n\t\t\tHSBToHex = function (hsb) {\n\t\t\t\treturn RGBToHex(HSBToRGB(hsb));\n\t\t\t},\n\t\t\trestoreOriginal = function () {\n\t\t\t\tvar cal = $(this).parent();\n\t\t\t\tvar col = cal.data('colorpicker').origColor;\n\t\t\t\tcal.data('colorpicker').color = col;\n\t\t\t\tfillRGBFields(col, cal.get(0));\n\t\t\t\tfillHexFields(col, cal.get(0));\n\t\t\t\tfillHSBFields(col, cal.get(0));\n\t\t\t\tsetSelector(col, cal.get(0));\n\t\t\t\tsetHue(col, cal.get(0));\n\t\t\t\tsetNewColor(col, cal.get(0));\n\t\t\t};\n\t\treturn {\n\t\t\tinit: function (opt) {\n\t\t\t\topt = $.extend({}, defaults, opt||{});\n\t\t\t\tif (typeof opt.color == 'string') {\n\t\t\t\t\topt.color = HexToHSB(opt.color);\n\t\t\t\t} else if (opt.color.r != undefined && opt.color.g != undefined && opt.color.b != undefined) {\n\t\t\t\t\topt.color = RGBToHSB(opt.color);\n\t\t\t\t} else if (opt.color.h != undefined && opt.color.s != undefined && opt.color.b != undefined) {\n\t\t\t\t\topt.color = fixHSB(opt.color);\n\t\t\t\t} else {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\treturn this.each(function () {\n\t\t\t\t\tif (!$(this).data('colorpickerId')) {\n\t\t\t\t\t\tvar options = $.extend({}, opt);\n\t\t\t\t\t\toptions.origColor = opt.color;\n\t\t\t\t\t\tvar id = 'collorpicker_' + parseInt(Math.random() * 1000);\n\t\t\t\t\t\t$(this).data('colorpickerId', id);\n\t\t\t\t\t\tvar cal = $(tpl).attr('id', id);\n\t\t\t\t\t\tif (options.flat) {\n\t\t\t\t\t\t\tcal.appendTo(this).show();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcal.appendTo(document.body);\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions.fields = cal\n\t\t\t\t\t\t\t\t\t\t\t.find('input')\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('keyup', keyDown)\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('change', change)\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('blur', blur)\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('focus', focus);\n\t\t\t\t\t\tcal\n\t\t\t\t\t\t\t.find('span').bind('mousedown', downIncrement).end()\n\t\t\t\t\t\t\t.find('>div.colorpicker_current_color').bind('click', restoreOriginal);\n\t\t\t\t\t\toptions.selector = cal.find('div.colorpicker_color').bind('mousedown', downSelector);\n\t\t\t\t\t\toptions.selectorIndic = options.selector.find('div div');\n\t\t\t\t\t\toptions.el = this;\n\t\t\t\t\t\toptions.hue = cal.find('div.colorpicker_hue div');\n\t\t\t\t\t\tcal.find('div.colorpicker_hue').bind('mousedown', downHue);\n\t\t\t\t\t\toptions.newColor = cal.find('div.colorpicker_new_color');\n\t\t\t\t\t\toptions.currentColor = cal.find('div.colorpicker_current_color');\n\t\t\t\t\t\tcal.data('colorpicker', options);\n\t\t\t\t\t\tcal.find('div.colorpicker_submit')\n\t\t\t\t\t\t\t.bind('mouseenter', enterSubmit)\n\t\t\t\t\t\t\t.bind('mouseleave', leaveSubmit)\n\t\t\t\t\t\t\t.bind('click', clickSubmit);\n\t\t\t\t\t\tfillRGBFields(options.color, cal.get(0));\n\t\t\t\t\t\tfillHSBFields(options.color, cal.get(0));\n\t\t\t\t\t\tfillHexFields(options.color, cal.get(0));\n\t\t\t\t\t\tsetHue(options.color, cal.get(0));\n\t\t\t\t\t\tsetSelector(options.color, cal.get(0));\n\t\t\t\t\t\tsetCurrentColor(options.color, cal.get(0));\n\t\t\t\t\t\tsetNewColor(options.color, cal.get(0));\n\t\t\t\t\t\tif (options.flat) {\n\t\t\t\t\t\t\tcal.css({\n\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$(this).bind(options.eventName, show);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tshowPicker: function() {\n\t\t\t\treturn this.each( function () {\n\t\t\t\t\tif ($(this).data('colorpickerId')) {\n\t\t\t\t\t\tshow.apply(this);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\thidePicker: function() {\n\t\t\t\treturn this.each( function () {\n\t\t\t\t\tif ($(this).data('colorpickerId')) {\n\t\t\t\t\t\t$('#' + $(this).data('colorpickerId')).hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tsetColor: function(col) {\n\t\t\t\tif (typeof col == 'string') {\n\t\t\t\t\tcol = HexToHSB(col);\n\t\t\t\t} else if (col.r != undefined && col.g != undefined && col.b != undefined) {\n\t\t\t\t\tcol = RGBToHSB(col);\n\t\t\t\t} else if (col.h != undefined && col.s != undefined && col.b != undefined) {\n\t\t\t\t\tcol = fixHSB(col);\n\t\t\t\t} else {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\treturn this.each(function(){\n\t\t\t\t\tif ($(this).data('colorpickerId')) {\n\t\t\t\t\t\tvar cal = $('#' + $(this).data('colorpickerId'));\n\t\t\t\t\t\tcal.data('colorpicker').color = col;\n\t\t\t\t\t\tcal.data('colorpicker').origColor = col;\n\t\t\t\t\t\tfillRGBFields(col, cal.get(0));\n\t\t\t\t\t\tfillHSBFields(col, cal.get(0));\n\t\t\t\t\t\tfillHexFields(col, cal.get(0));\n\t\t\t\t\t\tsetHue(col, cal.get(0));\n\t\t\t\t\t\tsetSelector(col, cal.get(0));\n\t\t\t\t\t\tsetCurrentColor(col, cal.get(0));\n\t\t\t\t\t\tsetNewColor(col, cal.get(0));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}();\n\t$.fn.extend({\n\t\tColorPicker: ColorPicker.init,\n\t\tColorPickerHide: ColorPicker.hidePicker,\n\t\tColorPickerShow: ColorPicker.showPicker,\n\t\tColorPickerSetColor: ColorPicker.setColor\n\t});\n});","jquery/editableMultiselect/js/jquery.editable.js":"/*\n * Jeditable - jQuery in place edit plugin\n *\n * Copyright (c) 2006-2009 Mika Tuupola, Dylan Verheul\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * Project home:\n *   http://www.appelsiini.net/projects/jeditable\n *\n * Based on editable by Dylan Verheul <dylan_at_dyve.net>:\n *    http://www.dyve.net/jquery/?editable\n *\n */\n\n/**\n * Version 1.7.1\n *\n * ** means there is basic unit tests for this parameter.\n *\n * @name  Jeditable\n * @type  jQuery\n * @param String  target             (POST) URL or function to send edited content to **\n * @param Hash    options            additional options\n * @param String  options[method]    method to use to send edited content (POST or PUT) **\n * @param Function options[callback] Function to run after submitting edited content **\n * @param String  options[name]      POST parameter name of edited content\n * @param String  options[id]        POST parameter name of edited div id\n * @param Hash    options[submitdata] Extra parameters to send when submitting edited content.\n * @param String  options[type]      text, textarea or select (or any 3rd party input type) **\n * @param Integer options[rows]      number of rows if using textarea **\n * @param Integer options[cols]      number of columns if using textarea **\n * @param Mixed   options[height]    'auto', 'none' or height in pixels **\n * @param Mixed   options[width]     'auto', 'none' or width in pixels **\n * @param String  options[loadurl]   URL to fetch input content before editing **\n * @param String  options[loadtype]  Request type for load url. Should be GET or POST.\n * @param String  options[loadtext]  Text to display while loading external content.\n * @param Mixed   options[loaddata]  Extra parameters to pass when fetching content before editing.\n * @param Mixed   options[data]      Or content given as paramameter. String or function.**\n * @param String  options[indicator] indicator html to show when saving\n * @param String  options[tooltip]   optional tooltip text via title attribute **\n * @param String  options[event]     jQuery event such as 'click' of 'dblclick' **\n * @param String  options[submit]    submit button value, empty means no button **\n * @param String  options[cancel]    cancel button value, empty means no button **\n * @param String  options[cssclass]  CSS class to apply to input form. 'inherit' to copy from parent. **\n * @param String  options[style]     Style to apply to input form 'inherit' to copy from parent. **\n * @param String  options[select]    true or false, when true text is highlighted ??\n * @param String  options[placeholder] Placeholder text or html to insert when element is empty. **\n * @param String  options[onblur]    'cancel', 'submit', 'ignore' or function ??\n *\n * @param Function options[onsubmit] function(settings, original) { ... } called before submit\n * @param Function options[onreset]  function(settings, original) { ... } called before reset\n * @param Function options[onerror]  function(settings, original, xhr) { ... } called on error\n *\n * @param Hash    options[ajaxoptions]  jQuery Ajax options. See docs.jquery.com.\n *\n */\n\n(function($) {\n\n    $.fn.editable = function(target, options) {\n\n        if ('disable' == target) {\n            $(this).data('disabled.editable', true);\n            return;\n        }\n        if ('enable' == target) {\n            $(this).data('disabled.editable', false);\n            return;\n        }\n        if ('destroy' == target) {\n            $(this)\n                .unbind($(this).data('event.editable'))\n                .removeData('disabled.editable')\n                .removeData('event.editable');\n            return;\n        }\n\n        var settings = $.extend({}, $.fn.editable.defaults, {target:target}, options);\n\n        /* setup some functions */\n        var plugin   = $.editable.types[settings.type].plugin || function() { };\n        var submit   = $.editable.types[settings.type].submit || function() { };\n        var buttons  = $.editable.types[settings.type].buttons\n            || $.editable.types['defaults'].buttons;\n        var content  = $.editable.types[settings.type].content\n            || $.editable.types['defaults'].content;\n        var element  = $.editable.types[settings.type].element\n            || $.editable.types['defaults'].element;\n        var reset    = $.editable.types[settings.type].reset\n            || $.editable.types['defaults'].reset;\n        var callback = settings.callback || function() { };\n        var onedit   = settings.onedit   || function() { };\n        var onsubmit = settings.onsubmit || function() { };\n        var onreset  = settings.onreset  || function() { };\n        var onerror  = settings.onerror  || reset;\n\n        /* show tooltip */\n        if (settings.tooltip) {\n            $(this).attr('title', settings.tooltip);\n        }\n\n        settings.autowidth  = 'auto' == settings.width;\n        settings.autoheight = 'auto' == settings.height;\n\n        return this.each(function() {\n\n            /* save this to self because this changes when scope changes */\n            var self = this;\n\n            /* inlined block elements lose their width and height after first edit */\n            /* save them for later use as workaround */\n            var savedwidth  = $(self).width();\n            var savedheight = $(self).height();\n\n            /* save so it can be later used by $.editable('destroy') */\n            $(this).data('event.editable', settings.event);\n\n            /* if element is empty add something clickable (if requested) */\n            if (!$.trim($(this).html())) {\n                $(this).html(settings.placeholder);\n            }\n\n            $(this).bind(settings.event, function(e) {\n\n                /* abort if disabled for this element */\n                if (true === $(this).data('disabled.editable')) {\n                    return;\n                }\n\n                /* prevent throwing an exception if edit field is clicked again */\n                if (self.editing) {\n                    return;\n                }\n\n                /* abort if onedit hook returns false */\n                if (false === onedit.apply(this, [settings, self])) {\n                    return;\n                }\n\n                /* prevent default action and bubbling */\n                e.preventDefault();\n                e.stopPropagation();\n\n                /* remove tooltip */\n                if (settings.tooltip) {\n                    $(self).removeAttr('title');\n                }\n\n                /* figure out how wide and tall we are, saved width and height */\n                /* are workaround for http://dev.jquery.com/ticket/2190 */\n                if (0 == $(self).width()) {\n                    //$(self).css('visibility', 'hidden');\n                    settings.width  = savedwidth;\n                    settings.height = savedheight;\n                } else {\n                    if (settings.width != 'none') {\n                        settings.width =\n                            settings.autowidth ? $(self).width()  : settings.width;\n                    }\n                    if (settings.height != 'none') {\n                        settings.height =\n                            settings.autoheight ? $(self).height() : settings.height;\n                    }\n                }\n                //$(this).css('visibility', '');\n\n                /* remove placeholder text, replace is here because of IE */\n                if ($(this).html().toLowerCase().replace(/(;|\")/g, '') ==\n                    settings.placeholder.toLowerCase().replace(/(;|\")/g, '')) {\n                    $(this).html('');\n                }\n\n                self.editing    = true;\n                self.revert     = $(self).html();\n                $(self).html('');\n\n                /* create the form object */\n                var form = $('<form />');\n\n                /* apply css or style or both */\n                if (settings.cssclass) {\n                    if ('inherit' == settings.cssclass) {\n                        form.attr('class', $(self).attr('class'));\n                    } else {\n                        form.attr('class', settings.cssclass);\n                    }\n                }\n\n                if (settings.style) {\n                    if ('inherit' == settings.style) {\n                        form.attr('style', $(self).attr('style'));\n                        /* IE needs the second line or display won't be inherited */\n                        form.css('display', $(self).css('display'));\n                    } else {\n                        form.attr('style', settings.style);\n                    }\n                }\n\n                /* add main input element to form and store it in input */\n                var input = element.apply(form, [settings, self]);\n\n                /* set input content via POST, GET, given data or existing value */\n                var input_content;\n\n                if (settings.loadurl) {\n                    var t = setTimeout(function() {\n                        input.disabled = true;\n                        content.apply(form, [settings.loadtext, settings, self]);\n                    }, 100);\n\n                    var loaddata = {};\n                    loaddata[settings.id] = self.id;\n                    if ($.isFunction(settings.loaddata)) {\n                        $.extend(loaddata, settings.loaddata.apply(self, [self.revert, settings]));\n                    } else {\n                        $.extend(loaddata, settings.loaddata);\n                    }\n                    $.ajax({\n                        type : settings.loadtype,\n                        url  : settings.loadurl,\n                        data : loaddata,\n                        async : false,\n                        success: function(result) {\n                            window.clearTimeout(t);\n                            input_content = result;\n                            input.disabled = false;\n                        }\n                    });\n                } else if (settings.data) {\n                    input_content = settings.data;\n                    if ($.isFunction(settings.data)) {\n                        input_content = settings.data.apply(self, [self.revert, settings]);\n                    }\n                } else {\n                    input_content = self.revert;\n                }\n                content.apply(form, [input_content, settings, self]);\n\n                input.attr('name', settings.name);\n\n                /* add buttons to the form */\n                buttons.apply(form, [settings, self]);\n\n                /* add created form to self */\n                $(self).append(form);\n\n                /* attach 3rd party plugin if requested */\n                plugin.apply(form, [settings, self]);\n\n                /* focus to first visible form element */\n                $(':input:visible:enabled:first', form).focus();\n\n                /* highlight input contents when requested */\n                if (settings.select) {\n                    input.select();\n                }\n\n                /* discard changes if pressing esc */\n                input.keydown(function(e) {\n                    if (e.keyCode == 27) {\n                        e.preventDefault();\n                        //self.reset();\n                        reset.apply(form, [settings, self]);\n                    }\n                });\n\n                /* discard, submit or nothing with changes when clicking outside */\n                /* do nothing is usable when navigating with tab */\n                var t;\n                if ('cancel' == settings.onblur) {\n                    input.blur(function(e) {\n                        /* prevent canceling if submit was clicked */\n                        t = setTimeout(function() {\n                            reset.apply(form, [settings, self]);\n                        }, 500);\n                    });\n                } else if ('submit' == settings.onblur) {\n                    input.blur(function(e) {\n                        /* prevent double submit if submit was clicked */\n                        t = setTimeout(function() {\n                            form.submit();\n                        }, 200);\n                    });\n                } else if ($.isFunction(settings.onblur)) {\n                    input.blur(function(e) {\n                        settings.onblur.apply(self, [input.val(), settings]);\n                    });\n                } else {\n                    input.blur(function(e) {\n                        /* TODO: maybe something here */\n                    });\n                }\n\n                form.submit(function(e) {\n\n                    if (t) {\n                        clearTimeout(t);\n                    }\n\n                    /* do no submit */\n                    e.preventDefault();\n\n                    /* call before submit hook. */\n                    /* if it returns false abort submitting */\n                    if (false !== onsubmit.apply(form, [settings, self])) {\n                        /* custom inputs call before submit hook. */\n                        /* if it returns false abort submitting */\n                        if (false !== submit.apply(form, [settings, self])) {\n\n                            /* check if given target is function */\n                            if ($.isFunction(settings.target)) {\n                                var str = settings.target.apply(self, [input.val(), settings]);\n                                $(self).html(str);\n                                self.editing = false;\n                                callback.apply(self, [self.innerHTML, settings]);\n                                /* TODO: this is not dry */\n                                if (!$.trim($(self).html())) {\n                                    $(self).html(settings.placeholder);\n                                }\n                            } else {\n                                /* add edited content and id of edited element to POST */\n                                var submitdata = {};\n                                submitdata[settings.name] = input.val();\n                                submitdata[settings.id] = self.id;\n                                /* add extra data to be POST:ed */\n                                if ($.isFunction(settings.submitdata)) {\n                                    $.extend(submitdata, settings.submitdata.apply(self, [self.revert, settings]));\n                                } else {\n                                    $.extend(submitdata, settings.submitdata);\n                                }\n\n                                /* quick and dirty PUT support */\n                                if ('PUT' == settings.method) {\n                                    submitdata['_method'] = 'put';\n                                }\n\n                                /* show the saving indicator */\n                                $(self).html(settings.indicator);\n\n                                /* defaults for ajaxoptions */\n                                var ajaxoptions = {\n                                    type    : 'POST',\n                                    data    : submitdata,\n                                    dataType: 'html',\n                                    url     : settings.target,\n                                    success : function(result, status) {\n                                        if (ajaxoptions.dataType == 'html') {\n                                            $(self).html(result);\n                                        }\n                                        self.editing = false;\n                                        callback.apply(self, [result, settings]);\n                                        if (!$.trim($(self).html())) {\n                                            $(self).html(settings.placeholder);\n                                        }\n                                    },\n                                    error   : function(xhr, status, error) {\n                                        onerror.apply(form, [settings, self, xhr]);\n                                    }\n                                };\n\n                                /* override with what is given in settings.ajaxoptions */\n                                $.extend(ajaxoptions, settings.ajaxoptions);\n                                $.ajax(ajaxoptions);\n\n                            }\n                        }\n                    }\n\n                    /* show tooltip again */\n                    $(self).attr('title', settings.tooltip);\n\n                    return false;\n                });\n            });\n\n            /* privileged methods */\n            this.reset = function(form) {\n                /* prevent calling reset twice when blurring */\n                if (this.editing) {\n                    /* before reset hook, if it returns false abort reseting */\n                    if (false !== onreset.apply(form, [settings, self])) {\n                        $(self).html(self.revert);\n                        self.editing   = false;\n                        if (!$.trim($(self).html())) {\n                            $(self).html(settings.placeholder);\n                        }\n                        /* show tooltip again */\n                        if (settings.tooltip) {\n                            $(self).attr('title', settings.tooltip);\n                        }\n                    }\n                }\n            };\n        });\n\n    };\n\n\n    $.editable = {\n        types: {\n            defaults: {\n                element : function(settings, original) {\n                    var input = $('<input type=\"hidden\"></input>');\n                    $(this).append(input);\n                    return(input);\n                },\n                content : function(string, settings, original) {\n                    $(':input:first', this).val(string);\n                },\n                reset : function(settings, original) {\n                    settings.data.apply(original, [original, settings]);\n                    original.reset(this);\n                },\n                buttons : function(settings, original) {\n                    var form = this;\n                    if (settings.submit) {\n                        /* if given html string use that */\n                        if (settings.submit.match(/>$/)) {\n                            var submit = $(settings.submit).click(function() {\n                                if (submit.attr(\"type\") != \"submit\") {\n                                    form.submit();\n                                }\n                            });\n                            /* otherwise use button with given string as text */\n                        } else {\n                            var submit = $('<button type=\"submit\" />');\n                            submit.html(settings.submit);\n                        }\n                        $(this).append(submit);\n                    }\n                    if (settings.cancel) {\n                        /* if given html string use that */\n                        if (settings.cancel.match(/>$/)) {\n                            var cancel = $(settings.cancel);\n                            /* otherwise use button with given string as text */\n                        } else {\n                            var cancel = $('<button type=\"cancel\" />');\n                            cancel.html(settings.cancel);\n                        }\n                        $(this).append(cancel);\n\n                        $(cancel).click(function(event) {\n                            original.reset(this);\n                            return false;\n                        });\n                    }\n                }\n            },\n            text: {\n                element : function(settings, original) {\n                    var input = $('<input type=\"text\"/>');\n//                    if (settings.width  != 'none') { input.width(settings.width);  }\n//                    if (settings.height != 'none') { input.height(settings.height); }\n                    /* https://bugzilla.mozilla.org/show_bug.cgi?id=236791 */\n                    //input[0].setAttribute('autocomplete','off');\n                    input.attr('autocomplete','off');\n                    $(this).append(input);\n                    return(input);\n                }\n            },\n            textarea: {\n                element : function(settings, original) {\n                    var textarea = $('<textarea />');\n                    if (settings.rows) {\n                        textarea.attr('rows', settings.rows);\n                    } else if (settings.height != \"none\") {\n                        textarea.height(settings.height);\n                    }\n                    if (settings.cols) {\n                        textarea.attr('cols', settings.cols);\n                    } else if (settings.width != \"none\") {\n                        textarea.width(settings.width);\n                    }\n                    $(this).append(textarea);\n                    return(textarea);\n                }\n            },\n            select: {\n                element : function(settings, original) {\n                    var select = $('<select />');\n                    $(this).append(select);\n                    return(select);\n                },\n                content : function(data, settings, original) {\n                    /* If it is string assume it is json. */\n                    if (String == data.constructor) {\n                        eval ('var json = ' + data);\n                    } else {\n                        /* Otherwise assume it is a hash already. */\n                        var json = data;\n                    }\n                    for (var key in json) {\n                        if (!json.hasOwnProperty(key)) {\n                            continue;\n                        }\n                        if ('selected' == key) {\n                            continue;\n                        }\n                        var option = $('<option />').val(key).append(json[key]);\n                        $('select', this).append(option);\n                    }\n                    /* Loop option again to set selected. IE needed this... */\n                    $('select', this).children().each(function() {\n                        if ($(this).val() == json['selected'] ||\n                            $(this).text() == $.trim(original.revert)) {\n                            $(this).attr('selected', 'selected');\n                        }\n                    });\n                }\n            }\n        },\n\n        /* Add new input type */\n        addInputType: function(name, input) {\n            $.editable.types[name] = input;\n        }\n    };\n\n    // publicly accessible defaults\n    $.fn.editable.defaults = {\n        name       : 'value',\n        id         : 'id',\n        type       : 'text',\n        width      : 'auto',\n        height     : 'auto',\n        event      : 'click.editable',\n        onblur     : 'cancel',\n        loadtype   : 'GET',\n        loadtext   : 'Loading...',\n        placeholder: 'Click to edit',\n        loaddata   : {},\n        submitdata : {},\n        ajaxoptions: {}\n    };\n\n})(jQuery);\n","jquery/editableMultiselect/js/jquery.multiselect.js":"define([\n    \"jquery\"\n], function($){\n\n    /*\n     * jQuery.multiselect plugin\n     *\n     * Form control: allow select several values from list and add new value(s) to list\n     *\n     * Licensed under the BSD License:\n     *   http://www.opensource.org/licenses/bsd-license\n     *\n     * Version: 0.9.0\n     *\n     * @author Dmitry (dio) Levashov, dio@std42.ru\n     * @example\n     *  html: <select name=\"my-select\" multiple=\"on\"><option .... </select>\n     * js   : $('select[name=\"my-select\"]').multiselect()\n     *  or\n     * var opts = { ... };\n     * $('select[name=\"my-select\"]').multiselect(opts);\n     */\n    $.fn.multiselect = function(opts) {\n        var o = $.extend({\n            mselectHiddenClass: 'mselect-hidden',\n            mselectItemNotEditableClass: 'mselect-list-item-not-editable',\n            mselectItemNotRemovableClass: 'mselect-list-item-not-removable',\n            mselectListClass: 'mselect-list',\n            mselectItemsWrapperClass: 'mselect-items-wrapper',\n            mselectButtonAddClass: 'mselect-button-add',\n            mselectInputContainerClass: 'mselect-input-container',\n            mselectInputClass: 'mselect-input',\n            mselectButtonCancelClass: 'mselect-cancel',\n            mselectButtonSaveClass: 'mselect-save',\n            mselectListItemClass: 'mselect-list-item',\n            mselectItemsWrapperOverflowClass: 'mselect-fixed',\n            mselectDisabledClass: 'mselect-disabled',\n            mselectCheckedClass: 'mselect-checked',\n            layout: '<section class=\"block %mselectListClass%\">'\n                +'<div class=\"block-content\"><div class=\"%mselectItemsWrapperClass%\">'\n                +'%items%'\n                +'</div></div>'\n                +'<footer class=\"block-footer\">'\n                +'<span class=\"action-add %mselectButtonAddClass%\">%addText%</span>'\n                +'</footer>'\n                +'<div class=\"%mselectInputContainerClass%\">'\n                +'<input type=\"text\" class=\"%mselectInputClass%\" title=\"%inputTitle%\"/>'\n                +'<span class=\"%mselectButtonCancelClass%\" title=\"%cancelText%\"></span>'\n                +'<span class=\"%mselectButtonSaveClass%\" title=\"Add\"></span>'\n                +'</div>'\n                +'</section>',\n            item : '<div  class=\"%mselectListItemClass% %mselectDisabledClass% %iseditable% %isremovable%\"><label><input type=\"checkbox\" class=\"%mselectCheckedClass%\" value=\"%value%\" %checked% %disabled% /><span>%label%</span></label>' +\n                '<span class=\"mselect-edit\" title=\"Edit\">Edit</span>' +\n                '<span class=\"mselect-delete\" title=\"Delete\">Delete</span> ' +\n                '</div>',\n            addText: 'Add new value',\n            cancelText: 'Cancel',\n            inputTitle: 'Enter new option',\n            size: 5,\n            keyCodes: {\n                Enter: 13,\n                Esc: 27\n            },\n            toggleAddButton: true,\n            // New option for callback\n            mselectInputSubmitCallback: null,\n            parse : function(v) { return v.split(/\\s*,\\s*/); }\n        }, opts||{});\n\n        return this.filter('select[multiple]:not(.' + o.mselectHiddenClass + ')').each(function() {\n            var select = $(this).addClass(o.mselectHiddenClass).hide(),\n                size = select.attr('size') > 0 ? select.attr('size') : o.size,\n                items = (function() {\n                    var str = '';\n\n                    select.children('option').each(function(i, option) {\n                        option = $(option);\n\n                        str += o.item\n                            .replace(/%value%/gi,  option.val())\n                            .replace(/%checked%/gi, option.attr('selected') ? 'checked' : '')\n                            .replace(/%mselectCheckedClass%/gi, option.attr('selected') ? ''+o.mselectCheckedClass+'' : '')\n                            .replace(/%disabled%/gi, option.attr('disabled') ? 'disabled' : '')\n                            .replace(/%mselectDisabledClass%/gi, option.attr('disabled') ? ''+o.mselectDisabledClass+'' : '')\n                            .replace(/%mselectListItemClass%/gi, o.mselectListItemClass)\n                            .replace(/%iseditable%/gi, option.attr('data-is-editable') ? ''+o.mselectItemNotEditableClass+'' : '')\n                            .replace(/%isremovable%/i, option.attr('data-is-removable') ? ''+o.mselectItemNotRemovableClass+'' : '')\n                            .replace(/%label%/gi,  option.html());\n                    });\n\n                    return str;\n                })(),\n                html = o.layout\n                    .replace(/%items%/gi, items)\n                    .replace(/%mselectListClass%/gi, o.mselectListClass)\n                    .replace(/%mselectButtonAddClass%/gi, o.mselectButtonAddClass)\n                    .replace(/%mselectButtonSaveClass%/gi, o.mselectButtonSaveClass)\n                    .replace(/%mselectButtonCancelClass%/gi, o.mselectButtonCancelClass)\n                    .replace(/%mselectItemsWrapperClass%/gi, o.mselectItemsWrapperClass)\n                    .replace(/%mselectInputContainerClass%/gi, o.mselectInputContainerClass)\n                    .replace(/%mselectInputClass%/gi, o.mselectInputClass)\n                    .replace(/%addText%/gi, o.addText)\n                    .replace(/%cancelText%/gi, o.cancelText)\n                    .replace(/%inputTitle%/gi, o.inputTitle),\n                widget = $(html)\n                    .insertAfter(this)\n                    .on('change.mselectCheck', '[type=checkbox]', function() {\n                        var checkbox = $(this),\n                            index = checkbox.closest('.' + o.mselectListItemClass + '').index();\n\n                        select.find('option').eq(index).attr('selected', !!checkbox.attr('checked'));\n                    }),\n                list = widget.find('.' + o.mselectItemsWrapperClass + ''),\n                buttonAdd = widget.find('.' + o.mselectButtonAddClass + '')\n                    .on('click.mselectAdd', function(e) {\n                        e.preventDefault();\n                        o.toggleAddButton && buttonAdd.hide();\n                        container.show();\n                        input.focus();\n                        if (input.parents(o.mselectListClass).length) {\n                            list.scrollTop(list.height());\n                        }\n                    }),\n                container = widget.find('.' + o.mselectInputContainerClass + ''),\n                input = container.find('[type=text].' + o.mselectInputClass + '')\n                    .on('blur.mselectReset', function() {\n                        reset();\n                    })\n                    .on('keydown.mselectAddNewOption', function(e) {\n                        var c = e.keyCode;\n\n                        if (c == o.keyCodes.Enter || c == o.keyCodes.Esc) {\n                            e.preventDefault();\n                            c == o.keyCodes.Enter ? append(input.val())  : reset();\n                        }\n                    }),\n                buttonSave = container.find('.' + o.mselectButtonSaveClass + '')\n                    .on('mousedown.mselectSave', function(e) {\n                        append(input.val());\n                    }),\n                buttonCancel = container.find('.' + o.mselectButtonCancelClass + '')\n                    .on('mousedown.mdelectCancel', function(e) {\n                        input.val('');\n                    }),\n                append = function(v) {\n                    // Add ability to define custom handler for adding new values\n                    if ($.isFunction(o.mselectInputSubmitCallback)) {\n                        o.mselectInputSubmitCallback(v, o);\n                        return;\n                    }\n                    // end of callback implementation\n                    $.each(typeof(o.parse) == 'function' ? o.parse(v) : [$.trim(v)], function(i, v) {\n                        var item;\n\n                        if (v && !select.children('[value=\"' + v + '\"]').length) {\n                            item = $(o.item.replace(/%value%|%label%/gi, v)\n                                .replace(/%mselectDisabledClass%|%iseditable%|%isremovable%/gi,'')\n                                .replace(/%mselectListItemClass%/gi,o.mselectListItemClass))\n                                .find('[type=checkbox]')\n                                .attr('checked', true)\n                                .addClass(o.mselectCheckedClass)\n                                .end();\n\n                            list.children('.' + o.mselectListItemClass + '').length\n                                ? list.children('.' + o.mselectListItemClass + ':last').after(item)\n                                : list.prepend(item);\n\n                            select.append('<option value=\"' + v + '\" selected=\"selected\">' + v + '</option>');\n                        }\n                    });\n\n                    reset();\n                    list.scrollTop(list.height());\n                },\n                reset = function() {\n                    var ch = select.children();\n\n                    input.val('');\n                    container.hide();\n                    buttonAdd.show();\n                    list[list.children().length ? 'show' : 'hide']();\n\n                    if (ch.length >= size && !list.hasClass(o.mselectItemsWrapperOverflowClass)) {\n                        list.height(list.children('.' + o.mselectListItemClass + ':first')\n                            .outerHeight(true) * size)\n                            .addClass(o.mselectItemsWrapperOverflowClass);\n                    }\n                };\n            reset();\n        }).end();\n    };\n});","Magento_Swatches/js/text.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global $break $ $$ */\n\n/**\n *  @api\n */\ndefine([\n    'jquery',\n    'mage/template',\n    'uiRegistry',\n    'jquery/ui',\n    'prototype'\n], function (jQuery, mageTemplate, rg) {\n    'use strict';\n\n    return function (config) {\n        var swatchOptionTextDefaultInputType = 'radio',\n            swatchTextOption = {\n                table: $('swatch-text-options-table'),\n                itemCount: 0,\n                totalItems: 0,\n                rendered: 0,\n                isReadOnly: config.isReadOnly,\n                template: mageTemplate('#swatch-text-row-template'),\n\n                /**\n                 * Add option\n                 *\n                 * @param {Object} data\n                 * @param {Object} render\n                 */\n                add: function (data, render) {\n                    var isNewOption = false,\n                        element;\n\n                    if (typeof data.id == 'undefined') {\n                        data = {\n                            'id': 'option_' + this.itemCount,\n                            'sort_order': this.itemCount + 1\n                        };\n                        isNewOption = true;\n                    }\n\n                    if (!data.intype) {\n                        data.intype = swatchOptionTextDefaultInputType;\n                    }\n\n                    element = this.template({\n                        data: data\n                    });\n\n                    if (isNewOption && !this.isReadOnly) {\n                        this.enableNewOptionDeleteButton(data.id);\n                    }\n                    this.itemCount++;\n                    this.totalItems++;\n                    this.elements += element;\n\n                    if (render) {\n                        this.render();\n                    }\n                },\n\n                /**\n                 * Remove option\n                 *\n                 * @param {Object} event\n                 */\n                remove: function (event) {\n                    var element = $(Event.findElement(event, 'tr')),\n                        elementFlags; // !!! Button already have table parent in safari\n\n                    // Safari workaround\n                    element.ancestors().each(function (parentItem) {\n                        if (parentItem.hasClassName('option-row')) {\n                            element = parentItem;\n                            throw $break;\n                        } else if (parentItem.hasClassName('box')) {\n                            throw $break;\n                        }\n                    });\n\n                    if (element) {\n                        elementFlags = element.getElementsByClassName('delete-flag');\n\n                        if (elementFlags[0]) {\n                            elementFlags[0].value = 1;\n                        }\n\n                        element.addClassName('no-display');\n                        element.addClassName('template');\n                        element.hide();\n                        this.totalItems--;\n                        this.updateItemsCountField();\n                    }\n                },\n\n                /**\n                 * Update items count field\n                 */\n                updateItemsCountField: function () {\n                    $('swatch-text-option-count-check').value = this.totalItems > 0 ? '1' : '';\n                },\n\n                /**\n                 * Enable delete button for new option\n                 *\n                 * @param {String} id\n                 */\n                enableNewOptionDeleteButton: function (id) {\n                    $$('#delete_button_swatch_container_' + id + ' button').each(function (button) {\n                        button.enable();\n                        button.removeClassName('disabled');\n                    });\n                },\n\n                /**\n                 * Bind remove button\n                 */\n                bindRemoveButtons: function () {\n                    jQuery('#swatch-text-options-panel').on('click', '.delete-option', this.remove.bind(this));\n                },\n\n                /**\n                 * Render action\n                 */\n                render: function () {\n                    Element.insert($$('[data-role=swatch-text-options-container]')[0], this.elements);\n                    this.elements = '';\n                },\n\n                /**\n                 * Render action with delay (performance fix)\n                 *\n                 * @param {Object} data\n                 * @param {Number} from\n                 * @param {Number} step\n                 * @param {Number} delay\n                 * @returns {Boolean}\n                 */\n                renderWithDelay: function (data, from, step, delay) {\n                    var arrayLength = data.length,\n                        len;\n\n                    for (len = from + step; from < len && from < arrayLength; from++) {\n                        this.add(data[from]);\n                    }\n                    this.render();\n\n                    if (from === arrayLength) {\n                        this.updateItemsCountField();\n                        this.rendered = 1;\n                        jQuery('body').trigger('processStop');\n\n                        return true;\n                    }\n                    setTimeout(this.renderWithDelay.bind(this, data, from, step, delay), delay);\n                },\n\n                /**\n                 * Ignore validate action\n                 */\n                ignoreValidate: function () {\n                    var ignore = '.ignore-validate input, ' +\n                        '.ignore-validate select, ' +\n                        '.ignore-validate textarea';\n\n                    jQuery('#edit_form').data('validator').settings.forceIgnore = ignore;\n                }\n            };\n\n        if ($('add_new_swatch_text_option_button')) {\n            Event.observe(\n                'add_new_swatch_text_option_button',\n                'click',\n                swatchTextOption.add.bind(swatchTextOption, true)\n            );\n        }\n        jQuery('#swatch-text-options-panel').on('render', function () {\n            swatchTextOption.ignoreValidate();\n\n            if (swatchTextOption.rendered) {\n                return false;\n            }\n            jQuery('body').trigger('processStart');\n            swatchTextOption.renderWithDelay(config.attributesData, 0, 100, 300);\n            swatchTextOption.bindRemoveButtons();\n        });\n\n        if (config.isSortable) {\n            jQuery(function ($) {\n                $('[data-role=swatch-text-options-container]').sortable({\n                    distance: 8,\n                    tolerance: 'pointer',\n                    cancel: 'input, button',\n                    axis: 'y',\n\n                    /**\n                     * Update components\n                     */\n                    update: function () {\n                        $('[data-role=swatch-text-options-container] [data-role=order]').each(\n                            function (index, element) {\n                                $(element).val(index + 1);\n                            }\n                        );\n                    }\n                });\n            });\n        }\n\n        jQuery(document).ready(function () {\n            if (jQuery('#frontend_input').val() !== 'swatch_text') {\n                jQuery('.swatch-text-field-0').removeClass('required-option');\n            }\n        });\n\n        window.swatchTextOption = swatchTextOption;\n        window.swatchOptionTextDefaultInputType = swatchOptionTextDefaultInputType;\n\n        rg.set('swatch-text-options-panel', swatchTextOption);\n    };\n});\n","Magento_Swatches/js/visual.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global $break $ $$ FORM_KEY */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'mage/template',\n    'uiRegistry',\n    'jquery/colorpicker/js/colorpicker',\n    'prototype',\n    'jquery/ui'\n], function (jQuery, mageTemplate, rg) {\n    'use strict';\n\n    return function (config) {\n        var swatchOptionVisualDefaultInputType = 'radio',\n            swatchVisualOption = {\n                table: $('swatch-visual-options-table'),\n                itemCount: 0,\n                totalItems: 0,\n                rendered: 0,\n                isReadOnly: config.isReadOnly,\n                template: mageTemplate('#swatch-visual-row-template'),\n\n                /**\n                 * Add new option using template\n                 *\n                 * @param {Object} data\n                 * @param {Object} render\n                 */\n                add: function (data, render) {\n                    var isNewOption = false,\n                        element;\n\n                    if (typeof data.id == 'undefined') {\n                        data = {\n                            'id': 'option_' + this.itemCount,\n                            'sort_order': this.itemCount + 1,\n                            'empty_class': 'unavailable'\n                        };\n                        isNewOption = true;\n                    } else if (data.defaultswatch0 === '') {\n                        data['empty_class'] = 'unavailable';\n                    }\n\n                    if (!data.intype) {\n                        data.intype = swatchOptionVisualDefaultInputType;\n                    }\n\n                    element = this.template({\n                        data: data\n                    });\n\n                    if (isNewOption && !this.isReadOnly) {\n                        this.enableNewOptionDeleteButton(data.id);\n                    }\n                    this.itemCount++;\n                    this.totalItems++;\n                    this.elements += element;\n\n                    if (render) {\n                        this.render();\n                    }\n                },\n\n                /**\n                 * ColorPicker initialization process\n                 */\n                initColorPicker: function () {\n                    var element = this,\n                        hiddenColorPicker = !jQuery(element).data('colorpickerId');\n\n                    jQuery(this).ColorPicker({\n\n                        /**\n                         * ColorPicker onShow action\n                         */\n                        onShow: function () {\n                            var color = jQuery(element).parent().parent().prev().prev('input').val(),\n                                menu = jQuery(this).parents('.swatch_sub-menu_container');\n\n                            menu.hide();\n                            jQuery(element).ColorPickerSetColor(color);\n                        },\n\n                        /**\n                         * ColorPicker onSubmit action\n                         *\n                         * @param {String} hsb\n                         * @param {String} hex\n                         * @param {String} rgb\n                         * @param {String} el\n                         */\n                        onSubmit: function (hsb, hex, rgb, el) {\n                            var container = jQuery(el).parent().parent().prev();\n\n                            jQuery(el).ColorPickerHide();\n                            container.parent().removeClass('unavailable');\n                            container.prev('input').val('#' + hex);\n                            container.css('background', '#' + hex);\n                        }\n                    });\n\n                    if (hiddenColorPicker) {\n                        jQuery(this).ColorPickerShow();\n                    }\n                },\n\n                /**\n                 * Remove action\n                 *\n                 * @param {Object} event\n                 */\n                remove: function (event) {\n                    var element = $(Event.findElement(event, 'tr')),\n                        elementFlags; // !!! Button already have table parent in safari\n\n                    // Safari workaround\n                    element.ancestors().each(function (parentItem) {\n                        if (parentItem.hasClassName('option-row')) {\n                            element = parentItem;\n                            throw $break;\n                        } else if (parentItem.hasClassName('box')) {\n                            throw $break;\n                        }\n                    });\n\n                    if (element) {\n                        elementFlags = element.getElementsByClassName('delete-flag');\n\n                        if (elementFlags[0]) {\n                            elementFlags[0].value = 1;\n                        }\n\n                        element.addClassName('no-display');\n                        element.addClassName('template');\n                        element.hide();\n                        this.totalItems--;\n                        this.updateItemsCountField();\n                    }\n                },\n\n                /**\n                 * Update items count field\n                 */\n                updateItemsCountField: function () {\n                    $('swatch-visual-option-count-check').value = this.totalItems > 0 ? '1' : '';\n                },\n\n                /**\n                 * Enable delete button for new option\n                 *\n                 * @param {String} id\n                 */\n                enableNewOptionDeleteButton: function (id) {\n                    $$('#delete_button_swatch_container_' + id + ' button').each(function (button) {\n                        button.enable();\n                        button.removeClassName('disabled');\n                    });\n                },\n\n                /**\n                 * Bind remove button\n                 */\n                bindRemoveButtons: function () {\n                    jQuery('#swatch-visual-options-panel').on('click', '.delete-option', this.remove.bind(this));\n                },\n\n                /**\n                 * Render options\n                 */\n                render: function () {\n                    Element.insert($$('[data-role=swatch-visual-options-container]')[0], this.elements);\n                    this.elements = '';\n                },\n\n                /**\n                 * Render elements with delay (performance fix)\n                 *\n                 * @param {Object} data\n                 * @param {Number} from\n                 * @param {Number} step\n                 * @param {Number} delay\n                 * @returns {Boolean}\n                 */\n                renderWithDelay: function (data, from, step, delay) {\n                    var arrayLength = data.length,\n                        len;\n\n                    for (len = from + step; from < len && from < arrayLength; from++) {\n                        this.add(data[from]);\n                    }\n                    this.render();\n\n                    if (from === arrayLength) {\n                        this.updateItemsCountField();\n                        this.rendered = 1;\n                        jQuery('body').trigger('processStop');\n\n                        return true;\n                    }\n                    setTimeout(this.renderWithDelay.bind(this, data, from, step, delay), delay);\n                },\n\n                /**\n                 * Ignore validate action\n                 */\n                ignoreValidate: function () {\n                    var ignore = '.ignore-validate input, ' +\n                        '.ignore-validate select, ' +\n                        '.ignore-validate textarea';\n\n                    jQuery('#edit_form').data('validator').settings.forceIgnore = ignore;\n                }\n            };\n\n        if ($('add_new_swatch_visual_option_button')) {\n            Event.observe(\n                'add_new_swatch_visual_option_button',\n                'click',\n                swatchVisualOption.add.bind(swatchVisualOption, {}, true)\n            );\n        }\n\n        jQuery('#swatch-visual-options-panel').on('render', function () {\n            swatchVisualOption.ignoreValidate();\n\n            if (swatchVisualOption.rendered) {\n                return false;\n            }\n            jQuery('body').trigger('processStart');\n            swatchVisualOption.renderWithDelay(config.attributesData, 0, 100, 300);\n            swatchVisualOption.bindRemoveButtons();\n            jQuery('#swatch-visual-options-panel').on(\n                'click',\n                '.colorpicker_handler',\n                swatchVisualOption.initColorPicker\n            );\n        });\n        jQuery('body').on('click', function (event) {\n            var element = jQuery(event.target);\n\n            if (\n                element.parents('.swatch_sub-menu_container').length === 1 ||\n                element.next('div.swatch_sub-menu_container').length === 1\n            ) {\n                return true;\n            }\n            jQuery('.swatch_sub-menu_container').hide();\n        });\n\n        if (config.isSortable) {\n            jQuery(function ($) {\n                $('[data-role=swatch-visual-options-container]').sortable({\n                    distance: 8,\n                    tolerance: 'pointer',\n                    cancel: 'input, button',\n                    axis: 'y',\n\n                    /**\n                     * Update component\n                     */\n                    update: function () {\n                        $('[data-role=swatch-visual-options-container] [data-role=order]').each(\n                            function (index, element) {\n                                $(element).val(index + 1);\n                            }\n                        );\n                    }\n                });\n            });\n        }\n\n        window.swatchVisualOption = swatchVisualOption;\n        window.swatchOptionVisualDefaultInputType = swatchOptionVisualDefaultInputType;\n\n        rg.set('swatch-visual-options-panel', swatchVisualOption);\n\n        jQuery(function ($) {\n\n            var swatchComponents = {\n\n                /**\n                 * div wrapper for to hide all evement\n                 */\n                wrapper: null,\n\n                /**\n                 * iframe component to perform file upload without page reload\n                 */\n                iframe: null,\n\n                /**\n                 * form component for upload image\n                 */\n                form: null,\n\n                /**\n                 * Input file component for upload image\n                 */\n                inputFile: null,\n\n                /**\n                 * Create swatch component for upload files\n                 *\n                 * @this {swatchComponents}\n                 * @public\n                 */\n                create: function () {\n                    this.wrapper = $('<div>').css({\n                        display: 'none'\n                    }).appendTo($('body'));\n\n                    this.iframe = $('<iframe />', {\n                        id:  'upload_iframe',\n                        name: 'upload_iframe'\n                    }).appendTo(this.wrapper);\n\n                    this.form = $('<form />', {\n                        id: 'swatch_form_image_upload',\n                        name: 'swatch_form_image_upload',\n                        target: 'upload_iframe',\n                        method: 'post',\n                        enctype: 'multipart/form-data',\n                        class: 'ignore-validate',\n                        action: config.uploadActionUrl\n                    }).appendTo(this.wrapper);\n\n                    this.inputFile = $('<input />', {\n                        type: 'file',\n                        name: 'datafile',\n                        class: 'swatch_option_file'\n                    }).appendTo(this.form);\n\n                    $('<input />', {\n                        type: 'hidden',\n                        name: 'form_key',\n                        value: FORM_KEY\n                    }).appendTo(this.form);\n                }\n            };\n\n            /**\n             * Create swatch components\n             */\n            swatchComponents.create();\n\n            /**\n             * Register event for swatch input[type=file] change\n             */\n            swatchComponents.inputFile.change(function () {\n                var container = $('#' + $(this).attr('data-called-by')).parents().eq(2).children('.swatch_window'),\n\n                    /**\n                     * @this {iframe}\n                     */\n                    iframeHandler = function () {\n                        var imageParams = $.parseJSON($(this).contents().find('body').html()),\n                            fullMediaUrl = imageParams['swatch_path'] + imageParams['file_path'];\n\n                        container.prev('input').val(imageParams['file_path']);\n                        container.css({\n                            'background-image': 'url(' + fullMediaUrl + ')',\n                            'background-size': 'cover'\n                        });\n                        container.parent().removeClass('unavailable');\n                    };\n\n                swatchComponents.iframe.off('load');\n                swatchComponents.iframe.load(iframeHandler);\n                swatchComponents.form.submit();\n                $(this).val('');\n            });\n\n            /**\n             * Register event for choose \"upload image\" option\n             */\n            $(document).on('click', '.btn_choose_file_upload', function () {\n                swatchComponents.inputFile.attr('data-called-by', $(this).attr('id'));\n                swatchComponents.inputFile.click();\n            });\n\n            /**\n             * Register event for remove option\n             */\n            $(document).on('click', '.btn_remove_swatch', function () {\n                var optionPanel = $(this).parents().eq(2);\n\n                optionPanel.children('input').val('');\n                optionPanel.children('.swatch_window').css('background', '');\n\n                optionPanel.addClass('unavailable');\n\n                jQuery('.swatch_sub-menu_container').hide();\n            });\n\n            /**\n             * Toggle color upload chooser\n             */\n            $(document).on('click', '.swatch_window', function () {\n                $(this).next('div').toggle();\n            });\n        });\n    };\n});\n","Magento_Swatches/js/product-attributes.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/alert',\n    'Magento_Ui/js/modal/prompt',\n    'uiRegistry',\n    'collapsable'\n], function ($, alert, prompt, rg) {\n    'use strict';\n\n    return function (optionConfig) {\n        var activePanelClass = 'selected-type-options',\n            swatchProductAttributes = {\n                frontendInput: $('#frontend_input'),\n                isFilterable: $('#is_filterable'),\n                isFilterableInSearch: $('#is_filterable_in_search'),\n                backendType: $('#backend_type'),\n                usedForSortBy: $('#used_for_sort_by'),\n                frontendClass: $('#frontend_class'),\n                isWysiwygEnabled: $('#is_wysiwyg_enabled'),\n                isHtmlAllowedOnFront: $('#is_html_allowed_on_front'),\n                isRequired: $('#is_required'),\n                isUnique: $('#is_unique'),\n                defaultValueText: $('#default_value_text'),\n                defaultValueTextarea: $('#default_value_textarea'),\n                defaultValueDate: $('#default_value_date'),\n                defaultValueYesno: $('#default_value_yesno'),\n                isGlobal: $('#is_global'),\n                useProductImageForSwatch: $('#use_product_image_for_swatch'),\n                updateProductPreviewImage: $('#update_product_preview_image'),\n                usedInProductListing: $('#used_in_product_listing'),\n                isVisibleOnFront: $('#is_visible_on_front'),\n                position: $('#position'),\n                attrTabsFront: $('#product_attribute_tabs_front'),\n\n                /**\n                 * @returns {*|jQuery|HTMLElement}\n                 */\n                get tabsFront() {\n                    return this.attrTabsFront.length ? this.attrTabsFront.closest('li') : $('#front_fieldset-wrapper');\n                },\n                selectFields: ['boolean', 'select', 'multiselect', 'price', 'swatch_text', 'swatch_visual'],\n\n                /**\n                 * @this {swatchProductAttributes}\n                 */\n                toggleApplyVisibility: function (select) {\n                    if ($(select).val() === 1) {\n                        $(select).next('select').removeClass('no-display');\n                        $(select).next('select').removeClass('ignore-validate');\n                    } else {\n                        $(select).next('select').addClass('no-display');\n                        $(select).next('select').addClass('ignore-validate');\n                        $(select).next('select option:selected').each(function () {\n                            this.selected = false;\n                        });\n                    }\n                },\n\n                /**\n                 * @this {swatchProductAttributes}\n                 */\n                checkOptionsPanelVisibility: function () {\n                    var selectOptionsPanel = $('#manage-options-panel'),\n                        visualOptionsPanel = $('#swatch-visual-options-panel'),\n                        textOptionsPanel = $('#swatch-text-options-panel');\n\n                    this._hidePanel(selectOptionsPanel);\n                    this._hidePanel(visualOptionsPanel);\n                    this._hidePanel(textOptionsPanel);\n\n                    switch (this.frontendInput.val()) {\n                        case 'swatch_visual':\n                            this._showPanel(visualOptionsPanel);\n                            break;\n\n                        case 'swatch_text':\n                            this._showPanel(textOptionsPanel);\n                            break;\n\n                        case 'select':\n                        case 'multiselect':\n                            this._showPanel(selectOptionsPanel);\n                            break;\n                    }\n                },\n\n                /**\n                 * @this {swatchProductAttributes}\n                 */\n                bindAttributeInputType: function () {\n                    this.checkOptionsPanelVisibility();\n                    this.switchDefaultValueField();\n\n                    if (!~$.inArray(this.frontendInput.val(), this.selectFields)) {\n                        // not in array\n                        this.isFilterable.selectedIndex = 0;\n                        this._disable(this.isFilterable);\n                        this._disable(this.isFilterableInSearch);\n                    } else {\n                        // in array\n                        this._enable(this.isFilterable);\n                        this._enable(this.isFilterableInSearch);\n                        this.backendType.val('int');\n                    }\n\n                    if (this.frontendInput.val() === 'multiselect' ||\n                        this.frontendInput.val() === 'gallery' ||\n                        this.frontendInput.val() === 'textarea'\n                    ) {\n                        this._disable(this.usedForSortBy);\n                    } else {\n                        this._enable(this.usedForSortBy);\n                    }\n\n                    if (this.frontendInput.val() === 'swatch_text') {\n                        $('.swatch-text-field-0').addClass('required-option');\n                    } else {\n                        $('.swatch-text-field-0').removeClass('required-option');\n                    }\n\n                    this.setRowVisibility(this.isWysiwygEnabled, false);\n                    this.setRowVisibility(this.isHtmlAllowedOnFront, false);\n\n                    switch (this.frontendInput.val()) {\n                        case 'textarea':\n                            this.setRowVisibility(this.isWysiwygEnabled, true);\n\n                            if (this.isWysiwygEnabled.val() === '0') {\n                                this._enable(this.isHtmlAllowedOnFront);\n                            }\n                            this.frontendClass.val('');\n                            this._disable(this.frontendClass);\n                            break;\n\n                        case 'text':\n                            this.setRowVisibility(this.isHtmlAllowedOnFront, true);\n                            this._enable(this.frontendClass);\n                            break;\n\n                        case 'select':\n                        case 'multiselect':\n                            this.setRowVisibility(this.isHtmlAllowedOnFront, true);\n                            this.frontendClass.val('');\n                            this._disable(this.frontendClass);\n                            break;\n                        default:\n                            this.frontendClass.val('');\n                            this._disable(this.frontendClass);\n                    }\n\n                    this.switchIsFilterable();\n                },\n\n                /**\n                 * @this {swatchProductAttributes}\n                 */\n                switchIsFilterable: function () {\n                    if (this.isFilterable.selectedIndex === 0) {\n                        this._disable(this.position);\n                    } else {\n                        this._enable(this.position);\n                    }\n                },\n\n                /**\n                 * @this {swatchProductAttributes}\n                 */\n                switchDefaultValueField: function () {\n                    var currentValue = this.frontendInput.val(),\n                        defaultValueTextVisibility = false,\n                        defaultValueTextareaVisibility = false,\n                        defaultValueDateVisibility = false,\n                        defaultValueYesnoVisibility = false,\n                        scopeVisibility = true,\n                        useProductImageForSwatch = false,\n                        defaultValueUpdateImage = false,\n                        optionDefaultInputType = '',\n                        isFrontTabHidden = false,\n                        thing = this;\n\n                    if (!this.frontendInput.length) {\n                        return;\n                    }\n\n                    switch (currentValue) {\n                        case 'select':\n                            optionDefaultInputType = 'radio';\n                            break;\n\n                        case 'multiselect':\n                            optionDefaultInputType = 'checkbox';\n                            break;\n\n                        case 'date':\n                            defaultValueDateVisibility = true;\n                            break;\n\n                        case 'boolean':\n                            defaultValueYesnoVisibility = true;\n                            break;\n\n                        case 'textarea':\n                        case 'texteditor':\n                            defaultValueTextareaVisibility = true;\n                            break;\n\n                        case 'media_image':\n                            defaultValueTextVisibility = false;\n                            break;\n\n                        case 'price':\n                            scopeVisibility = false;\n                            break;\n\n                        case 'swatch_visual':\n                            useProductImageForSwatch = true;\n                            defaultValueUpdateImage = true;\n                            defaultValueTextVisibility = false;\n                            break;\n\n                        case 'swatch_text':\n                            useProductImageForSwatch = false;\n                            defaultValueUpdateImage = true;\n                            defaultValueTextVisibility = false;\n                            break;\n                        default:\n                            defaultValueTextVisibility = true;\n                            break;\n                    }\n\n                    delete optionConfig.hiddenFields['swatch_visual'];\n                    delete optionConfig.hiddenFields['swatch_text'];\n\n                    if (currentValue === 'media_image') {\n                        this.tabsFront.hide();\n                        this.setRowVisibility(this.isRequired, false);\n                        this.setRowVisibility(this.isUnique, false);\n                        this.setRowVisibility(this.frontendClass, false);\n                    } else if (optionConfig.hiddenFields[currentValue]) {\n                        $.each(optionConfig.hiddenFields[currentValue], function (key, option) {\n                            switch (option) {\n                                case '_front_fieldset':\n                                    thing.tabsFront.hide();\n                                    isFrontTabHidden = true;\n                                    break;\n\n                                case '_default_value':\n                                    defaultValueTextVisibility = false;\n                                    defaultValueTextareaVisibility = false;\n                                    defaultValueDateVisibility = false;\n                                    defaultValueYesnoVisibility = false;\n                                    break;\n\n                                case '_scope':\n                                    scopeVisibility = false;\n                                    break;\n                                default:\n                                    thing.setRowVisibility($('#' + option), false);\n                            }\n                        });\n\n                        if (!isFrontTabHidden) {\n                            thing.tabsFront.show();\n                        }\n\n                    } else {\n                        this.tabsFront.show();\n                        this.showDefaultRows();\n                    }\n\n                    this.setRowVisibility(this.defaultValueText, defaultValueTextVisibility);\n                    this.setRowVisibility(this.defaultValueTextarea, defaultValueTextareaVisibility);\n                    this.setRowVisibility(this.defaultValueDate, defaultValueDateVisibility);\n                    this.setRowVisibility(this.defaultValueYesno, defaultValueYesnoVisibility);\n                    this.setRowVisibility(this.isGlobal, scopeVisibility);\n\n                    /* swatch attributes */\n                    this.setRowVisibility(this.useProductImageForSwatch, useProductImageForSwatch);\n                    this.setRowVisibility(this.updateProductPreviewImage, defaultValueUpdateImage);\n\n                    $('input[name=\\'default[]\\']').each(function () {\n                        $(this).attr('type', optionDefaultInputType);\n                    });\n                },\n\n                /**\n                 * @this {swatchProductAttributes}\n                 */\n                showDefaultRows: function () {\n                    this.setRowVisibility(this.isRequired, true);\n                    this.setRowVisibility(this.isUnique, true);\n                    this.setRowVisibility(this.frontendClass, true);\n                },\n\n                /**\n                 * @param {Object} el\n                 * @param {Boolean} isVisible\n                 * @this {swatchProductAttributes}\n                 */\n                setRowVisibility: function (el, isVisible) {\n                    if (isVisible) {\n                        el.show();\n                        el.closest('.field').show();\n                    } else {\n                        el.hide();\n                        el.closest('.field').hide();\n                    }\n                },\n\n                /**\n                 * @param {Object} el\n                 * @this {swatchProductAttributes}\n                 */\n                _disable: function (el) {\n                    el.attr('disabled', 'disabled');\n                },\n\n                /**\n                 * @param {Object} el\n                 * @this {swatchProductAttributes}\n                 */\n                _enable: function (el) {\n                    if (!el.attr('readonly')) {\n                        el.removeAttr('disabled');\n                    }\n                },\n\n                /**\n                 * @param {Object} el\n                 * @this {swatchProductAttributes}\n                 */\n                _showPanel: function (el) {\n                    el.closest('.fieldset').show();\n                    el.addClass(activePanelClass);\n                    this._render(el.attr('id'));\n                },\n\n                /**\n                 * @param {Object} el\n                 * @this {swatchProductAttributes}\n                 */\n                _hidePanel: function (el) {\n                    el.closest('.fieldset').hide();\n                    el.removeClass(activePanelClass);\n                },\n\n                /**\n                 * @param {String} id\n                 * @this {swatchProductAttributes}\n                 */\n                _render: function (id) {\n                    rg.get(id, function () {\n                        $('#' + id).trigger('render');\n                    });\n                },\n\n                /**\n                 * @param {String} promptMessage\n                 * @this {swatchProductAttributes}\n                 */\n                saveAttributeInNewSet: function (promptMessage) {\n\n                    prompt({\n                        content: promptMessage,\n                        actions: {\n\n                            /**\n                             * @param {String} val\n                             * @this {actions}\n                             */\n                            confirm: function (val) {\n                                var rules = ['required-entry', 'validate-no-html-tags'],\n                                    newAttributeSetNameInputId = $('#new_attribute_set_name'),\n                                    editForm = $('#edit_form'),\n                                    newAttributeSetName = val,\n                                    i;\n\n                                if (!newAttributeSetName) {\n                                    return;\n                                }\n\n                                for (i = 0; i < rules.length; i++) {\n                                    if (!$.validator.methods[rules[i]](newAttributeSetName)) {\n                                        alert({\n                                            content: $.validator.messages[rules[i]]\n                                        });\n\n                                        return;\n                                    }\n                                }\n\n                                if (newAttributeSetNameInputId.length) {\n                                    newAttributeSetNameInputId.val(newAttributeSetName);\n                                } else {\n                                    editForm.append(new Element('input', {\n                                            type: 'hidden',\n                                            id: newAttributeSetNameInputId,\n                                            name: 'new_attribute_set_name',\n                                            value: newAttributeSetName\n                                        })\n                                    );\n                                }\n                                // Temporary solution will replaced after refactoring of attributes functionality\n                                editForm.triggerHandler('save');\n                            }\n                        }\n                    });\n                }\n            };\n\n        $(function () {\n            var editForm = $('#edit_form'),\n                swatchVisualPanel = $('#swatch-visual-options-panel'),\n                swatchTextPanel = $('#swatch-text-options-panel'),\n                tableBody = $(),\n                activePanel = $();\n\n            $('#frontend_input').bind('change', function () {\n                swatchProductAttributes.bindAttributeInputType();\n            });\n            $('#is_filterable').bind('change', function () {\n                swatchProductAttributes.switchIsFilterable();\n            });\n\n            swatchProductAttributes.bindAttributeInputType();\n\n            // @todo: refactor collapsible component\n            $('.attribute-popup .collapse, [data-role=\"advanced_fieldset-content\"]')\n                .collapsable()\n                .collapse('hide');\n\n            editForm.on('beforeSubmit', function () {\n                var optionContainer, optionsValues;\n\n                activePanel = swatchTextPanel.hasClass(activePanelClass) ? swatchTextPanel : swatchVisualPanel;\n                optionContainer = activePanel.find('table tbody');\n\n                if (activePanel.hasClass(activePanelClass)) {\n                    optionsValues = $.map(\n                        optionContainer.find('tr'),\n                        function (row) {\n                            return $(row).find('input, select, textarea').serialize();\n                        }\n                    );\n                    $('<input>')\n                        .attr({\n                            type: 'hidden',\n                            name: 'serialized_options'\n                        })\n                        .val(JSON.stringify(optionsValues))\n                        .prependTo(editForm);\n                }\n\n                tableBody = optionContainer.detach();\n            });\n\n            editForm.on('afterValidate.error highlight.validate', function () {\n                if (activePanel.hasClass(activePanelClass)) {\n                    activePanel.find('table').append(tableBody);\n                    $('input[name=\"serialized_options\"]').remove();\n                }\n            });\n        });\n\n        window.saveAttributeInNewSet = swatchProductAttributes.saveAttributeInNewSet;\n        window.toggleApplyVisibility = swatchProductAttributes.toggleApplyVisibility;\n    };\n});\n","Magento_Swatches/js/form/element/swatch-visual.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* global $break $ FORM_KEY */\n\n/**\n * @api\n */\ndefine([\n    'underscore',\n    'Magento_Ui/js/lib/view/utils/async',\n    'mage/template',\n    'uiRegistry',\n    'prototype',\n    'Magento_Ui/js/form/element/abstract',\n    'jquery/colorpicker/js/colorpicker',\n    'jquery/ui'\n], function (_, jQuery, mageTemplate, rg, prototype, Abstract) {\n    'use strict';\n\n    /**\n     * Former implementation.\n     *\n     * @param {*} value\n     * @param {Object} container\n     * @param {String} uploadUrl\n     * @param {String} elementName\n     */\n    function oldCode(value, container, uploadUrl, elementName) {\n        var swatchVisualOption = {\n            itemCount: 0,\n            totalItems: 0,\n            rendered: 0,\n            isReadOnly: false,\n\n            /**\n             * Initialize.\n             */\n            initialize: function () {\n                if (_.isEmpty(value)) {\n                    container.addClassName('unavailable');\n                }\n\n                jQuery(container).on(\n                    'click',\n                    '.colorpicker_handler',\n                    this.initColorPicker\n                );\n            },\n\n            /**\n             * ColorPicker initialization process\n             */\n            initColorPicker: function () {\n                var element = this,\n                    hiddenColorPicker = !jQuery(element).data('colorpickerId');\n\n                jQuery(this).ColorPicker({\n\n                    /**\n                     * ColorPicker onShow action\n                     */\n                    onShow: function () {\n                        var color = jQuery(element).parent().parent().prev().prev('input').val(),\n                            menu = jQuery(this).parents('.swatch_sub-menu_container');\n\n                        menu.hide();\n                        jQuery(element).ColorPickerSetColor(color);\n                    },\n\n                    /**\n                     * ColorPicker onSubmit action\n                     *\n                     * @param {String} hsb\n                     * @param {String} hex\n                     * @param {String} rgb\n                     * @param {String} el\n                     */\n                    onSubmit: function (hsb, hex, rgb, el) {\n                        var localContainer = jQuery(el).parent().parent().prev();\n\n                        jQuery(el).ColorPickerHide();\n                        localContainer.parent().removeClass('unavailable');\n                        localContainer.prev('input').val('#' + hex).trigger('change');\n                        localContainer.css('background', '#' + hex);\n                    }\n                });\n\n                if (hiddenColorPicker) {\n                    jQuery(this).ColorPickerShow();\n                }\n            },\n\n            /**\n             * Remove action\n             *\n             * @param {Object} event\n             */\n            remove: function (event) {\n                var element = $(Event.findElement(event, 'tr')),\n                    elementFlags; // !!! Button already have table parent in safari\n\n                // Safari workaround\n                element.ancestors().each(function (parentItem) {\n                    if (parentItem.hasClassName('option-row')) {\n                        element = parentItem;\n                        throw $break;\n                    } else if (parentItem.hasClassName('box')) {\n                        throw $break;\n                    }\n                });\n\n                if (element) {\n                    elementFlags = element.getElementsByClassName('delete-flag');\n\n                    if (elementFlags[0]) {\n                        elementFlags[0].value = 1;\n                    }\n\n                    element.addClassName('no-display');\n                    element.addClassName('template');\n                    element.hide();\n                    this.totalItems--;\n                    this.updateItemsCountField();\n                }\n            },\n\n            /**\n             * Update items count field\n             */\n            updateItemsCountField: function () {\n                $('swatch-visual-option-count-check').value = this.totalItems > 0 ? '1' : '';\n            }\n        };\n\n        //swatchVisualOption.initColorPicker();\n\n        jQuery('body').on('click', function (event) {\n            var element = jQuery(event.target);\n\n            if (\n                element.parents('.swatch_sub-menu_container').length === 1 ||\n                element.next('div.swatch_sub-menu_container').length === 1\n            ) {\n                return true;\n            }\n            jQuery('.swatch_sub-menu_container').hide();\n        });\n\n        jQuery(function ($) {\n\n            var swatchComponents = {\n\n                /**\n                 * div wrapper for to hide all evement\n                 */\n                wrapper: null,\n\n                /**\n                 * iframe component to perform file upload without page reload\n                 */\n                iframe: null,\n\n                /**\n                 * form component for upload image\n                 */\n                form: null,\n\n                /**\n                 * Input file component for upload image\n                 */\n                inputFile: null,\n\n                /**\n                 * Create swatch component for upload files\n                 *\n                 * @this {swatchComponents}\n                 * @public\n                 */\n                create: function () {\n                    this.wrapper = $('<div>').css({\n                        display: 'none'\n                    }).appendTo($('body'));\n\n                    this.iframe = $('<iframe />', {\n                        name: 'upload_iframe_' + elementName\n                    }).appendTo(this.wrapper);\n\n                    this.form = $('<form />', {\n                        name: 'swatch_form_image_upload_' + elementName,\n                        target: 'upload_iframe_' + elementName,\n                        method: 'post',\n                        enctype: 'multipart/form-data',\n                        class: 'ignore-validate',\n                        action: uploadUrl\n                    }).appendTo(this.wrapper);\n\n                    this.inputFile = $('<input />', {\n                        type: 'file',\n                        name: 'datafile',\n                        class: 'swatch_option_file'\n                    }).appendTo(this.form);\n\n                    $('<input />', {\n                        type: 'hidden',\n                        name: 'form_key',\n                        value: FORM_KEY\n                    }).appendTo(this.form);\n                }\n            };\n\n            swatchVisualOption.initialize();\n\n            /**\n             * Create swatch components\n             */\n            swatchComponents.create();\n\n            /**\n             * Register event for swatch input[type=file] change\n             */\n            swatchComponents.inputFile.change(function () {\n                var localContainer = $('.' + $(this).attr('data-called-by')).parents().eq(2).children('.swatch_window'),\n\n                    /**\n                     * @this {iframe}\n                     */\n                    iframeHandler = function () {\n                        var imageParams = $.parseJSON($(this).contents().find('body').html()),\n                            fullMediaUrl = imageParams['swatch_path'] + imageParams['file_path'];\n\n                        localContainer.prev('input').val(imageParams['file_path']).trigger('change');\n                        localContainer.css({\n                            'background-image': 'url(' + fullMediaUrl + ')',\n                            'background-size': 'cover'\n                        });\n                        localContainer.parent().removeClass('unavailable');\n                    };\n\n                swatchComponents.iframe.off('load');\n                swatchComponents.iframe.load(iframeHandler);\n                swatchComponents.form.submit();\n                $(this).val('');\n            });\n\n            /**\n             * Register event for choose \"upload image\" option\n             */\n            $(container).on('click', '.btn_choose_file_upload', function () {\n                swatchComponents.inputFile.attr('data-called-by', $(this).data('class'));\n                swatchComponents.inputFile.click();\n            });\n\n            /**\n             * Register event for remove option\n             */\n            $(container).on('click', '.btn_remove_swatch', function () {\n                var optionPanel = $(this).parents().eq(2);\n\n                optionPanel.children('input').val('').trigger('change');\n                optionPanel.children('.swatch_window').css('background', '');\n                optionPanel.addClass('unavailable');\n                jQuery('.swatch_sub-menu_container').hide();\n            });\n\n            /**\n             * Toggle color upload chooser\n             */\n            $(container).on('click', '.swatch_window', function () {\n                jQuery('.swatch_sub-menu_container').hide();\n                $(this).next('div').toggle();\n            });\n        });\n    }\n\n    return Abstract.extend({\n        defaults: {\n            elementId: 0,\n            prefixName: '',\n            prefixElementName: '',\n            elementName: '',\n            value: '',\n            uploadUrl: ''\n        },\n\n        /**\n         * Parses options and merges the result with instance\n         *\n         * @returns {Object} Chainable.\n         */\n        initConfig: function () {\n            this._super();\n\n            this.configureDataScope();\n\n            return this;\n        },\n\n        /**\n         * Initialize.\n         *\n         * @returns {Object} Chainable.\n         */\n        initialize: function () {\n            this._super()\n                .initOldCode()\n                .on('value', this.onChangeColor.bind(this));\n\n            return this;\n        },\n\n        /**\n         * Handler function that execute when color changes.\n         *\n         * @param {String} data - color\n         */\n        onChangeColor: function (data) {\n            if (!data) {\n                jQuery('.' + this.elementName).parent().removeClass('unavailable');\n            }\n        },\n\n        /**\n         * Initialize wrapped former implementation.\n         *\n         * @returns {Object} Chainable.\n         */\n        initOldCode: function () {\n            jQuery.async('.' + this.elementName, this.name, function (elem) {\n                oldCode(this.value(), elem.parentElement, this.uploadUrl, this.elementName);\n            }.bind(this));\n\n            return this;\n        },\n\n        /**\n         * Configure data scope.\n         */\n        configureDataScope: function () {\n            var recordId, prefixName;\n\n            // Get recordId\n            recordId = this.parentName.split('.').last();\n\n            prefixName = this.dataScopeToHtmlArray(this.prefixName);\n            this.elementName = this.prefixElementName + recordId;\n\n            this.inputName = prefixName + '[' + this.elementName + ']';\n            this.exportDataLink = 'data.' + this.prefixName + '.' + this.elementName;\n            this.exports.value = this.provider + ':' + this.exportDataLink;\n        },\n\n        /** @inheritdoc */\n        destroy: function () {\n            this._super();\n\n            this.source.remove(this.exportDataLink);\n        },\n\n        /**\n         * Get HTML array from data scope.\n         *\n         * @param {String} dataScopeString\n         * @returns {String}\n         */\n        dataScopeToHtmlArray: function (dataScopeString) {\n            var dataScopeArray, dataScope, reduceFunction;\n\n            /**\n             * Add new level of nesting.\n             *\n             * @param {String} prev\n             * @param {String} curr\n             * @returns {String}\n             */\n            reduceFunction = function (prev, curr) {\n                return prev + '[' + curr + ']';\n            };\n\n            dataScopeArray = dataScopeString.split('.');\n\n            dataScope = dataScopeArray.shift();\n            dataScope += dataScopeArray.reduce(reduceFunction, '');\n\n            return dataScope;\n        }\n    });\n});\n","Magento_InventoryCatalogAdminUi/js/product/form/qty.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_CatalogInventory/js/components/qty-validator-changer'\n], function (Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            links: {\n                value: false\n            }\n        },\n\n        /** @inheritdoc */\n        getInitialValue: function () {\n            var values = [this.source.get(this.dataScope), this.default],\n                value;\n\n            values.some(function (v) {\n                if (v !== null && v !== undefined) {\n                    value = v;\n\n                    return true;\n                }\n\n                return false;\n            });\n\n            return this.normalizeData(value);\n        },\n\n        /** @inheritdoc */\n        setDifferedFromDefault: function () {\n            this._super();\n\n            if (this.value() && parseFloat(this.initialValue) !== parseFloat(this.value())) {\n                this.source.set(this.dataScope, this.value());\n            } else {\n                this.source.remove(this.dataScope);\n            }\n        }\n    });\n});\n","Magento_InventoryCatalogAdminUi/js/product/form/source-items.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/components/fieldset',\n    'uiRegistry',\n    'underscore'\n], function (Fieldset, registry, _) {\n    'use strict';\n\n    return Fieldset.extend({\n        defaults: {\n            advancedInventoryButtonIndex: '',\n            imports: {\n                onStockChange: '${ $.provider }:data.product.stock_data.manage_stock'\n            }\n        },\n\n        /**\n         * \"Advanced Inventory\" button should stay active in any case.\n         *\n         * @param {Integer} canManageStock\n         */\n        onStockChange: function (canManageStock) {\n            var advancedInventoryButton = registry.get('index = ' + this.advancedInventoryButtonIndex);\n\n            if (canManageStock === 0) {\n                if (!_.isUndefined(advancedInventoryButton)) {\n                    advancedInventoryButton.disabled(false);\n                }\n            }\n        }\n    });\n});\n","Magento_InventoryCatalogAdminUi/js/product/form/stock-status.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/select'\n], function (Select) {\n    'use strict';\n\n    return Select.extend({\n        defaults: {\n            links: {\n                value: false\n            }\n        },\n\n        /** @inheritdoc */\n        getInitialValue: function () {\n            var values = [this.source.get(this.dataScope), this.default],\n                value;\n\n            values.some(function (v) {\n                if (v !== null && v !== undefined) {\n                    value = v;\n\n                    return true;\n                }\n\n                return false;\n            });\n\n            return this.normalizeData(value);\n        },\n\n        /** @inheritdoc */\n        setDifferedFromDefault: function () {\n            this._super();\n\n            if (parseFloat(this.initialValue) !== parseFloat(this.value())) {\n                this.source.set(this.dataScope, this.value());\n            } else {\n                this.source.remove(this.dataScope);\n            }\n        }\n    });\n});\n","Magento_InventoryCatalogAdminUi/js/product/grid/cell/quantity-per-source.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/grid/columns/column'\n], function (Column) {\n    'use strict';\n\n    return Column.extend({\n        defaults: {\n            bodyTmpl: 'Magento_InventoryCatalogAdminUi/product/grid/cell/source-items.html',\n            itemsToDisplay: 5\n        },\n\n        /**\n         * Get source items data (source name and qty)\n         *\n         * @param {Object} record - Record object\n         * @returns {Array} Result array\n         */\n        getSourceItemsData: function (record) {\n            return record[this.index] ? record[this.index] : [];\n        },\n\n        /**\n         * @param {Object} record - Record object\n         * @returns {Array} Result array\n         */\n        getSourceItemsDataCut: function (record) {\n            return this.getSourceItemsData(record).slice(0, this.itemsToDisplay);\n        }\n    });\n});\n","Magento_CatalogInventory/js/components/use-config-settings.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/single-checkbox'\n], function (checkbox) {\n    'use strict';\n\n    return checkbox.extend({\n        defaults: {\n            valueFromConfig: '',\n            linkedValue: ''\n        },\n\n        /**\n         * @returns {Element}\n         */\n        initObservable: function () {\n            return this\n                ._super()\n                .observe(['valueFromConfig', 'linkedValue']);\n        },\n\n        /**\n         * @inheritdoc\n         */\n        'onCheckedChanged': function (newChecked) {\n            if (newChecked) {\n                this.linkedValue(this.valueFromConfig());\n            }\n\n            this._super(newChecked);\n        }\n    });\n});\n","Magento_CatalogInventory/js/components/use-config-min-sale-qty.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/single-checkbox',\n    'underscore',\n    'uiRegistry'\n], function (checkbox, _, registry) {\n    'use strict';\n\n    return checkbox.extend({\n        defaults: {\n            valueFromConfig: ''\n        },\n\n        /**\n         * @returns {Element}\n         */\n        initObservable: function () {\n            return this\n                ._super()\n                .observe(['valueFromConfig']);\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initialize: function () {\n            this._super();\n            this.onCheckedChanged(this.checked());\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        'onCheckedChanged': function (newChecked) {\n            var valueFromConfig = this.valueFromConfig();\n\n            if (newChecked && (_.isArray(valueFromConfig) && valueFromConfig.length === 0 || valueFromConfig === 1)) {\n                this.changeVisibleDisabled(this.inputField, true, true, 1);\n            } else if (newChecked && _.isObject(valueFromConfig)) {\n                this.changeVisibleDisabled(this.inputField, false, true, null);\n                this.changeVisibleDisabled(this.dynamicRowsField, true, true, null);\n            } else if (newChecked && _.isNumber(valueFromConfig)) {\n                this.changeVisibleDisabled(this.inputField, true, true, null);\n                this.changeVisibleDisabled(this.dynamicRowsField, false, true, null);\n            } else {\n                this.changeVisibleDisabled(this.inputField, true, false, null);\n                this.changeVisibleDisabled(this.dynamicRowsField, false, true, null);\n            }\n\n            this._super(newChecked);\n        },\n\n        /**\n         * Change visible and disabled\n         *\n         * @param {String} filter\n         * @param {Boolean} visible\n         * @param {Boolean} disabled\n         * @param {Null|Number} valueFromConfig\n         */\n        changeVisibleDisabled: function (filter, visible, disabled, valueFromConfig) {\n            registry.async(filter)(\n                function (currentComponent) {\n                    var initialValue = currentComponent.initialValue;\n\n                    if (_.isString(initialValue) || initialValue === 0 || valueFromConfig === 1) {\n                        currentComponent.value(1);\n                    } else if (initialValue) {\n                        currentComponent.value(initialValue);\n                    }\n\n                    currentComponent.visible(visible);\n                    currentComponent.disabled(disabled);\n                }\n            );\n        }\n    });\n});\n","Magento_CatalogInventory/js/components/qty-validator-changer.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/abstract'\n], function (Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            valueUpdate: 'input'\n        },\n\n        /**\n         * Change validator\n         */\n        handleChanges: function (value) {\n            var isDigits = value !== 1;\n\n            this.validation['validate-integer'] = isDigits;\n            this.validation['less-than-equals-to'] = isDigits ? 99999999 : 99999999.9999;\n            this.validate();\n        }\n    });\n});\n","Magento_Bundle/js/bundle-type-handler.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'Magento_Catalog/catalog/type-events',\n    'Magento_Catalog/js/product/weight-handler'\n], function ($, productType, weight) {\n    'use strict';\n\n    return {\n\n        /**\n         * Constructor component\n         */\n        'Magento_Bundle/js/bundle-type-handler': function () {\n            this.bindAll();\n            this._initType();\n        },\n\n        /**\n         * Bind all\n         */\n        bindAll: function () {\n            $(document).on('changeTypeProduct', this._initType.bind(this));\n        },\n\n        /**\n         * Init type\n         * @private\n         */\n        _initType: function () {\n            if (\n                productType.type.init === 'bundle' &&\n                productType.type.current !== 'bundle' &&\n                !weight.isLocked()\n            ) {\n                weight.switchWeight();\n            }\n        }\n    };\n});\n","Magento_Bundle/js/price-bundle.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'priceUtils',\n    'priceBox'\n], function ($, _, mageTemplate, utils) {\n    'use strict';\n\n    var globalOptions = {\n        optionConfig: null,\n        productBundleSelector: 'input.bundle.option, select.bundle.option, textarea.bundle.option',\n        qtyFieldSelector: 'input.qty',\n        priceBoxSelector: '.price-box',\n        optionHandlers: {},\n        optionTemplate: '<%- data.label %>' +\n        '<% if (data.finalPrice.value) { %>' +\n        ' +<%- data.finalPrice.formatted %>' +\n        '<% } %>',\n        controlContainer: 'dd', // should be eliminated\n        priceFormat: {},\n        isFixedPrice: false\n    };\n\n    $.widget('mage.priceBundle', {\n        options: globalOptions,\n\n        /**\n         * @private\n         */\n        _init: function initPriceBundle() {\n            var form = this.element,\n                options = $(this.options.productBundleSelector, form);\n\n            options.trigger('change');\n        },\n\n        /**\n         * @private\n         */\n        _create: function createPriceBundle() {\n            var form = this.element,\n                options = $(this.options.productBundleSelector, form),\n                priceBox = $(this.options.priceBoxSelector, form),\n                qty = $(this.options.qtyFieldSelector, form);\n\n            if (priceBox.data('magePriceBox') &&\n                priceBox.priceBox('option') &&\n                priceBox.priceBox('option').priceConfig\n            ) {\n                if (priceBox.priceBox('option').priceConfig.optionTemplate) {\n                    this._setOption('optionTemplate', priceBox.priceBox('option').priceConfig.optionTemplate);\n                }\n                this._setOption('priceFormat', priceBox.priceBox('option').priceConfig.priceFormat);\n                priceBox.priceBox('setDefault', this.options.optionConfig.prices);\n            }\n            this._applyOptionNodeFix(options);\n\n            options.on('change', this._onBundleOptionChanged.bind(this));\n            qty.on('change', this._onQtyFieldChanged.bind(this));\n        },\n\n        /**\n         * Handle change on bundle option inputs\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _onBundleOptionChanged: function onBundleOptionChanged(event) {\n            var changes,\n                bundleOption = $(event.target),\n                priceBox = $(this.options.priceBoxSelector, this.element),\n                handler = this.options.optionHandlers[bundleOption.data('role')];\n\n            bundleOption.data('optionContainer', bundleOption.closest(this.options.controlContainer));\n            bundleOption.data('qtyField', bundleOption.data('optionContainer').find(this.options.qtyFieldSelector));\n\n            if (handler && handler instanceof Function) {\n                changes = handler(bundleOption, this.options.optionConfig, this);\n            } else {\n                changes = defaultGetOptionValue(bundleOption, this.options.optionConfig);//eslint-disable-line\n            }\n\n            if (changes) {\n                priceBox.trigger('updatePrice', changes);\n            }\n            this.updateProductSummary();\n        },\n\n        /**\n         * Handle change on qty inputs near bundle option\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _onQtyFieldChanged: function onQtyFieldChanged(event) {\n            var field = $(event.target),\n                optionInstance,\n                optionConfig;\n\n            if (field.data('optionId') && field.data('optionValueId')) {\n                optionInstance = field.data('option');\n                optionConfig = this.options.optionConfig\n                    .options[field.data('optionId')]\n                    .selections[field.data('optionValueId')];\n                optionConfig.qty = field.val();\n\n                optionInstance.trigger('change');\n            }\n        },\n\n        /**\n         * Helper to fix backend behavior:\n         *  - if default qty large than 1 then backend multiply price in config\n         *\n         * @deprecated\n         * @private\n         */\n        _applyQtyFix: function applyQtyFix() {\n            var config = this.options.optionConfig;\n\n            if (config.isFixedPrice) {\n                _.each(config.options, function (option) {\n                    _.each(option.selections, function (item) {\n                        if (item.qty && item.qty !== 1) {\n                            _.each(item.prices, function (price) {\n                                price.amount /= item.qty;\n                            });\n                        }\n                    });\n                });\n            }\n        },\n\n        /**\n         * Helper to fix issue with option nodes:\n         *  - you can't place any html in option ->\n         *    so you can't style it via CSS\n         * @param {jQuery} options\n         * @private\n         */\n        _applyOptionNodeFix: function applyOptionNodeFix(options) {\n            var config = this.options,\n                format = config.priceFormat,\n                template = config.optionTemplate;\n\n            template = mageTemplate(template);\n            options.filter('select').each(function (index, element) {\n                var $element = $(element),\n                    optionId = utils.findOptionId($element),\n                    optionConfig = config.optionConfig && config.optionConfig.options[optionId].selections,\n                    value;\n\n                $element.find('option').each(function (idx, option) {\n                    var $option,\n                        optionValue,\n                        toTemplate,\n                        prices;\n\n                    $option = $(option);\n                    optionValue = $option.val();\n\n                    if (!optionValue && optionValue !== 0) {\n                        return;\n                    }\n\n                    toTemplate = {\n                        data: {\n                            label: optionConfig[optionValue] && optionConfig[optionValue].name\n                        }\n                    };\n                    prices = optionConfig[optionValue].prices;\n\n                    _.each(prices, function (price, type) {\n                        value = +price.amount;\n                        value += _.reduce(price.adjustments, function (sum, x) {//eslint-disable-line\n                            return sum + x;\n                        }, 0);\n                        toTemplate.data[type] = {\n                            value: value,\n                            formatted: utils.formatPrice(value, format)\n                        };\n                    });\n\n                    $option.html(template(toTemplate));\n                });\n            });\n        },\n\n        /**\n         * Custom behavior on getting options:\n         * now widget able to deep merge accepted configuration with instance options.\n         * @param  {Object}  options\n         * @return {$.Widget}\n         */\n        _setOptions: function setOptions(options) {\n            $.extend(true, this.options, options);\n\n            this._super(options);\n\n            return this;\n        },\n\n        /**\n         * Handler to update productSummary box\n         */\n        updateProductSummary: function updateProductSummary() {\n            this.element.trigger('updateProductSummary', {\n                config: this.options.optionConfig\n            });\n        }\n    });\n\n    return $.mage.priceBundle;\n\n    /**\n     * Converts option value to priceBox object\n     *\n     * @param   {jQuery} element\n     * @param   {Object} config\n     * @returns {Object|null} - priceBox object with additional prices\n     */\n    function defaultGetOptionValue(element, config) {\n        var changes = {},\n            optionHash,\n            tempChanges,\n            qtyField,\n            optionId = utils.findOptionId(element[0]),\n            optionValue = element.val() || null,\n            optionName = element.prop('name'),\n            optionType = element.prop('type'),\n            optionConfig = config.options[optionId].selections,\n            optionQty = 0,\n            canQtyCustomize = false,\n            selectedIds = config.selected;\n\n        switch (optionType) {\n            case 'radio':\n            case 'select-one':\n\n                if (optionType === 'radio' && !element.is(':checked')) {\n                    return null;\n                }\n\n                qtyField = element.data('qtyField');\n                qtyField.data('option', element);\n\n                if (optionValue) {\n                    optionQty = optionConfig[optionValue].qty || 0;\n                    canQtyCustomize = optionConfig[optionValue].customQty === '1';\n                    toggleQtyField(qtyField, optionQty, optionId, optionValue, canQtyCustomize);//eslint-disable-line\n                    tempChanges = utils.deepClone(optionConfig[optionValue].prices);\n                    tempChanges = applyTierPrice(//eslint-disable-line\n                        tempChanges,\n                        optionQty,\n                        optionConfig[optionValue]\n                    );\n                    tempChanges = applyQty(tempChanges, optionQty);//eslint-disable-line\n                } else {\n                    tempChanges = {};\n                    toggleQtyField(qtyField, '0', optionId, optionValue, false);//eslint-disable-line\n                }\n                optionHash = 'bundle-option-' + optionName;\n                changes[optionHash] = tempChanges;\n                selectedIds[optionId] = [optionValue];\n                break;\n\n            case 'select-multiple':\n                optionValue = _.compact(optionValue);\n\n                _.each(optionConfig, function (row, optionValueCode) {\n                    optionHash = 'bundle-option-' + optionName + '##' + optionValueCode;\n                    optionQty = row.qty || 0;\n                    tempChanges = utils.deepClone(row.prices);\n                    tempChanges = applyTierPrice(tempChanges, optionQty, optionConfig);//eslint-disable-line\n                    tempChanges = applyQty(tempChanges, optionQty);//eslint-disable-line\n                    changes[optionHash] = _.contains(optionValue, optionValueCode) ? tempChanges : {};\n                });\n\n                selectedIds[optionId] = optionValue || [];\n                break;\n\n            case 'checkbox':\n                optionHash = 'bundle-option-' + optionName + '##' + optionValue;\n                optionQty = optionConfig[optionValue].qty || 0;\n                tempChanges = utils.deepClone(optionConfig[optionValue].prices);\n                tempChanges = applyTierPrice(tempChanges, optionQty, optionConfig);//eslint-disable-line\n                tempChanges = applyQty(tempChanges, optionQty);//eslint-disable-line\n                changes[optionHash] = element.is(':checked') ? tempChanges : {};\n\n                selectedIds[optionId] = selectedIds[optionId] || [];\n\n                if (!_.contains(selectedIds[optionId], optionValue) && element.is(':checked')) {\n                    selectedIds[optionId].push(optionValue);\n                } else if (!element.is(':checked')) {\n                    selectedIds[optionId] = _.without(selectedIds[optionId], optionValue);\n                }\n                break;\n\n            case 'hidden':\n                optionHash = 'bundle-option-' + optionName + '##' + optionValue;\n                optionQty = optionConfig[optionValue].qty || 0;\n                canQtyCustomize = optionConfig[optionValue].customQty === '1';\n                qtyField = element.data('qtyField');\n                qtyField.data('option', element);\n                toggleQtyField(qtyField, optionQty, optionId, optionValue, canQtyCustomize);//eslint-disable-line\n                tempChanges = utils.deepClone(optionConfig[optionValue].prices);\n                tempChanges = applyTierPrice(tempChanges, optionQty, optionConfig);//eslint-disable-line\n                tempChanges = applyQty(tempChanges, optionQty);//eslint-disable-line\n\n                optionHash = 'bundle-option-' + optionName;\n                changes[optionHash] = tempChanges;\n                selectedIds[optionId] = [optionValue];\n                break;\n        }\n\n        return changes;\n    }\n\n    /**\n     * Helper to toggle qty field\n     * @param {jQuery} element\n     * @param {String|Number} value\n     * @param {String|Number} optionId\n     * @param {String|Number} optionValueId\n     * @param {Boolean} canEdit\n     */\n    function toggleQtyField(element, value, optionId, optionValueId, canEdit) {\n        element\n            .val(value)\n            .data('optionId', optionId)\n            .data('optionValueId', optionValueId)\n            .attr('disabled', !canEdit);\n\n        if (canEdit) {\n            element.removeClass('qty-disabled');\n        } else {\n            element.addClass('qty-disabled');\n        }\n    }\n\n    /**\n     * Helper to multiply on qty\n     *\n     * @param   {Object} prices\n     * @param   {Number} qty\n     * @returns {Object}\n     */\n    function applyQty(prices, qty) {\n        _.each(prices, function (everyPrice) {\n            everyPrice.amount *= qty;\n            _.each(everyPrice.adjustments, function (el, index) {\n                everyPrice.adjustments[index] *= qty;\n            });\n        });\n\n        return prices;\n    }\n\n    /**\n     * Helper to limit price with tier price\n     *\n     * @param {Object} oneItemPrice\n     * @param {Number} qty\n     * @param {Object} optionConfig\n     * @returns {Object}\n     */\n    function applyTierPrice(oneItemPrice, qty, optionConfig) {\n        var tiers = optionConfig.tierPrice,\n            magicKey = _.keys(oneItemPrice)[0],\n            lowest = false;\n\n        _.each(tiers, function (tier, index) {\n            if (tier['price_qty'] > qty) {\n                return;\n            }\n\n            if (tier.prices[magicKey].amount < oneItemPrice[magicKey].amount) {\n                lowest = index;\n            }\n        });\n\n        if (lowest !== false) {\n            oneItemPrice = utils.deepClone(tiers[lowest].prices);\n        }\n\n        return oneItemPrice;\n    }\n});\n","Magento_Bundle/js/bundle-product.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/*global FORM_KEY*/\n/*global bSelection*/\n/*global $H*/\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'Magento_Catalog/js/product/weight-handler',\n    'Magento_Ui/js/modal/modal',\n    'jquery/ui',\n    'mage/translate',\n    'Magento_Theme/js/sortable',\n    'prototype'\n], function ($, weightHandler) {\n    'use strict';\n\n    $.widget('mage.bundleProduct', {\n        /** @inheritdoc */\n        _create: function () {\n            this._initOptionBoxes()\n                ._initSortableSelections()\n                ._bindCheckboxHandlers()\n                ._initCheckboxState()\n                ._bindAddSelectionDialog()\n                ._hideProductTypeSwitcher();\n        },\n\n        /**\n         * @return {Object}\n         * @private\n         */\n        _initOptionBoxes: function () {\n            var syncOptionTitle;\n\n            this.element.sortable({\n                axis: 'y',\n                handle: '[data-role=draggable-handle]',\n                items: '.option-box',\n                update: this._updateOptionBoxPositions,\n                tolerance: 'pointer'\n            });\n\n            /**\n             * @param {jQuery.Event} event\n             */\n            syncOptionTitle = function (event) {\n                var originalValue = $(event.target).attr('data-original-value'),\n                    currentValue = $(event.target).val(),\n                    optionBoxTitle = $('.title > span', $(event.target).closest('.option-box')),\n                    newOptionTitle = $.mage.__('New Option');\n\n                optionBoxTitle.text(currentValue === '' && !originalValue.length ? newOptionTitle : currentValue);\n            };\n            this._on({\n                'change .field-option-title input[name$=\"[title]\"]': syncOptionTitle,\n                'keyup .field-option-title input[name$=\"[title]\"]': syncOptionTitle,\n                'paste .field-option-title input[name$=\"[title]\"]': syncOptionTitle\n            });\n\n            return this;\n        },\n\n        /**\n         * @return {Object}\n         * @private\n         */\n        _initSortableSelections: function () {\n            this.element.find('.option-box .form-list tbody').sortable({\n                axis: 'y',\n                handle: '[data-role=draggable-handle]',\n\n                /**\n                 * @param {jQuery.Event} event\n                 * @param {jQuery} ui\n                 * @return {jQuery}\n                 */\n                helper: function (event, ui) {\n                    ui.children().each(function () {\n                        $(this).width($(this).width());\n                    });\n\n                    return ui;\n                },\n                update: this._updateSelectionsPositions,\n                tolerance: 'pointer'\n            });\n\n            return this;\n        },\n\n        /**\n         * @return {Object}\n         * @private\n         */\n        _initCheckboxState: function () {\n            this.element.find('.is-required').each(function () {\n                $(this).prop('checked', $(this).closest('.option-box').find('[name$=\"[required]\"]').val() > 0);\n            });\n\n            this.element.find('.is-user-defined-qty').each(function () {\n                $(this).prop('checked', $(this).closest('.qty-box').find('.select').val() > 0);\n            });\n\n            return this;\n        },\n\n        /**\n         * @return {Object}\n         * @private\n         */\n        _bindAddSelectionDialog: function () {\n            var widget = this;\n\n            this._on({\n                /**\n                 * @param {jQuery.Event} event\n                 */\n                'click .add-selection': function (event) {\n                    var $optionBox = $(event.target).closest('.option-box'),\n                        $selectionGrid = $optionBox.find('.selection-search').clone(),\n                        optionIndex = $optionBox.attr('id').replace('bundle_option_', ''),\n                        productIds = [],\n                        productSkus = [],\n                        selectedProductList = {};\n\n                    $optionBox.find('[name$=\"[product_id]\"]').each(function () {\n                        if (!$(this).closest('tr').find('[name$=\"[delete]\"]').val()) {\n                            productIds.push($(this).val());\n                            productSkus.push($(this).closest('tr').find('.col-sku').text());\n                        }\n                    });\n\n                    bSelection.gridSelection.set(optionIndex, $H({}));\n                    bSelection.gridRemoval = $H({});\n                    bSelection.gridSelectedProductSkus = productSkus;\n\n                    $selectionGrid.on('contentUpdated', bSelection.gridUpdateCallback);\n                    $selectionGrid.on('change', '.col-id input', function () {\n                        var tr = $(this).closest('tr');\n\n                        if ($(this).is(':checked')) {\n                            selectedProductList[$(this).val()] = {\n                                name: $.trim(tr.find('.col-name').html()),\n                                sku: $.trim(tr.find('.col-sku').html()),\n                                'product_id': $(this).val(),\n                                'option_id': $('bundle_selection_id_' + optionIndex).val(),\n                                'selection_price_value': 0,\n                                'selection_qty': 1\n                            };\n                        } else {\n                            delete selectedProductList[$(this).val()];\n                        }\n                    });\n\n                    $selectionGrid.modal({\n                        title: $optionBox.find('input[name$=\"[title]\"]').val() === '' ?\n                            $.mage.__('Add Products to New Option') :\n                            $.mage.__('Add Products to Option \"%1\"').replace(\n                                '%1',\n                                $('<div>').text($optionBox.find('input[name$=\"[title]\"]').val()).html()\n                            ),\n                        modalClass: 'bundle',\n                        type: 'slide',\n\n                        /**\n                         * @param {jQuery.Event} e\n                         * @param {Object} modalWindow\n                         */\n                        closed: function (e, modalWindow) {\n                            modalWindow.modal.remove();\n                        },\n                        buttons: [{\n                            text: $.mage.__('Add Selected Products'),\n                            'class': 'action-primary action-add',\n\n                            /** Click action. */\n                            click: function () {\n                                $.each(selectedProductList, function () {\n                                    window.bSelection.addRow(optionIndex, this);\n                                });\n                                bSelection.gridRemoval.each(function (pair) {\n                                    $optionBox.find('.col-sku').filter(function () {\n                                        return $.trim($(this).text()) === pair.key; // find row by SKU\n                                    }).closest('tr').find('button.delete').trigger('click');\n                                });\n                                widget.refreshSortableElements();\n                                widget._updateSelectionsPositions.apply(widget.element);\n                                $selectionGrid.modal('closeModal');\n                            }\n                        }]\n                    });\n                    $.ajax({\n                        url: bSelection.selectionSearchUrl,\n                        dataType: 'html',\n                        data: {\n                            index: optionIndex,\n                            products: productIds,\n                            'selected_products': productIds,\n                            'form_key': FORM_KEY\n                        },\n\n                        /**\n                         * @param {*} data\n                         */\n                        success: function (data) {\n                            $selectionGrid.html(data).modal('openModal');\n                        },\n                        context: $('body'),\n                        showLoader: true\n                    });\n                }\n            });\n\n            return this;\n        },\n\n        /**\n         * @private\n         */\n        _hideProductTypeSwitcher: function () {\n            weightHandler.hideWeightSwitcher();\n        },\n\n        /**\n         * @return {Object}\n         * @private\n         */\n        _bindCheckboxHandlers: function () {\n            this._on({\n                /**\n                 * @param {jQuery.Event} event\n                 */\n                'change .is-required': function (event) {\n                    var $this = $(event.target);\n\n                    $this.closest('.option-box').find('[name$=\"[required]\"]').val($this.is(':checked') ? 1 : 0);\n                },\n\n                /**\n                 * @param {jQuery.Event} event\n                 */\n                'change .is-user-defined-qty': function (event) {\n                    var $this = $(event.target);\n\n                    $this.closest('.qty-box').find('.select').val($this.is(':checked') ? 1 : 0);\n                }\n            });\n\n            return this;\n        },\n\n        /**\n         * @return {Object}\n         * @private\n         */\n        _updateOptionBoxPositions: function () {\n            $(this).find('[name^=bundle_options][name$=\"[position]\"]').each(function (index) {\n                $(this).val(index);\n            });\n\n            return this;\n        },\n\n        /**\n         * @return {Object}\n         * @private\n         */\n        _updateSelectionsPositions: function () {\n            $(this).find('[name^=bundle_selections][name$=\"[position]\"]').each(function (index) {\n                $(this).val(index);\n            });\n\n            return this;\n        },\n\n        /**\n         *\n         * @return {Object}\n         */\n        refreshSortableElements: function () {\n            this.element.sortable('refresh');\n            this._updateOptionBoxPositions.apply(this.element);\n            this._initSortableSelections();\n            this._initCheckboxState();\n\n            return this;\n        }\n    });\n\n});\n","Magento_Bundle/js/components/bundle-option-qty.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/abstract'\n], function (Abstract) {\n    'use strict';\n\n    return Abstract.extend({\n        defaults: {\n            valueUpdate: 'input',\n            isInteger: true,\n            validation: {\n                'validate-number': true\n            }\n        },\n\n        /**\n         * @inheritdoc\n         */\n        onUpdate: function () {\n            this.validation['validate-digits'] = this.isInteger;\n            this._super();\n        },\n\n        /**\n         * @inheritdoc\n         */\n        hasChanged: function () {\n            var notEqual = this.value() !== this.initialValue.toString();\n\n            return !this.visible() ? false : notEqual;\n        }\n\n    });\n});\n","Magento_Bundle/js/components/bundle-record.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/dynamic-rows/record',\n    'uiRegistry'\n], function (Record, registry) {\n    'use strict';\n\n    return Record.extend({\n        /**\n         * @param {String} val - type of Input Type\n         */\n        onTypeChanged: function (val) {\n            var columnVisibility  = !(val === 'multi' || val === 'checkbox');\n\n            registry.async(this.name + '.' + 'selection_can_change_qty')(function (elem) {\n                elem.visible(columnVisibility);\n            });\n        }\n    });\n});\n","Magento_Bundle/js/components/bundle-user-defined-checkbox.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/single-checkbox'\n], function (Checkbox) {\n    'use strict';\n\n    return Checkbox.extend({\n        defaults: {\n            listens: {\n                inputType: 'onInputTypeChange'\n            }\n        },\n\n        /**\n         * Handler for \"inputType\" property\n         *\n         * @param {String} data\n         */\n        onInputTypeChange: function (data) {\n            data === 'checkbox' || data === 'multi' ?\n                this.clear()\n                    .visible(false) :\n                this.visible(true);\n        }\n    });\n});\n","Magento_Bundle/js/components/bundle-checkbox.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/single-checkbox',\n    'uiRegistry'\n], function (Checkbox, registry) {\n    'use strict';\n\n    return Checkbox.extend({\n        defaults: {\n            clearing: false,\n            parentContainer: '',\n            parentSelections: '',\n            changer: '',\n            exports: {\n                value: '${$.parentName}:isDefaultValue'\n            }\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initObservable: function () {\n            this._super().\n                observe('elementTmpl');\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initConfig: function () {\n            this._super();\n            this.imports.changeType = this.retrieveParentName(this.parentContainer) + '.' + this.changer + ':value';\n\n            return this;\n        },\n\n        /**\n         * @inheritdoc\n         */\n        onUpdate: function () {\n            if (this.prefer === 'radio' && this.checked() && !this.clearing) {\n                this.clearValues();\n            }\n\n            this._super();\n        },\n\n        /**\n         * Checkbox to radio type changer.\n         *\n         * @param {String} type - type to change.\n         */\n        changeType: function (type) {\n            var typeMap = registry.get(this.retrieveParentName(this.parentContainer) + '.' + this.changer).typeMap;\n\n            this.prefer = typeMap[type];\n            this.elementTmpl(this.templates[typeMap[type]]);\n        },\n\n        /**\n         * Clears values in components like this.\n         */\n        clearValues: function () {\n            var records = registry.get(this.retrieveParentName(this.parentSelections)),\n                index = this.index,\n                uid = this.uid;\n\n            records.elems.each(function (record) {\n                record.elems.filter(function (comp) {\n                    return comp.index === index && comp.uid !== uid;\n                }).each(function (comp) {\n                    comp.clearing = true;\n                    comp.clear();\n                    comp.clearing = false;\n                });\n            });\n        },\n\n        /**\n         * Retrieve name for the most global parent with provided index.\n         *\n         * @param {String} parent - parent name.\n         * @returns {String}\n         */\n        retrieveParentName: function (parent) {\n            return this.name.replace(new RegExp('^(.+?\\\\.)?' + parent + '\\\\..+'), '$1' + parent);\n        }\n    });\n});\n","Magento_Bundle/js/components/bundle-dynamic-rows.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'mageUtils',\n    'uiRegistry',\n    'Magento_Ui/js/dynamic-rows/dynamic-rows'\n], function (_, utils, registry, dynamicRows) {\n    'use strict';\n\n    return dynamicRows.extend({\n        defaults: {\n            label: '',\n            collapsibleHeader: true,\n            columnsHeader: false,\n            deleteProperty: false,\n            addButton: false\n        },\n\n        /**\n         * Set new data to dataSource,\n         * delete element\n         *\n         * @param {Array} data - record data\n         */\n        _updateData: function (data) {\n            var elems = _.clone(this.elems()),\n                path,\n                dataArr,\n                optionBaseData;\n\n            dataArr = this.recordData.splice(this.startIndex, this.recordData().length - this.startIndex);\n            dataArr.splice(0, this.pageSize);\n            elems = _.sortBy(this.elems(), function (elem) {\n                return ~~elem.index;\n            });\n\n            data.concat(dataArr).forEach(function (rec, idx) {\n                if (elems[idx]) {\n                    elems[idx].recordId = rec[this.identificationProperty];\n                }\n\n                if (!rec.position) {\n                    rec.position = this.maxPosition;\n                    this.setMaxPosition();\n                }\n\n                path = this.dataScope + '.' + this.index + '.' + (this.startIndex + idx);\n                optionBaseData = _.pick(rec, function (value) {\n                    return !_.isObject(value);\n                });\n                this.source.set(path, optionBaseData);\n                this.source.set(path + '.bundle_button_proxy', []);\n                this.source.set(path + '.bundle_selections', []);\n                this.removeBundleItemsFromOption(idx);\n                _.each(rec['bundle_selections'], function (obj, index) {\n                    this.source.set(path + '.bundle_button_proxy' + '.' + index, rec['bundle_button_proxy'][index]);\n                    this.source.set(path + '.bundle_selections' + '.' + index, obj);\n                }, this);\n            }, this);\n\n            this.elems(elems);\n        },\n\n        /**\n         *  Removes nested dynamic-rows-grid rendered records from option\n         *\n         * @param {Number|String} index - element index\n         */\n        removeBundleItemsFromOption: function (index) {\n            var bundleSelections = registry.get(this.name + '.' + index + '.' + this.bundleSelectionsName),\n                bundleSelectionsLength = (bundleSelections.elems() || []).length,\n                i;\n\n            if (bundleSelectionsLength) {\n                for (i = 0; i < bundleSelectionsLength; i++) {\n                    bundleSelections.elems()[0].destroy();\n                }\n            }\n        },\n\n        /**\n        * {@inheritdoc}\n        */\n        processingAddChild: function (ctx, index, prop) {\n            var recordIds = _.map(this.recordData(), function (rec) {\n                return parseInt(rec['record_id'], 10);\n            }),\n            maxRecordId = _.max(recordIds);\n\n            prop = maxRecordId > -1 ? maxRecordId + 1 : prop;\n            this._super(ctx, index, prop);\n        }\n    });\n});\n","Magento_Bundle/js/components/bundle-dynamic-rows-grid.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'Magento_Ui/js/dynamic-rows/dynamic-rows-grid'\n], function (_, dynamicRowsGrid) {\n    'use strict';\n\n    return dynamicRowsGrid.extend({\n        defaults: {\n            label: '',\n            columnsHeader: false,\n            columnsHeaderAfterRender: true,\n            addButton: false,\n            isDefaultFieldScope: 'is_default',\n            defaultRecords: {\n                use: [],\n                moreThanOne: false,\n                state: {}\n            },\n            listens: {\n                inputType: 'onInputTypeChange',\n                isDefaultValue: 'onIsDefaultValue'\n            }\n        },\n\n        /**\n         * Handler for type select.\n         *\n         * @param {String} inputType - changed.\n         */\n        onInputTypeChange: function (inputType) {\n            if (this.defaultRecords.moreThanOne && (inputType === 'radio' || inputType === 'select')) {\n                _.each(this.defaultRecords.use, function (index, counter) {\n                    this.source.set(\n                        this.dataScope + '.bundle_selections.' + index + '.' + this.isDefaultFieldScope,\n                        counter ? '0' : '1'\n                    );\n                }.bind(this));\n            }\n        },\n\n        /**\n         * Handler for is_default field.\n         *\n         * @param {Object} data - changed data.\n         */\n        onIsDefaultValue: function (data) {\n            var cb,\n                use = 0;\n\n            this.defaultRecords.use = [];\n\n            cb = function (elem, key) {\n\n                if (~~elem) {\n                    this.defaultRecords.use.push(key);\n                    use++;\n                }\n\n                this.defaultRecords.moreThanOne = use > 1;\n            }.bind(this);\n\n            _.each(data, cb);\n        },\n\n        /**\n         * Initialize elements from grid\n         *\n         * @param {Array} data\n         *\n         * @returns {Object} Chainable.\n         */\n        initElements: function (data) {\n            var newData = this.getNewData(data),\n                recordIndex;\n\n            this.parsePagesData(data);\n\n            if (newData.length) {\n                if (this.insertData().length) {\n                    recordIndex = data.length - newData.length - 1;\n\n                    _.each(newData, function (newRecord) {\n                        this.processingAddChild(newRecord, ++recordIndex, newRecord[this.identificationProperty]);\n                    }, this);\n                }\n            }\n\n            return this;\n        },\n\n        /**\n         * Mapping value from grid\n         *\n         * @param {Array} data\n         */\n        mappingValue: function (data) {\n            if (_.isEmpty(data)) {\n                return;\n            }\n\n            this._super();\n        }\n    });\n});\n","Magento_Bundle/js/components/bundle-input-type.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @deprecated Not used anymore\n * @see Magento_Bundle/js/components/bundle-record\n * @see Magento_Bundle/js/components/bundle-checkbox\n */\ndefine([\n    'Magento_Ui/js/form/element/select',\n    'uiRegistry'\n], function (Select, registry) {\n    'use strict';\n\n    return Select.extend({\n        defaults: {\n            previousType: '',\n            parentContainer: '',\n            selections: '',\n            targetIndex: '',\n            typeMap: {}\n        },\n\n        /**\n         * @inheritdoc\n         */\n        onUpdate: function () {\n            var type = this.typeMap[this.value()];\n\n            if (type !== this.previousType) {\n                this.previousType = type;\n                this.processSelections(type === 'radio');\n            }\n\n            this._super();\n        },\n\n        /**\n         * Toggle 'User Defined' column and clears values\n         * @param {Boolean} isRadio\n         */\n        processSelections: function (isRadio) {\n            var records = registry.get(this.retrieveParentName(this.parentContainer) + '.' + this.selections),\n                checkedFound = false;\n\n            records.elems.each(function (record) {\n                record.elems.filter(function (comp) {\n                    return comp.index === this.userDefinedIndex;\n                }, this).each(function (comp) {\n                    comp.visible(isRadio);\n                });\n\n                if (isRadio) {\n                    record.elems.filter(function (comp) {\n                        return comp.index === this.isDefaultIndex;\n                    }, this).each(function (comp) {\n                        if (comp.checked()) {\n                            if (checkedFound) {\n                                comp.clearing = true;\n                                comp.clear();\n                                comp.clearing = false;\n                            }\n\n                            checkedFound = true;\n                        }\n                    });\n                }\n            }, this);\n        },\n\n        /**\n         * Retrieve name for the most global parent with provided index.\n         *\n         * @param {String} parent - parent name.\n         * @returns {String}\n         */\n        retrieveParentName: function (parent) {\n            return this.name.replace(new RegExp('^(.+?\\\\.)?' + parent + '\\\\..+'), '$1' + parent);\n        }\n    });\n});\n","Magezon_Builder/js/ui-bootstrap-tpls-2.5.0.min.js":"/*\n * angular-ui-bootstrap\n * http://angular-ui.github.io/bootstrap/\n\n * Version: 2.5.0 - 2017-01-28\n * License: MIT\n */angular.module(\"ui.bootstrap\",[\"ui.bootstrap.tpls\",\"ui.bootstrap.collapse\",\"ui.bootstrap.tabindex\",\"ui.bootstrap.accordion\",\"ui.bootstrap.alert\",\"ui.bootstrap.buttons\",\"ui.bootstrap.carousel\",\"ui.bootstrap.dateparser\",\"ui.bootstrap.isClass\",\"ui.bootstrap.datepicker\",\"ui.bootstrap.position\",\"ui.bootstrap.datepickerPopup\",\"ui.bootstrap.debounce\",\"ui.bootstrap.multiMap\",\"ui.bootstrap.dropdown\",\"ui.bootstrap.stackedMap\",\"ui.bootstrap.modal\",\"ui.bootstrap.paging\",\"ui.bootstrap.pager\",\"ui.bootstrap.pagination\",\"ui.bootstrap.tooltip\",\"ui.bootstrap.popover\",\"ui.bootstrap.progressbar\",\"ui.bootstrap.rating\",\"ui.bootstrap.tabs\",\"ui.bootstrap.timepicker\",\"ui.bootstrap.typeahead\"]),angular.module(\"ui.bootstrap.tpls\",[\"uib/template/accordion/accordion-group.html\",\"uib/template/accordion/accordion.html\",\"uib/template/alert/alert.html\",\"uib/template/carousel/carousel.html\",\"uib/template/carousel/slide.html\",\"uib/template/datepicker/datepicker.html\",\"uib/template/datepicker/day.html\",\"uib/template/datepicker/month.html\",\"uib/template/datepicker/year.html\",\"uib/template/datepickerPopup/popup.html\",\"uib/template/modal/window.html\",\"uib/template/pager/pager.html\",\"uib/template/pagination/pagination.html\",\"uib/template/tooltip/tooltip-html-popup.html\",\"uib/template/tooltip/tooltip-popup.html\",\"uib/template/tooltip/tooltip-template-popup.html\",\"uib/template/popover/popover-html.html\",\"uib/template/popover/popover-template.html\",\"uib/template/popover/popover.html\",\"uib/template/progressbar/bar.html\",\"uib/template/progressbar/progress.html\",\"uib/template/progressbar/progressbar.html\",\"uib/template/rating/rating.html\",\"uib/template/tabs/tab.html\",\"uib/template/tabs/tabset.html\",\"uib/template/timepicker/timepicker.html\",\"uib/template/typeahead/typeahead-match.html\",\"uib/template/typeahead/typeahead-popup.html\"]),angular.module(\"ui.bootstrap.collapse\",[]).directive(\"uibCollapse\",[\"$animate\",\"$q\",\"$parse\",\"$injector\",function(a,b,c,d){var e=d.has(\"$animateCss\")?d.get(\"$animateCss\"):null;return{link:function(d,f,g){function h(){r=!!(\"horizontal\"in g),r?(s={width:\"\"},t={width:\"0\"}):(s={height:\"\"},t={height:\"0\"}),d.$eval(g.uibCollapse)||f.addClass(\"in\").addClass(\"collapse\").attr(\"aria-expanded\",!0).attr(\"aria-hidden\",!1).css(s)}function i(a){return r?{width:a.scrollWidth+\"px\"}:{height:a.scrollHeight+\"px\"}}function j(){f.hasClass(\"collapse\")&&f.hasClass(\"in\")||b.resolve(n(d)).then(function(){f.removeClass(\"collapse\").addClass(\"collapsing\").attr(\"aria-expanded\",!0).attr(\"aria-hidden\",!1),e?e(f,{addClass:\"in\",easing:\"ease\",css:{overflow:\"hidden\"},to:i(f[0])}).start()[\"finally\"](k):a.addClass(f,\"in\",{css:{overflow:\"hidden\"},to:i(f[0])}).then(k)},angular.noop)}function k(){f.removeClass(\"collapsing\").addClass(\"collapse\").css(s),o(d)}function l(){return f.hasClass(\"collapse\")||f.hasClass(\"in\")?void b.resolve(p(d)).then(function(){f.css(i(f[0])).removeClass(\"collapse\").addClass(\"collapsing\").attr(\"aria-expanded\",!1).attr(\"aria-hidden\",!0),e?e(f,{removeClass:\"in\",to:t}).start()[\"finally\"](m):a.removeClass(f,\"in\",{to:t}).then(m)},angular.noop):m()}function m(){f.css(t),f.removeClass(\"collapsing\").addClass(\"collapse\"),q(d)}var n=c(g.expanding),o=c(g.expanded),p=c(g.collapsing),q=c(g.collapsed),r=!1,s={},t={};h(),d.$watch(g.uibCollapse,function(a){a?l():j()})}}}]),angular.module(\"ui.bootstrap.tabindex\",[]).directive(\"uibTabindexToggle\",function(){return{restrict:\"A\",link:function(a,b,c){c.$observe(\"disabled\",function(a){c.$set(\"tabindex\",a?-1:null)})}}}),angular.module(\"ui.bootstrap.accordion\",[\"ui.bootstrap.collapse\",\"ui.bootstrap.tabindex\"]).constant(\"uibAccordionConfig\",{closeOthers:!0}).controller(\"UibAccordionController\",[\"$scope\",\"$attrs\",\"uibAccordionConfig\",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on(\"$destroy\",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive(\"uibAccordion\",function(){return{controller:\"UibAccordionController\",controllerAs:\"accordion\",transclude:!0,templateUrl:function(a,b){return b.templateUrl||\"uib/template/accordion/accordion.html\"}}}).directive(\"uibAccordionGroup\",function(){return{require:\"^uibAccordion\",transclude:!0,restrict:\"A\",templateUrl:function(a,b){return b.templateUrl||\"uib/template/accordion/accordion-group.html\"},scope:{heading:\"@\",panelClass:\"@?\",isOpen:\"=?\",isDisabled:\"=?\"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){b.addClass(\"panel\"),d.addGroup(a),a.openClass=c.openClass||\"panel-open\",a.panelClass=c.panelClass||\"panel-default\",a.$watch(\"isOpen\",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)};var e=\"accordiongroup-\"+a.$id+\"-\"+Math.floor(1e4*Math.random());a.headingId=e+\"-tab\",a.panelId=e+\"-panel\"}}}).directive(\"uibAccordionHeading\",function(){return{transclude:!0,template:\"\",replace:!0,require:\"^uibAccordionGroup\",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive(\"uibAccordionTransclude\",function(){function a(){return\"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]\"}return{require:\"^uibAccordionGroup\",link:function(b,c,d,e){b.$watch(function(){return e[d.uibAccordionTransclude]},function(b){if(b){var d=angular.element(c[0].querySelector(a()));d.html(\"\"),d.append(b)}})}}}),angular.module(\"ui.bootstrap.alert\",[]).controller(\"UibAlertController\",[\"$scope\",\"$element\",\"$attrs\",\"$interpolate\",\"$timeout\",function(a,b,c,d,e){a.closeable=!!c.close,b.addClass(\"alert\"),c.$set(\"role\",\"alert\"),a.closeable&&b.addClass(\"alert-dismissible\");var f=angular.isDefined(c.dismissOnTimeout)?d(c.dismissOnTimeout)(a.$parent):null;f&&e(function(){a.close()},parseInt(f,10))}]).directive(\"uibAlert\",function(){return{controller:\"UibAlertController\",controllerAs:\"alert\",restrict:\"A\",templateUrl:function(a,b){return b.templateUrl||\"uib/template/alert/alert.html\"},transclude:!0,scope:{close:\"&\"}}}),angular.module(\"ui.bootstrap.buttons\",[]).constant(\"uibButtonConfig\",{activeClass:\"active\",toggleEvent:\"click\"}).controller(\"UibButtonsController\",[\"uibButtonConfig\",function(a){this.activeClass=a.activeClass||\"active\",this.toggleEvent=a.toggleEvent||\"click\"}]).directive(\"uibBtnRadio\",[\"$parse\",function(a){return{require:[\"uibBtnRadio\",\"ngModel\"],controller:\"UibButtonsController\",controllerAs:\"buttons\",link:function(b,c,d,e){var f=e[0],g=e[1],h=a(d.uibUncheckable);c.find(\"input\").css({display:\"none\"}),g.$render=function(){c.toggleClass(f.activeClass,angular.equals(g.$modelValue,b.$eval(d.uibBtnRadio)))},c.on(f.toggleEvent,function(){if(!d.disabled){var a=c.hasClass(f.activeClass);a&&!angular.isDefined(d.uncheckable)||b.$apply(function(){g.$setViewValue(a?null:b.$eval(d.uibBtnRadio)),g.$render()})}}),d.uibUncheckable&&b.$watch(h,function(a){d.$set(\"uncheckable\",a?\"\":void 0)})}}}]).directive(\"uibBtnCheckbox\",function(){return{require:[\"uibBtnCheckbox\",\"ngModel\"],controller:\"UibButtonsController\",controllerAs:\"button\",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find(\"input\").css({display:\"none\"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module(\"ui.bootstrap.carousel\",[]).controller(\"UibCarouselController\",[\"$scope\",\"$element\",\"$interval\",\"$timeout\",\"$animate\",function(a,b,c,d,e){function f(a){for(var b=0;b<p.length;b++)p[b].slide.active=b===a}function g(c,d,g){if(!s){if(angular.extend(c,{direction:g}),angular.extend(p[r].slide||{},{direction:g}),e.enabled(b)&&!a.$currentTransition&&p[d].element&&o.slides.length>1){p[d].element.data(q,c.direction);var h=o.getCurrentIndex();angular.isNumber(h)&&p[h].element&&p[h].element.data(q,c.direction),a.$currentTransition=!0,e.on(\"addClass\",p[d].element,function(b,c){\"close\"===c&&(a.$currentTransition=null,e.off(\"addClass\",b))})}a.active=c.index,r=c.index,f(d),k()}}function h(a){for(var b=0;b<p.length;b++)if(p[b].slide===a)return b}function i(){m&&(c.cancel(m),m=null)}function j(b){b.length||(a.$currentTransition=null)}function k(){i();var b=+a.interval;!isNaN(b)&&b>0&&(m=c(l,b))}function l(){var b=+a.interval;n&&!isNaN(b)&&b>0&&p.length?a.next():a.pause()}var m,n,o=this,p=o.slides=a.slides=[],q=\"uib-slideDirection\",r=a.active,s=!1;b.addClass(\"carousel\"),o.addSlide=function(b,c){p.push({slide:b,element:c}),p.sort(function(a,b){return+a.slide.index-+b.slide.index}),(b.index===a.active||1===p.length&&!angular.isNumber(a.active))&&(a.$currentTransition&&(a.$currentTransition=null),r=b.index,a.active=b.index,f(r),o.select(p[h(b)]),1===p.length&&a.play())},o.getCurrentIndex=function(){for(var a=0;a<p.length;a++)if(p[a].slide.index===r)return a},o.next=a.next=function(){var b=(o.getCurrentIndex()+1)%p.length;return 0===b&&a.noWrap()?void a.pause():o.select(p[b],\"next\")},o.prev=a.prev=function(){var b=o.getCurrentIndex()-1<0?p.length-1:o.getCurrentIndex()-1;return a.noWrap()&&b===p.length-1?void a.pause():o.select(p[b],\"prev\")},o.removeSlide=function(b){var c=h(b);p.splice(c,1),p.length>0&&r===c?c>=p.length?(r=p.length-1,a.active=r,f(r),o.select(p[p.length-1])):(r=c,a.active=r,f(r),o.select(p[c])):r>c&&(r--,a.active=r),0===p.length&&(r=null,a.active=null)},o.select=a.select=function(b,c){var d=h(b.slide);void 0===c&&(c=d>o.getCurrentIndex()?\"next\":\"prev\"),b.slide.index===r||a.$currentTransition||g(b.slide,d,c)},a.indexOfSlide=function(a){return+a.slide.index},a.isActive=function(b){return a.active===b.slide.index},a.isPrevDisabled=function(){return 0===a.active&&a.noWrap()},a.isNextDisabled=function(){return a.active===p.length-1&&a.noWrap()},a.pause=function(){a.noPause||(n=!1,i())},a.play=function(){n||(n=!0,k())},b.on(\"mouseenter\",a.pause),b.on(\"mouseleave\",a.play),a.$on(\"$destroy\",function(){s=!0,i()}),a.$watch(\"noTransition\",function(a){e.enabled(b,!a)}),a.$watch(\"interval\",k),a.$watchCollection(\"slides\",j),a.$watch(\"active\",function(a){if(angular.isNumber(a)&&r!==a){for(var b=0;b<p.length;b++)if(p[b].slide.index===a){a=b;break}var c=p[a];c&&(f(a),o.select(p[a]),r=a)}})}]).directive(\"uibCarousel\",function(){return{transclude:!0,controller:\"UibCarouselController\",controllerAs:\"carousel\",restrict:\"A\",templateUrl:function(a,b){return b.templateUrl||\"uib/template/carousel/carousel.html\"},scope:{active:\"=\",interval:\"=\",noTransition:\"=\",noPause:\"=\",noWrap:\"&\"}}}).directive(\"uibSlide\",[\"$animate\",function(a){return{require:\"^uibCarousel\",restrict:\"A\",transclude:!0,templateUrl:function(a,b){return b.templateUrl||\"uib/template/carousel/slide.html\"},scope:{actual:\"=?\",index:\"=?\"},link:function(b,c,d,e){c.addClass(\"item\"),e.addSlide(b,c),b.$on(\"$destroy\",function(){e.removeSlide(b)}),b.$watch(\"active\",function(b){a[b?\"addClass\":\"removeClass\"](c,\"active\")})}}}]).animation(\".item\",[\"$animateCss\",function(a){function b(a,b,c){a.removeClass(b),c&&c()}var c=\"uib-slideDirection\";return{beforeAddClass:function(d,e,f){if(\"active\"===e){var g=!1,h=d.data(c),i=\"next\"===h?\"left\":\"right\",j=b.bind(this,d,i+\" \"+h,f);return d.addClass(h),a(d,{addClass:i}).start().done(j),function(){g=!0}}f()},beforeRemoveClass:function(d,e,f){if(\"active\"===e){var g=!1,h=d.data(c),i=\"next\"===h?\"left\":\"right\",j=b.bind(this,d,i,f);return a(d,{addClass:i}).start().done(j),function(){g=!0}}f()}}}]),angular.module(\"ui.bootstrap.dateparser\",[]).service(\"uibDateParser\",[\"$log\",\"$locale\",\"dateFilter\",\"orderByFilter\",\"filterFilter\",function(a,b,c,d,e){function f(a){return e(s,{key:a},!0)[0]}function g(a){var b=[],c=a.split(\"\"),e=a.indexOf(\"'\");if(e>-1){var f=!1;a=a.split(\"\");for(var g=e;g<a.length;g++)f?(\"'\"===a[g]&&(g+1<a.length&&\"'\"===a[g+1]?(a[g+1]=\"$\",c[g+1]=\"\"):(c[g]=\"\",f=!1)),a[g]=\"$\"):\"'\"===a[g]&&(a[g]=\"$\",c[g]=\"\",f=!0);a=a.join(\"\")}return angular.forEach(s,function(d){var e=a.indexOf(d.key);if(e>-1){a=a.split(\"\"),c[e]=\"(\"+d.regex+\")\",a[e]=\"$\";for(var f=e+1,g=e+d.key.length;g>f;f++)c[f]=\"\",a[f]=\"$\";a=a.join(\"\"),b.push({index:e,key:d.key,apply:d.apply,matcher:d.regex})}}),{regex:new RegExp(\"^\"+c.join(\"\")+\"$\"),map:d(b,\"index\")}}function h(a){for(var b,c,d=[],e=0;e<a.length;)if(angular.isNumber(c)){if(\"'\"===a.charAt(e))(e+1>=a.length||\"'\"!==a.charAt(e+1))&&(d.push(i(a,c,e)),c=null);else if(e===a.length)for(;c<a.length;)b=j(a,c),d.push(b),c=b.endIdx;e++}else\"'\"!==a.charAt(e)?(b=j(a,e),d.push(b.parser),e=b.endIdx):(c=e,e++);return d}function i(a,b,c){return function(){return a.substr(b+1,c-b-1)}}function j(a,b){for(var c=a.substr(b),d=0;d<s.length;d++)if(new RegExp(\"^\"+s[d].key).test(c)){var e=s[d];return{endIdx:b+e.key.length,parser:e.formatter}}return{endIdx:b+1,parser:function(){return c.charAt(0)}}}function k(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}function l(a){return parseInt(a,10)}function m(a,b){return a&&b?q(a,b):a}function n(a,b){return a&&b?q(a,b,!0):a}function o(a,b){a=a.replace(/:/g,\"\");var c=Date.parse(\"Jan 01, 1970 00:00:00 \"+a)/6e4;return isNaN(c)?b:c}function p(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function q(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=o(b,d);return p(a,c*(e-d))}var r,s,t=/[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;this.init=function(){r=b.id,this.parsers={},this.formatters={},s=[{key:\"yyyy\",regex:\"\\\\d{4}\",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,\"yyyy\")}},{key:\"yy\",regex:\"\\\\d{2}\",apply:function(a){a=+a,this.year=69>a?a+2e3:a+1900},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,\"yy\")}},{key:\"y\",regex:\"\\\\d{1,4}\",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,\"y\")}},{key:\"M!\",regex:\"0?[1-9]|1[0-2]\",apply:function(a){this.month=a-1},formatter:function(a){var b=a.getMonth();return/^[0-9]$/.test(b)?c(a,\"MM\"):c(a,\"M\")}},{key:\"MMMM\",regex:b.DATETIME_FORMATS.MONTH.join(\"|\"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)},formatter:function(a){return c(a,\"MMMM\")}},{key:\"MMM\",regex:b.DATETIME_FORMATS.SHORTMONTH.join(\"|\"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)},formatter:function(a){return c(a,\"MMM\")}},{key:\"MM\",regex:\"0[1-9]|1[0-2]\",apply:function(a){this.month=a-1},formatter:function(a){return c(a,\"MM\")}},{key:\"M\",regex:\"[1-9]|1[0-2]\",apply:function(a){this.month=a-1},formatter:function(a){return c(a,\"M\")}},{key:\"d!\",regex:\"[0-2]?[0-9]{1}|3[0-1]{1}\",apply:function(a){this.date=+a},formatter:function(a){var b=a.getDate();return/^[1-9]$/.test(b)?c(a,\"dd\"):c(a,\"d\")}},{key:\"dd\",regex:\"[0-2][0-9]{1}|3[0-1]{1}\",apply:function(a){this.date=+a},formatter:function(a){return c(a,\"dd\")}},{key:\"d\",regex:\"[1-2]?[0-9]{1}|3[0-1]{1}\",apply:function(a){this.date=+a},formatter:function(a){return c(a,\"d\")}},{key:\"EEEE\",regex:b.DATETIME_FORMATS.DAY.join(\"|\"),formatter:function(a){return c(a,\"EEEE\")}},{key:\"EEE\",regex:b.DATETIME_FORMATS.SHORTDAY.join(\"|\"),formatter:function(a){return c(a,\"EEE\")}},{key:\"HH\",regex:\"(?:0|1)[0-9]|2[0-3]\",apply:function(a){this.hours=+a},formatter:function(a){return c(a,\"HH\")}},{key:\"hh\",regex:\"0[0-9]|1[0-2]\",apply:function(a){this.hours=+a},formatter:function(a){return c(a,\"hh\")}},{key:\"H\",regex:\"1?[0-9]|2[0-3]\",apply:function(a){this.hours=+a},formatter:function(a){return c(a,\"H\")}},{key:\"h\",regex:\"[0-9]|1[0-2]\",apply:function(a){this.hours=+a},formatter:function(a){return c(a,\"h\")}},{key:\"mm\",regex:\"[0-5][0-9]\",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,\"mm\")}},{key:\"m\",regex:\"[0-9]|[1-5][0-9]\",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,\"m\")}},{key:\"sss\",regex:\"[0-9][0-9][0-9]\",apply:function(a){this.milliseconds=+a},formatter:function(a){return c(a,\"sss\")}},{key:\"ss\",regex:\"[0-5][0-9]\",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,\"ss\")}},{key:\"s\",regex:\"[0-9]|[1-5][0-9]\",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,\"s\")}},{key:\"a\",regex:b.DATETIME_FORMATS.AMPMS.join(\"|\"),apply:function(a){12===this.hours&&(this.hours=0),\"PM\"===a&&(this.hours+=12)},formatter:function(a){return c(a,\"a\")}},{key:\"Z\",regex:\"[+-]\\\\d{4}\",apply:function(a){var b=a.match(/([+-])(\\d{2})(\\d{2})/),c=b[1],d=b[2],e=b[3];this.hours+=l(c+d),this.minutes+=l(c+e)},formatter:function(a){return c(a,\"Z\")}},{key:\"ww\",regex:\"[0-4][0-9]|5[0-3]\",formatter:function(a){return c(a,\"ww\")}},{key:\"w\",regex:\"[0-9]|[1-4][0-9]|5[0-3]\",formatter:function(a){return c(a,\"w\")}},{key:\"GGGG\",regex:b.DATETIME_FORMATS.ERANAMES.join(\"|\").replace(/\\s/g,\"\\\\s\"),formatter:function(a){return c(a,\"GGGG\")}},{key:\"GGG\",regex:b.DATETIME_FORMATS.ERAS.join(\"|\"),formatter:function(a){return c(a,\"GGG\")}},{key:\"GG\",regex:b.DATETIME_FORMATS.ERAS.join(\"|\"),formatter:function(a){return c(a,\"GG\")}},{key:\"G\",regex:b.DATETIME_FORMATS.ERAS.join(\"|\"),formatter:function(a){return c(a,\"G\")}}],angular.version.major>=1&&angular.version.minor>4&&s.push({key:\"LLLL\",regex:b.DATETIME_FORMATS.STANDALONEMONTH.join(\"|\"),apply:function(a){this.month=b.DATETIME_FORMATS.STANDALONEMONTH.indexOf(a)},formatter:function(a){return c(a,\"LLLL\")}})},this.init(),this.getParser=function(a){var b=f(a);return b&&b.apply||null},this.overrideParser=function(a,b){var c=f(a);c&&angular.isFunction(b)&&(this.parsers={},c.apply=b)}.bind(this),this.filter=function(a,c){if(!angular.isDate(a)||isNaN(a)||!c)return\"\";c=b.DATETIME_FORMATS[c]||c,b.id!==r&&this.init(),this.formatters[c]||(this.formatters[c]=h(c));var d=this.formatters[c];return d.reduce(function(b,c){return b+c(a)},\"\")},this.parse=function(c,d,e){if(!angular.isString(c)||!d)return c;d=b.DATETIME_FORMATS[d]||d,d=d.replace(t,\"\\\\$&\"),b.id!==r&&this.init(),this.parsers[d]||(this.parsers[d]=g(d,\"apply\"));var f=this.parsers[d],h=f.regex,i=f.map,j=c.match(h),l=!1;if(j&&j.length){var m,n;angular.isDate(e)&&!isNaN(e.getTime())?m={year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()}:(e&&a.warn(\"dateparser:\",\"baseDate is not a valid date\"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var o=1,p=j.length;p>o;o++){var q=i[o-1];\"Z\"===q.matcher&&(l=!0),q.apply&&q.apply.call(m,j[o])}var s=l?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,u=l?Date.prototype.setUTCHours:Date.prototype.setHours;return k(m.year,m.month,m.date)&&(!angular.isDate(e)||isNaN(e.getTime())||l?(n=new Date(0),s.call(n,m.year,m.month,m.date),u.call(n,m.hours||0,m.minutes||0,m.seconds||0,m.milliseconds||0)):(n=new Date(e),s.call(n,m.year,m.month,m.date),u.call(n,m.hours,m.minutes,m.seconds,m.milliseconds))),n}},this.toTimezone=m,this.fromTimezone=n,this.timezoneToOffset=o,this.addDateMinutes=p,this.convertTimezoneToLocal=q}]),angular.module(\"ui.bootstrap.isClass\",[]).directive(\"uibIsClass\",[\"$animate\",function(a){var b=/^\\s*([\\s\\S]+?)\\s+on\\s+([\\s\\S]+?)\\s*$/,c=/^\\s*([\\s\\S]+?)\\s+for\\s+([\\s\\S]+?)\\s*$/;return{restrict:\"A\",compile:function(d,e){function f(a,b,c){i.push(a),j.push({scope:a,element:b}),o.forEach(function(b,c){g(b,a)}),a.$on(\"$destroy\",h)}function g(b,d){var e=b.match(c),f=d.$eval(e[1]),g=e[2],h=k[b];if(!h){var i=function(b){var c=null;j.some(function(a){var d=a.scope.$eval(m);return d===b?(c=a,!0):void 0}),h.lastActivated!==c&&(h.lastActivated&&a.removeClass(h.lastActivated.element,f),c&&a.addClass(c.element,f),h.lastActivated=c)};k[b]=h={lastActivated:null,scope:d,watchFn:i,compareWithExp:g,watcher:d.$watch(g,i)}}h.watchFn(d.$eval(g))}function h(a){var b=a.targetScope,c=i.indexOf(b);if(i.splice(c,1),j.splice(c,1),i.length){var d=i[0];angular.forEach(k,function(a){a.scope===b&&(a.watcher=d.$watch(a.compareWithExp,a.watchFn),a.scope=d)})}else k={}}var i=[],j=[],k={},l=e.uibIsClass.match(b),m=l[2],n=l[1],o=n.split(\",\");return f}}}]),angular.module(\"ui.bootstrap.datepicker\",[\"ui.bootstrap.dateparser\",\"ui.bootstrap.isClass\"]).value(\"$datepickerSuppressError\",!1).value(\"$datepickerLiteralWarning\",!0).constant(\"uibDatepickerConfig\",{datepickerMode:\"day\",formatDay:\"dd\",formatMonth:\"MMMM\",formatYear:\"yyyy\",formatDayHeader:\"EEE\",formatDayTitle:\"MMMM yyyy\",formatMonthTitle:\"yyyy\",maxDate:null,maxMode:\"year\",minDate:null,minMode:\"day\",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller(\"UibDatepickerController\",[\"$scope\",\"$element\",\"$attrs\",\"$parse\",\"$interpolate\",\"$locale\",\"$log\",\"dateFilter\",\"uibDatepickerConfig\",\"$datepickerLiteralWarning\",\"$datepickerSuppressError\",\"uibDateParser\",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b){a.datepickerMode=b,a.datepickerOptions.datepickerMode=b}function n(b){var c;if(angular.version.minor<6)c=b.$options||a.datepickerOptions.ngModelOptions||i.ngModelOptions||{},c.getOption=function(a){return c[a]};else{var d=b.$options.getOption(\"timezone\")||(a.datepickerOptions.ngModelOptions?a.datepickerOptions.ngModelOptions.timezone:null)||(i.ngModelOptions?i.ngModelOptions.timezone:null);c=b.$options.createChild(i.ngModelOptions).createChild(a.datepickerOptions.ngModelOptions).createChild(b.$options).createChild({timezone:d})}return c}var o=this,p={$setViewValue:angular.noop},q={},r=[];b.addClass(\"uib-datepicker\"),c.$set(\"role\",\"application\"),a.datepickerOptions||(a.datepickerOptions={}),this.modes=[\"day\",\"month\",\"year\"],[\"customClass\",\"dateDisabled\",\"datepickerMode\",\"formatDay\",\"formatDayHeader\",\"formatDayTitle\",\"formatMonth\",\"formatMonthTitle\",\"formatYear\",\"maxDate\",\"maxMode\",\"minDate\",\"minMode\",\"monthColumns\",\"showWeeks\",\"shortcutPropagation\",\"startingDay\",\"yearColumns\",\"yearRows\"].forEach(function(b){switch(b){case\"customClass\":case\"dateDisabled\":a[b]=a.datepickerOptions[b]||angular.noop;break;case\"datepickerMode\":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:i.datepickerMode;break;case\"formatDay\":case\"formatDayHeader\":case\"formatDayTitle\":case\"formatMonth\":case\"formatMonthTitle\":case\"formatYear\":o[b]=angular.isDefined(a.datepickerOptions[b])?e(a.datepickerOptions[b])(a.$parent):i[b];break;case\"monthColumns\":case\"showWeeks\":case\"shortcutPropagation\":case\"yearColumns\":case\"yearRows\":o[b]=angular.isDefined(a.datepickerOptions[b])?a.datepickerOptions[b]:i[b];break;case\"startingDay\":angular.isDefined(a.datepickerOptions.startingDay)?o.startingDay=a.datepickerOptions.startingDay:angular.isNumber(i.startingDay)?o.startingDay=i.startingDay:o.startingDay=(f.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case\"maxDate\":case\"minDate\":a.$watch(\"datepickerOptions.\"+b,function(a){a?angular.isDate(a)?o[b]=l.fromTimezone(new Date(a),q.getOption(\"timezone\")):(j&&g.warn(\"Literal date support has been deprecated, please switch to date object usage\"),o[b]=new Date(h(a,\"medium\"))):o[b]=i[b]?l.fromTimezone(new Date(i[b]),q.getOption(\"timezone\")):null,o.refreshView()});break;case\"maxMode\":case\"minMode\":a.datepickerOptions[b]?a.$watch(function(){return a.datepickerOptions[b]},function(c){o[b]=a[b]=angular.isDefined(c)?c:a.datepickerOptions[b],(\"minMode\"===b&&o.modes.indexOf(a.datepickerOptions.datepickerMode)<o.modes.indexOf(o[b])||\"maxMode\"===b&&o.modes.indexOf(a.datepickerOptions.datepickerMode)>o.modes.indexOf(o[b]))&&(a.datepickerMode=o[b],a.datepickerOptions.datepickerMode=o[b])}):o[b]=a[b]=i[b]||null}}),a.uniqueId=\"datepicker-\"+a.$id+\"-\"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(c.disabled)||!1,angular.isDefined(c.ngDisabled)&&r.push(a.$parent.$watch(c.ngDisabled,function(b){a.disabled=b,o.refreshView()})),a.isActive=function(b){return 0===o.compare(b.date,o.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(b){p=b,q=n(p),a.datepickerOptions.initDate?(o.activeDate=l.fromTimezone(a.datepickerOptions.initDate,q.getOption(\"timezone\"))||new Date,a.$watch(\"datepickerOptions.initDate\",function(a){a&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(o.activeDate=l.fromTimezone(a,q.getOption(\"timezone\")),o.refreshView())})):o.activeDate=new Date;var c=p.$modelValue?new Date(p.$modelValue):new Date;this.activeDate=isNaN(c)?l.fromTimezone(new Date,q.getOption(\"timezone\")):l.fromTimezone(c,q.getOption(\"timezone\")),p.$render=function(){o.render()}},this.render=function(){if(p.$viewValue){var a=new Date(p.$viewValue),b=!isNaN(a);b?this.activeDate=l.fromTimezone(a,q.getOption(\"timezone\")):k||g.error('Datepicker directive: \"ng-model\" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var b=p.$viewValue?new Date(p.$viewValue):null;b=l.fromTimezone(b,q.getOption(\"timezone\")),p.$setValidity(\"dateDisabled\",!b||this.element&&!this.isDisabled(b))}},this.createDateObject=function(b,c){var d=p.$viewValue?new Date(p.$viewValue):null;d=l.fromTimezone(d,q.getOption(\"timezone\"));var e=new Date;e=l.fromTimezone(e,q.getOption(\"timezone\"));var f=this.compare(b,e),g={date:b,label:l.filter(b,c),selected:d&&0===this.compare(b,d),disabled:this.isDisabled(b),past:0>f,current:0===f,future:f>0,customClass:this.customClass(b)||null};return d&&0===this.compare(b,d)&&(a.selectedDt=g),o.activeDate&&0===this.compare(g.date,o.activeDate)&&(a.activeDt=g),g},this.isDisabled=function(b){return a.disabled||this.minDate&&this.compare(b,this.minDate)<0||this.maxDate&&this.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===o.minMode){var c=p.$viewValue?l.fromTimezone(new Date(p.$viewValue),q.getOption(\"timezone\")):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),c=l.toTimezone(c,q.getOption(\"timezone\")),p.$setViewValue(c),p.$render()}else o.activeDate=b,m(o.modes[o.modes.indexOf(a.datepickerMode)-1]),a.$emit(\"uib:datepicker.mode\");a.$broadcast(\"uib:datepicker.focus\")},a.move=function(a){var b=o.activeDate.getFullYear()+a*(o.step.years||0),c=o.activeDate.getMonth()+a*(o.step.months||0);o.activeDate.setFullYear(b,c,1),o.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===o.maxMode&&1===b||a.datepickerMode===o.minMode&&-1===b||(m(o.modes[o.modes.indexOf(a.datepickerMode)+b]),a.$emit(\"uib:datepicker.mode\"))},a.keys={13:\"enter\",32:\"space\",33:\"pageup\",34:\"pagedown\",35:\"end\",36:\"home\",37:\"left\",38:\"up\",39:\"right\",40:\"down\"};var s=function(){o.element[0].focus()};a.$on(\"uib:datepicker.focus\",s),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey&&!a.disabled)if(b.preventDefault(),o.shortcutPropagation||b.stopPropagation(),\"enter\"===c||\"space\"===c){if(o.isDisabled(o.activeDate))return;a.select(o.activeDate)}else!b.ctrlKey||\"up\"!==c&&\"down\"!==c?(o.handleKeyDown(c,b),o.refreshView()):a.toggleMode(\"up\"===c?1:-1)},b.on(\"keydown\",function(b){a.$apply(function(){a.keydown(b)})}),a.$on(\"$destroy\",function(){for(;r.length;)r.shift()()})}]).controller(\"UibDaypickerController\",[\"$scope\",\"$element\",\"dateFilter\",function(a,b,c){function d(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;b>f;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(-h+1);for(var j=this.getDates(i,42),k=0;42>k;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+\"-\"+k});a.labels=new Array(7);for(var l=0;7>l;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,\"EEEE\")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;n>o;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d=new Date(b.getFullYear(),b.getMonth(),b.getDate());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if(\"left\"===a)c-=1;else if(\"up\"===a)c-=7;else if(\"right\"===a)c+=1;else if(\"down\"===a)c+=7;else if(\"pageup\"===a||\"pagedown\"===a){var e=this.activeDate.getMonth()+(\"pageup\"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else\"home\"===a?c=1:\"end\"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller(\"UibMonthpickerController\",[\"$scope\",\"$element\",\"dateFilter\",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;12>f;f++)b=new Date(this.activeDate),b.setFullYear(e,f,1),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+\"-\"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,this.monthColumns),a.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth()),d=new Date(b.getFullYear(),b.getMonth());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if(\"left\"===a)c-=1;else if(\"up\"===a)c-=this.monthColumns;else if(\"right\"===a)c+=1;else if(\"down\"===a)c+=this.monthColumns;else if(\"pageup\"===a||\"pagedown\"===a){var d=this.activeDate.getFullYear()+(\"pageup\"===a?-1:1);this.activeDate.setFullYear(d)}else\"home\"===a?c=0:\"end\"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller(\"UibYearpickerController\",[\"$scope\",\"$element\",\"dateFilter\",function(a,b,c){function d(a){return parseInt((a-1)/f,10)*f+1}var e,f;this.element=b,this.yearpickerInit=function(){e=this.yearColumns,f=this.yearRows*e,this.step={years:f}},this._refreshView=function(){for(var b,c=new Array(f),g=0,h=d(this.activeDate.getFullYear());f>g;g++)b=new Date(this.activeDate),b.setFullYear(h+g,0,1),c[g]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+\"-\"+g});a.title=[c[0].label,c[f-1].label].join(\" - \"),a.rows=this.split(c,e),a.columns=e},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();\"left\"===a?c-=1:\"up\"===a?c-=e:\"right\"===a?c+=1:\"down\"===a?c+=e:\"pageup\"===a||\"pagedown\"===a?c+=(\"pageup\"===a?-1:1)*f:\"home\"===a?c=d(this.activeDate.getFullYear()):\"end\"===a&&(c=d(this.activeDate.getFullYear())+f-1),this.activeDate.setFullYear(c)}}]).directive(\"uibDatepicker\",function(){return{templateUrl:function(a,b){return b.templateUrl||\"uib/template/datepicker/datepicker.html\"},scope:{datepickerOptions:\"=?\"},require:[\"uibDatepicker\",\"^ngModel\"],restrict:\"A\",controller:\"UibDatepickerController\",controllerAs:\"datepicker\",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive(\"uibDaypicker\",function(){return{templateUrl:function(a,b){return b.templateUrl||\"uib/template/datepicker/day.html\"},\nrequire:[\"^uibDatepicker\",\"uibDaypicker\"],restrict:\"A\",controller:\"UibDaypickerController\",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive(\"uibMonthpicker\",function(){return{templateUrl:function(a,b){return b.templateUrl||\"uib/template/datepicker/month.html\"},require:[\"^uibDatepicker\",\"uibMonthpicker\"],restrict:\"A\",controller:\"UibMonthpickerController\",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive(\"uibYearpicker\",function(){return{templateUrl:function(a,b){return b.templateUrl||\"uib/template/datepicker/year.html\"},require:[\"^uibDatepicker\",\"uibYearpicker\"],restrict:\"A\",controller:\"UibYearpickerController\",link:function(a,b,c,d){var e=d[0];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}),angular.module(\"ui.bootstrap.position\",[]).factory(\"$uibPosition\",[\"$document\",\"$window\",function(a,b){var c,d,e={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},f={auto:/\\s?auto?\\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},g=/(HTML|BODY)/;return{getRawNode:function(a){return a.nodeName?a:a[0]||a},parseStyle:function(a){return a=parseFloat(a),isFinite(a)?a:0},offsetParent:function(c){function d(a){return\"static\"===(b.getComputedStyle(a).position||\"static\")}c=this.getRawNode(c);for(var e=c.offsetParent||a[0].documentElement;e&&e!==a[0].documentElement&&d(e);)e=e.offsetParent;return e||a[0].documentElement},scrollbarWidth:function(e){if(e){if(angular.isUndefined(d)){var f=a.find(\"body\");f.addClass(\"uib-position-body-scrollbar-measure\"),d=b.innerWidth-f[0].clientWidth,d=isFinite(d)?d:0,f.removeClass(\"uib-position-body-scrollbar-measure\")}return d}if(angular.isUndefined(c)){var g=angular.element('<div class=\"uib-position-scrollbar-measure\"></div>');a.find(\"body\").append(g),c=g[0].offsetWidth-g[0].clientWidth,c=isFinite(c)?c:0,g.remove()}return c},scrollbarPadding:function(a){a=this.getRawNode(a);var c=b.getComputedStyle(a),d=this.parseStyle(c.paddingRight),e=this.parseStyle(c.paddingBottom),f=this.scrollParent(a,!1,!0),h=this.scrollbarWidth(g.test(f.tagName));return{scrollbarWidth:h,widthOverflow:f.scrollWidth>f.clientWidth,right:d+h,originalRight:d,heightOverflow:f.scrollHeight>f.clientHeight,bottom:e+h,originalBottom:e}},isScrollable:function(a,c){a=this.getRawNode(a);var d=c?e.hidden:e.normal,f=b.getComputedStyle(a);return d.test(f.overflow+f.overflowY+f.overflowX)},scrollParent:function(c,d,f){c=this.getRawNode(c);var g=d?e.hidden:e.normal,h=a[0].documentElement,i=b.getComputedStyle(c);if(f&&g.test(i.overflow+i.overflowY+i.overflowX))return c;var j=\"absolute\"===i.position,k=c.parentElement||h;if(k===h||\"fixed\"===i.position)return h;for(;k.parentElement&&k!==h;){var l=b.getComputedStyle(k);if(j&&\"static\"!==l.position&&(j=!1),!j&&g.test(l.overflow+l.overflowY+l.overflowX))break;k=k.parentElement}return k},position:function(c,d){c=this.getRawNode(c);var e=this.offset(c);if(d){var f=b.getComputedStyle(c);e.top-=this.parseStyle(f.marginTop),e.left-=this.parseStyle(f.marginLeft)}var g=this.offsetParent(c),h={top:0,left:0};return g!==a[0].documentElement&&(h=this.offset(g),h.top+=g.clientTop-g.scrollTop,h.left+=g.clientLeft-g.scrollLeft),{width:Math.round(angular.isNumber(e.width)?e.width:c.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:c.offsetHeight),top:Math.round(e.top-h.top),left:Math.round(e.left-h.left)}},offset:function(c){c=this.getRawNode(c);var d=c.getBoundingClientRect();return{width:Math.round(angular.isNumber(d.width)?d.width:c.offsetWidth),height:Math.round(angular.isNumber(d.height)?d.height:c.offsetHeight),top:Math.round(d.top+(b.pageYOffset||a[0].documentElement.scrollTop)),left:Math.round(d.left+(b.pageXOffset||a[0].documentElement.scrollLeft))}},viewportOffset:function(c,d,e){c=this.getRawNode(c),e=e!==!1;var f=c.getBoundingClientRect(),g={top:0,left:0,bottom:0,right:0},h=d?a[0].documentElement:this.scrollParent(c),i=h.getBoundingClientRect();if(g.top=i.top+h.clientTop,g.left=i.left+h.clientLeft,h===a[0].documentElement&&(g.top+=b.pageYOffset,g.left+=b.pageXOffset),g.bottom=g.top+h.clientHeight,g.right=g.left+h.clientWidth,e){var j=b.getComputedStyle(h);g.top+=this.parseStyle(j.paddingTop),g.bottom-=this.parseStyle(j.paddingBottom),g.left+=this.parseStyle(j.paddingLeft),g.right-=this.parseStyle(j.paddingRight)}return{top:Math.round(f.top-g.top),bottom:Math.round(g.bottom-f.bottom),left:Math.round(f.left-g.left),right:Math.round(g.right-f.right)}},parsePlacement:function(a){var b=f.auto.test(a);return b&&(a=a.replace(f.auto,\"\")),a=a.split(\"-\"),a[0]=a[0]||\"top\",f.primary.test(a[0])||(a[0]=\"top\"),a[1]=a[1]||\"center\",f.secondary.test(a[1])||(a[1]=\"center\"),b?a[2]=!0:a[2]=!1,a},positionElements:function(a,c,d,e){a=this.getRawNode(a),c=this.getRawNode(c);var g=angular.isDefined(c.offsetWidth)?c.offsetWidth:c.prop(\"offsetWidth\"),h=angular.isDefined(c.offsetHeight)?c.offsetHeight:c.prop(\"offsetHeight\");d=this.parsePlacement(d);var i=e?this.offset(a):this.position(a),j={top:0,left:0,placement:\"\"};if(d[2]){var k=this.viewportOffset(a,e),l=b.getComputedStyle(c),m={width:g+Math.round(Math.abs(this.parseStyle(l.marginLeft)+this.parseStyle(l.marginRight))),height:h+Math.round(Math.abs(this.parseStyle(l.marginTop)+this.parseStyle(l.marginBottom)))};if(d[0]=\"top\"===d[0]&&m.height>k.top&&m.height<=k.bottom?\"bottom\":\"bottom\"===d[0]&&m.height>k.bottom&&m.height<=k.top?\"top\":\"left\"===d[0]&&m.width>k.left&&m.width<=k.right?\"right\":\"right\"===d[0]&&m.width>k.right&&m.width<=k.left?\"left\":d[0],d[1]=\"top\"===d[1]&&m.height-i.height>k.bottom&&m.height-i.height<=k.top?\"bottom\":\"bottom\"===d[1]&&m.height-i.height>k.top&&m.height-i.height<=k.bottom?\"top\":\"left\"===d[1]&&m.width-i.width>k.right&&m.width-i.width<=k.left?\"right\":\"right\"===d[1]&&m.width-i.width>k.left&&m.width-i.width<=k.right?\"left\":d[1],\"center\"===d[1])if(f.vertical.test(d[0])){var n=i.width/2-g/2;k.left+n<0&&m.width-i.width<=k.right?d[1]=\"left\":k.right+n<0&&m.width-i.width<=k.left&&(d[1]=\"right\")}else{var o=i.height/2-m.height/2;k.top+o<0&&m.height-i.height<=k.bottom?d[1]=\"top\":k.bottom+o<0&&m.height-i.height<=k.top&&(d[1]=\"bottom\")}}switch(d[0]){case\"top\":j.top=i.top-h;break;case\"bottom\":j.top=i.top+i.height;break;case\"left\":j.left=i.left-g;break;case\"right\":j.left=i.left+i.width}switch(d[1]){case\"top\":j.top=i.top;break;case\"bottom\":j.top=i.top+i.height-h;break;case\"left\":j.left=i.left;break;case\"right\":j.left=i.left+i.width-g;break;case\"center\":f.vertical.test(d[0])?j.left=i.left+i.width/2-g/2:j.top=i.top+i.height/2-h/2}return j.top=Math.round(j.top),j.left=Math.round(j.left),j.placement=\"center\"===d[1]?d[0]:d[0]+\"-\"+d[1],j},adjustTop:function(a,b,c,d){return-1!==a.indexOf(\"top\")&&c!==d?{top:b.top-d+\"px\"}:void 0},positionArrow:function(a,c){a=this.getRawNode(a);var d=a.querySelector(\".tooltip-inner, .popover-inner\");if(d){var e=angular.element(d).hasClass(\"tooltip-inner\"),g=e?a.querySelector(\".tooltip-arrow\"):a.querySelector(\".arrow\");if(g){var h={top:\"\",bottom:\"\",left:\"\",right:\"\"};if(c=this.parsePlacement(c),\"center\"===c[1])return void angular.element(g).css(h);var i=\"border-\"+c[0]+\"-width\",j=b.getComputedStyle(g)[i],k=\"border-\";k+=f.vertical.test(c[0])?c[0]+\"-\"+c[1]:c[1]+\"-\"+c[0],k+=\"-radius\";var l=b.getComputedStyle(e?d:a)[k];switch(c[0]){case\"top\":h.bottom=e?\"0\":\"-\"+j;break;case\"bottom\":h.top=e?\"0\":\"-\"+j;break;case\"left\":h.right=e?\"0\":\"-\"+j;break;case\"right\":h.left=e?\"0\":\"-\"+j}h[c[1]]=l,angular.element(g).css(h)}}}}}]),angular.module(\"ui.bootstrap.datepickerPopup\",[\"ui.bootstrap.datepicker\",\"ui.bootstrap.position\"]).value(\"$datepickerPopupLiteralWarning\",!0).constant(\"uibDatepickerPopupConfig\",{altInputFormats:[],appendToBody:!1,clearText:\"Clear\",closeOnDateSelection:!0,closeText:\"Done\",currentText:\"Today\",datepickerPopup:\"yyyy-MM-dd\",datepickerPopupTemplateUrl:\"uib/template/datepickerPopup/popup.html\",datepickerTemplateUrl:\"uib/template/datepicker/datepicker.html\",html5Types:{date:\"yyyy-MM-dd\",\"datetime-local\":\"yyyy-MM-ddTHH:mm:ss.sss\",month:\"yyyy-MM\"},onOpenFocus:!0,showButtonBar:!0,placement:\"auto bottom-left\"}).controller(\"UibDatepickerPopupController\",[\"$scope\",\"$element\",\"$attrs\",\"$compile\",\"$log\",\"$parse\",\"$window\",\"$document\",\"$rootScope\",\"$uibPosition\",\"dateFilter\",\"uibDateParser\",\"uibDatepickerPopupConfig\",\"$timeout\",\"uibDatepickerConfig\",\"$datepickerPopupLiteralWarning\",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(b){var c=l.parse(b,x,a.date);if(isNaN(c))for(var d=0;d<J.length;d++)if(c=l.parse(b,J[d],a.date),!isNaN(c))return c;return c}function r(a){if(angular.isNumber(a)&&(a=new Date(a)),!a)return null;if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=q(a);if(!isNaN(b))return l.toTimezone(b,H.getOption(\"timezone\"))}return H.getOption(\"allowInvalid\")?a:void 0}function s(a,b){var d=a||b;return c.ngRequired||d?(angular.isNumber(d)&&(d=new Date(d)),d?angular.isDate(d)&&!isNaN(d)?!0:angular.isString(d)?!isNaN(q(d)):!1:!0):!0}function t(c){if(a.isOpen||!a.disabled){var d=I[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}}function u(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}function v(){if(a.isOpen){var d=angular.element(I[0].querySelector(\".uib-datepicker-popup\")),e=c.popupPlacement?c.popupPlacement:m.placement,f=j.positionElements(b,d,e,z);d.css({top:f.top+\"px\",left:f.left+\"px\"}),d.hasClass(\"uib-position-measure\")&&d.removeClass(\"uib-position-measure\")}}function w(a){var b;return angular.version.minor<6?(b=angular.isObject(a.$options)?a.$options:{timezone:null},b.getOption=function(a){return b[a]}):b=a.$options,b}var x,y,z,A,B,C,D,E,F,G,H,I,J,K=!1,L=[];this.init=function(e){if(G=e,H=w(G),y=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):m.closeOnDateSelection,z=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):m.appendToBody,A=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):m.onOpenFocus,B=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:m.datepickerPopupTemplateUrl,C=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:m.datepickerTemplateUrl,J=angular.isDefined(c.altInputFormats)?a.$parent.$eval(c.altInputFormats):m.altInputFormats,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):m.showButtonBar,m.html5Types[c.type]?(x=m.html5Types[c.type],K=!0):(x=c.uibDatepickerPopup||m.datepickerPopup,c.$observe(\"uibDatepickerPopup\",function(a,b){var c=a||m.datepickerPopup;if(c!==x&&(x=c,G.$modelValue=null,!x))throw new Error(\"uibDatepickerPopup must have a date format specified.\")})),!x)throw new Error(\"uibDatepickerPopup must have a date format specified.\");if(K&&c.uibDatepickerPopup)throw new Error(\"HTML5 date input types do not support custom formats.\");D=angular.element(\"<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>\"),D.attr({\"ng-model\":\"date\",\"ng-change\":\"dateSelection(date)\",\"template-url\":B}),E=angular.element(D.children()[0]),E.attr(\"template-url\",C),a.datepickerOptions||(a.datepickerOptions={}),K&&\"month\"===c.type&&(a.datepickerOptions.datepickerMode=\"month\",a.datepickerOptions.minMode=\"month\"),E.attr(\"datepicker-options\",\"datepickerOptions\"),K?G.$formatters.push(function(b){return a.date=l.fromTimezone(b,H.getOption(\"timezone\")),b}):(G.$$parserName=\"date\",G.$validators.date=s,G.$parsers.unshift(r),G.$formatters.push(function(b){return G.$isEmpty(b)?(a.date=b,b):(angular.isNumber(b)&&(b=new Date(b)),a.date=l.fromTimezone(b,H.getOption(\"timezone\")),l.filter(a.date,x))})),G.$viewChangeListeners.push(function(){a.date=q(G.$viewValue)}),b.on(\"keydown\",u),I=d(D)(a),D.remove(),z?h.find(\"body\").append(I):b.after(I),a.$on(\"$destroy\",function(){for(a.isOpen===!0&&(i.$$phase||a.$apply(function(){a.isOpen=!1})),I.remove(),b.off(\"keydown\",u),h.off(\"click\",t),F&&F.off(\"scroll\",v),angular.element(g).off(\"resize\",v);L.length;)L.shift()()})},a.getText=function(b){return a[b+\"Text\"]||m[b+\"Text\"]},a.isDisabled=function(b){\"today\"===b&&(b=l.fromTimezone(new Date,H.getOption(\"timezone\")));var c={};return angular.forEach([\"minDate\",\"maxDate\"],function(b){a.datepickerOptions[b]?angular.isDate(a.datepickerOptions[b])?c[b]=new Date(a.datepickerOptions[b]):(p&&e.warn(\"Literal date support has been deprecated, please switch to date object usage\"),c[b]=new Date(k(a.datepickerOptions[b],\"medium\"))):c[b]=null}),a.datepickerOptions&&c.minDate&&a.compare(b,c.minDate)<0||c.maxDate&&a.compare(b,c.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){a.date=c;var d=a.date?l.filter(a.date,x):null;b.val(d),G.$setViewValue(d),y&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(c.stopPropagation(),a.isOpen=!1,b[0].focus())},a.select=function(b,c){if(c.stopPropagation(),\"today\"===b){var d=new Date;angular.isDate(a.date)?(b=new Date(a.date),b.setFullYear(d.getFullYear(),d.getMonth(),d.getDate())):(b=l.fromTimezone(d,H.getOption(\"timezone\")),b.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(c){c.stopPropagation(),a.isOpen=!1,b[0].focus()},a.disabled=angular.isDefined(c.disabled)||!1,c.ngDisabled&&L.push(a.$parent.$watch(f(c.ngDisabled),function(b){a.disabled=b})),a.$watch(\"isOpen\",function(d){d?a.disabled?a.isOpen=!1:n(function(){v(),A&&a.$broadcast(\"uib:datepicker.focus\"),h.on(\"click\",t);var d=c.popupPlacement?c.popupPlacement:m.placement;z||j.parsePlacement(d)[2]?(F=F||angular.element(j.scrollParent(b)),F&&F.on(\"scroll\",v)):F=null,angular.element(g).on(\"resize\",v)},0,!1):(h.off(\"click\",t),F&&F.off(\"scroll\",v),angular.element(g).off(\"resize\",v))}),a.$on(\"uib:datepicker.mode\",function(){n(v,0,!1)})}]).directive(\"uibDatepickerPopup\",function(){return{require:[\"ngModel\",\"uibDatepickerPopup\"],controller:\"UibDatepickerPopupController\",scope:{datepickerOptions:\"=?\",isOpen:\"=?\",currentText:\"@\",clearText:\"@\",closeText:\"@\"},link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive(\"uibDatepickerPopupWrap\",function(){return{restrict:\"A\",transclude:!0,templateUrl:function(a,b){return b.templateUrl||\"uib/template/datepickerPopup/popup.html\"}}}),angular.module(\"ui.bootstrap.debounce\",[]).factory(\"$$debounce\",[\"$timeout\",function(a){return function(b,c){var d;return function(){var e=this,f=Array.prototype.slice.call(arguments);d&&a.cancel(d),d=a(function(){b.apply(e,f)},c)}}}]),angular.module(\"ui.bootstrap.multiMap\",[]).factory(\"$$multiMap\",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}),angular.module(\"ui.bootstrap.dropdown\",[\"ui.bootstrap.multiMap\",\"ui.bootstrap.position\"]).constant(\"uibDropdownConfig\",{appendToOpenClass:\"uib-dropdown-open\",openClass:\"open\"}).service(\"uibDropdownService\",[\"$document\",\"$rootScope\",\"$$multiMap\",function(a,b,c){var d=null,e=c.createNew();this.isOnlyOpen=function(a,b){var c=e.get(b);if(c){var d=c.reduce(function(b,c){return c.scope===a?c:b},{});if(d)return 1===c.length}return!1},this.open=function(b,c,g){if(d||a.on(\"click\",f),d&&d!==b&&(d.isOpen=!1),d=b,g){var h=e.get(g);if(h){var i=h.map(function(a){return a.scope});-1===i.indexOf(b)&&e.put(g,{scope:b})}else e.put(g,{scope:b})}},this.close=function(b,c,g){if(d===b&&(a.off(\"click\",f),a.off(\"keydown\",this.keybindFilter),d=null),g){var h=e.get(g);if(h){var i=h.reduce(function(a,c){return c.scope===b?c:a},{});i&&e.remove(g,i)}}};var f=function(a){if(d&&d.isOpen&&!(a&&\"disabled\"===d.getAutoClose()||a&&3===a.which)){var c=d.getToggleElement();if(!(a&&c&&c[0].contains(a.target))){var e=d.getDropdownElement();a&&\"outsideClick\"===d.getAutoClose()&&e&&e[0].contains(a.target)||(d.focusToggleElement(),d.isOpen=!1,b.$$phase||d.$apply())}}};this.keybindFilter=function(a){if(d){var b=d.getDropdownElement(),c=d.getToggleElement(),e=b&&b[0].contains(a.target),g=c&&c[0].contains(a.target);27===a.which?(a.stopPropagation(),d.focusToggleElement(),f()):d.isKeynavEnabled()&&-1!==[38,40].indexOf(a.which)&&d.isOpen&&(e||g)&&(a.preventDefault(),a.stopPropagation(),d.focusDropdownEntry(a.which))}}}]).controller(\"UibDropdownController\",[\"$scope\",\"$element\",\"$attrs\",\"$parse\",\"uibDropdownConfig\",\"uibDropdownService\",\"$animate\",\"$uibPosition\",\"$document\",\"$compile\",\"$templateRequest\",function(a,b,c,d,e,f,g,h,i,j,k){function l(){b.append(o.dropdownMenu)}var m,n,o=this,p=a.$new(),q=e.appendToOpenClass,r=e.openClass,s=angular.noop,t=c.onToggle?d(c.onToggle):angular.noop,u=!1,v=i.find(\"body\");b.addClass(\"dropdown\"),this.init=function(){c.isOpen&&(n=d(c.isOpen),s=n.assign,a.$watch(n,function(a){p.isOpen=!!a})),u=angular.isDefined(c.keyboardNav)},this.toggle=function(a){return p.isOpen=arguments.length?!!a:!p.isOpen,angular.isFunction(s)&&s(p,p.isOpen),p.isOpen},this.isOpen=function(){return p.isOpen},p.getToggleElement=function(){return o.toggleElement},p.getAutoClose=function(){return c.autoClose||\"always\"},p.getElement=function(){return b},p.isKeynavEnabled=function(){return u},p.focusDropdownEntry=function(a){var c=o.dropdownMenu?angular.element(o.dropdownMenu).find(\"a\"):b.find(\"ul\").eq(0).find(\"a\");switch(a){case 40:angular.isNumber(o.selectedOption)?o.selectedOption=o.selectedOption===c.length-1?o.selectedOption:o.selectedOption+1:o.selectedOption=0;break;case 38:angular.isNumber(o.selectedOption)?o.selectedOption=0===o.selectedOption?0:o.selectedOption-1:o.selectedOption=c.length-1}c[o.selectedOption].focus()},p.getDropdownElement=function(){return o.dropdownMenu},p.focusToggleElement=function(){o.toggleElement&&o.toggleElement[0].focus()},p.$watch(\"isOpen\",function(e,n){var u=null,w=!1;if(angular.isDefined(c.dropdownAppendTo)){var x=d(c.dropdownAppendTo)(p);x&&(u=angular.element(x))}if(angular.isDefined(c.dropdownAppendToBody)){var y=d(c.dropdownAppendToBody)(p);y!==!1&&(w=!0)}if(w&&!u&&(u=v),u&&o.dropdownMenu&&(e?(u.append(o.dropdownMenu),b.on(\"$destroy\",l)):(b.off(\"$destroy\",l),l())),u&&o.dropdownMenu){var z,A,B,C=h.positionElements(b,o.dropdownMenu,\"bottom-left\",!0),D=0;if(z={top:C.top+\"px\",display:e?\"block\":\"none\"},A=o.dropdownMenu.hasClass(\"dropdown-menu-right\"),A?(z.left=\"auto\",B=h.scrollbarPadding(u),B.heightOverflow&&B.scrollbarWidth&&(D=B.scrollbarWidth),z.right=window.innerWidth-D-(C.left+b.prop(\"offsetWidth\"))+\"px\"):(z.left=C.left+\"px\",z.right=\"auto\"),!w){var E=h.offset(u);z.top=C.top-E.top+\"px\",A?z.right=window.innerWidth-(C.left-E.left+b.prop(\"offsetWidth\"))+\"px\":z.left=C.left-E.left+\"px\"}o.dropdownMenu.css(z)}var F=u?u:b,G=u?q:r,H=F.hasClass(G),I=f.isOnlyOpen(a,u);if(H===!e){var J;J=u?I?\"removeClass\":\"addClass\":e?\"addClass\":\"removeClass\",g[J](F,G).then(function(){angular.isDefined(e)&&e!==n&&t(a,{open:!!e})})}if(e)o.dropdownMenuTemplateUrl?k(o.dropdownMenuTemplateUrl).then(function(a){m=p.$new(),j(a.trim())(m,function(a){var b=a;o.dropdownMenu.replaceWith(b),o.dropdownMenu=b,i.on(\"keydown\",f.keybindFilter)})}):i.on(\"keydown\",f.keybindFilter),p.focusToggleElement(),f.open(p,b,u);else{if(f.close(p,b,u),o.dropdownMenuTemplateUrl){m&&m.$destroy();var K=angular.element('<ul class=\"dropdown-menu\"></ul>');o.dropdownMenu.replaceWith(K),o.dropdownMenu=K}o.selectedOption=null}angular.isFunction(s)&&s(a,e)})}]).directive(\"uibDropdown\",function(){return{controller:\"UibDropdownController\",link:function(a,b,c,d){d.init()}}}).directive(\"uibDropdownMenu\",function(){return{restrict:\"A\",require:\"?^uibDropdown\",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass(\"dropdown-menu\");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive(\"uibDropdownToggle\",function(){return{require:\"?^uibDropdown\",link:function(a,b,c,d){if(d){b.addClass(\"dropdown-toggle\"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass(\"disabled\")||c.disabled||a.$apply(function(){d.toggle()})};b.on(\"click\",e),b.attr({\"aria-haspopup\":!0,\"aria-expanded\":!1}),a.$watch(d.isOpen,function(a){b.attr(\"aria-expanded\",!!a)}),a.$on(\"$destroy\",function(){b.off(\"click\",e)})}}}}),angular.module(\"ui.bootstrap.stackedMap\",[]).factory(\"$$stackedMap\",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b===a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b===a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.pop()},length:function(){return a.length}}}}}),angular.module(\"ui.bootstrap.modal\",[\"ui.bootstrap.multiMap\",\"ui.bootstrap.stackedMap\",\"ui.bootstrap.position\"]).provider(\"$uibResolve\",function(){var a=this;this.resolver=null,this.setResolver=function(a){this.resolver=a},this.$get=[\"$injector\",\"$q\",function(b,c){var d=a.resolver?b.get(a.resolver):null;return{resolve:function(a,e,f,g){if(d)return d.resolve(a,e,f,g);var h=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?h.push(c.resolve(b.invoke(a))):angular.isString(a)?h.push(c.resolve(b.get(a))):h.push(c.resolve(a))}),c.all(h).then(function(b){var c={},d=0;return angular.forEach(a,function(a,e){c[e]=b[d++]}),c})}}}]}).directive(\"uibModalBackdrop\",[\"$animate\",\"$injector\",\"$uibModalStack\",function(a,b,c){function d(b,d,e){e.modalInClass&&(a.addClass(d,e.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(c,f){var g=f();b.modalOptions.animation?a.removeClass(d,e.modalInClass).then(g):g()}))}return{restrict:\"A\",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive(\"uibModalWindow\",[\"$uibModalStack\",\"$q\",\"$animateCss\",\"$document\",function(a,b,c,d){return{scope:{index:\"@\"},restrict:\"A\",transclude:!0,templateUrl:function(a,b){return b.templateUrl||\"uib/template/modal/window.html\"},link:function(e,f,g){f.addClass(g.windowTopClass||\"\"),e.size=g.size,e.close=function(b){var c=a.getTop();c&&c.value.backdrop&&\"static\"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,\"backdrop click\"))},f.on(\"click\",e.close),e.$isRendered=!0;var h=b.defer();e.$$postDigest(function(){h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=c(f,{addClass:g.modalInClass}).start(),e.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();c(f,{removeClass:g.modalInClass}).start().then(d)})),b.when(h).then(function(){var b=a.getTop();if(b&&a.modalRendered(b.key),!d[0].activeElement||!f[0].contains(d[0].activeElement)){var c=f[0].querySelector(\"[autofocus]\");c?c.focus():f[0].focus()}})})}}}]).directive(\"uibModalAnimationClass\",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive(\"uibModalTransclude\",[\"$animate\",function(a){return{link:function(b,c,d,e,f){f(b.$parent,function(b){c.empty(),a.enter(b,c)})}}}]).factory(\"$uibModalStack\",[\"$animate\",\"$animateCss\",\"$document\",\"$compile\",\"$rootScope\",\"$q\",\"$$multiMap\",\"$$stackedMap\",\"$uibPosition\",function(a,b,c,d,e,f,g,h,i){function j(a){var b=\"-\";return a.replace(E,function(a,c){return(c?b:\"\")+a.toLowerCase()})}function k(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)}function l(){for(var a=-1,b=x.keys(),c=0;c<b.length;c++)x.get(b[c]).value.backdrop&&(a=c);return a>-1&&A>a&&(a=A),a}function m(a,b){var c=x.get(a).value,d=c.appendTo;x.remove(a),B=x.top(),B&&(A=parseInt(B.value.modalDomEl.attr(\"index\"),10)),p(c.modalDomEl,c.modalScope,function(){var b=c.openedClass||w;y.remove(b,a);var e=y.hasKey(b);d.toggleClass(b,e),!e&&v&&v.heightOverflow&&v.scrollbarWidth&&(v.originalRight?d.css({paddingRight:v.originalRight+\"px\"}):d.css({paddingRight:\"\"}),v=null),n(!0)},c.closedDeferred),o(),b&&b.focus?b.focus():d.focus&&d.focus()}function n(a){var b;x.length()>0&&(b=x.top().value,b.modalDomEl.toggleClass(b.windowTopClass||\"\",a))}function o(){if(t&&-1===l()){var a=u;p(t,u,function(){a=null}),t=void 0,u=void 0}}function p(b,c,d,e){function g(){g.done||(g.done=!0,a.leave(b).then(function(){d&&d(),b.remove(),e&&e.resolve()}),c.$destroy())}var h,i=null,j=function(){return h||(h=f.defer(),i=h.promise),function(){h.resolve()}};return c.$broadcast(z.NOW_CLOSING_EVENT,j),f.when(i).then(g)}function q(a){if(a.isDefaultPrevented())return a;var b=x.top();if(b)switch(a.which){case 27:b.value.keyboard&&(a.preventDefault(),e.$apply(function(){z.dismiss(b.key,\"escape key press\")}));break;case 9:var c=z.loadFocusElementList(b),d=!1;a.shiftKey?(z.isFocusInFirstItem(a,c)||z.isModalFocused(a,b))&&(d=z.focusLastFocusableElement(c)):z.isFocusInLastItem(a,c)&&(d=z.focusFirstFocusableElement(c)),d&&(a.preventDefault(),a.stopPropagation())}}function r(a,b,c){return!a.value.modalScope.$broadcast(\"modal.closing\",b,c).defaultPrevented}function s(){Array.prototype.forEach.call(document.querySelectorAll(\"[\"+C+\"]\"),function(a){var b=parseInt(a.getAttribute(C),10),c=b-1;a.setAttribute(C,c),c||(a.removeAttribute(C),a.removeAttribute(\"aria-hidden\"))})}var t,u,v,w=\"modal-open\",x=h.createNew(),y=g.createNew(),z={NOW_CLOSING_EVENT:\"modal.stack.now-closing\"},A=0,B=null,C=\"data-bootstrap-modal-aria-hidden-count\",D=\"a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]\",E=/[A-Z]/g;return e.$watch(l,function(a){u&&(u.index=a)}),c.on(\"keydown\",q),e.$on(\"$destroy\",function(){c.off(\"keydown\",q)}),z.open=function(b,f){function g(a){function b(a){var b=a.parent()?a.parent().children():[];return Array.prototype.filter.call(b,function(b){return b!==a[0]})}if(a&&\"BODY\"!==a[0].tagName)return b(a).forEach(function(a){var b=\"true\"===a.getAttribute(\"aria-hidden\"),c=parseInt(a.getAttribute(C),10);c||(c=b?1:0),a.setAttribute(C,c+1),a.setAttribute(\"aria-hidden\",\"true\")}),g(a.parent())}var h=c[0].activeElement,k=f.openedClass||w;n(!1),B=x.top(),x.add(b,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),y.put(k,b);var m=f.appendTo,o=l();o>=0&&!t&&(u=e.$new(!0),u.modalOptions=f,u.index=o,t=angular.element('<div uib-modal-backdrop=\"modal-backdrop\"></div>'),t.attr({\"class\":\"modal-backdrop\",\"ng-style\":\"{'z-index': 1040 + (index && 1 || 0) + index*10}\",\"uib-modal-animation-class\":\"fade\",\"modal-in-class\":\"in\"}),f.backdropClass&&t.addClass(f.backdropClass),f.animation&&t.attr(\"modal-animation\",\"true\"),d(t)(u),a.enter(t,m),i.isScrollable(m)&&(v=i.scrollbarPadding(m),v.heightOverflow&&v.scrollbarWidth&&m.css({paddingRight:v.right+\"px\"})));var p;f.component?(p=document.createElement(j(f.component.name)),p=angular.element(p),p.attr({resolve:\"$resolve\",\"modal-instance\":\"$uibModalInstance\",close:\"$close($value)\",dismiss:\"$dismiss($value)\"})):p=f.content,A=B?parseInt(B.value.modalDomEl.attr(\"index\"),10)+1:0;var q=angular.element('<div uib-modal-window=\"modal-window\"></div>');q.attr({\"class\":\"modal\",\"template-url\":f.windowTemplateUrl,\"window-top-class\":f.windowTopClass,role:\"dialog\",\"aria-labelledby\":f.ariaLabelledBy,\"aria-describedby\":f.ariaDescribedBy,size:f.size,index:A,animate:\"animate\",\"ng-style\":\"mgz.getModalStyle($$topModalIndex)\",tabindex:-1,\"uib-modal-animation-class\":\"fade\",\"modal-in-class\":\"in\"}).append(p),f.windowClass&&q.addClass(f.windowClass),f.animation&&q.attr(\"modal-animation\",\"true\"),m.addClass(k),f.scope&&(f.scope.$$topModalIndex=A),a.enter(d(q)(f.scope),m),x.top().value.modalDomEl=q,x.top().value.modalOpener=h,g(q)},z.close=function(a,b){var c=x.get(a);return s(),c&&r(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),m(a,c.value.modalOpener),!0):!c},z.dismiss=function(a,b){var c=x.get(a);return s(),c&&r(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),m(a,c.value.modalOpener),!0):!c},z.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},z.getTop=function(){return x.top()},z.modalRendered=function(a){var b=x.get(a);b&&b.value.renderDeferred.resolve()},z.focusFirstFocusableElement=function(a){return a.length>0?(a[0].focus(),!0):!1},z.focusLastFocusableElement=function(a){return a.length>0?(a[a.length-1].focus(),!0):!1},z.isModalFocused=function(a,b){if(a&&b){var c=b.value.modalDomEl;if(c&&c.length)return(a.target||a.srcElement)===c[0]}return!1},z.isFocusInFirstItem=function(a,b){return b.length>0?(a.target||a.srcElement)===b[0]:!1},z.isFocusInLastItem=function(a,b){return b.length>0?(a.target||a.srcElement)===b[b.length-1]:!1},z.loadFocusElementList=function(a){if(a){var b=a.value.modalDomEl;if(b&&b.length){var c=b[0].querySelectorAll(D);return c?Array.prototype.filter.call(c,function(a){return k(a)}):c}}},z}]).provider(\"$uibModal\",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:[\"$rootScope\",\"$q\",\"$document\",\"$templateRequest\",\"$controller\",\"$uibResolve\",\"$uibModalStack\",function(b,c,d,e,f,g,h){function i(a){return a.template?c.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}var j={},k=null;return j.getPromiseChain=function(){return k},j.open=function(e){function j(){return q}var l=c.defer(),m=c.defer(),n=c.defer(),o=c.defer(),p={result:l.promise,opened:m.promise,closed:n.promise,rendered:o.promise,close:function(a){return h.close(p,a)},dismiss:function(a){return h.dismiss(p,a)}};if(e=angular.extend({},a.options,e),e.resolve=e.resolve||{},e.appendTo=e.appendTo||d.find(\"body\").eq(0),!e.appendTo.length)throw new Error(\"appendTo element not found. Make sure that the element passed is in DOM.\");if(!e.component&&!e.template&&!e.templateUrl)throw new Error(\"One of component or template or templateUrl options is required.\");var q;q=e.component?c.when(g.resolve(e.resolve,{},null,null)):c.all([i(e),g.resolve(e.resolve,{},null,null)]);var r;return r=k=c.all([k]).then(j,j).then(function(a){function c(b,c,d,e){b.$scope=g,b.$scope.$resolve={},d?b.$scope.$uibModalInstance=p:b.$uibModalInstance=p;var f=c?a[1]:a;angular.forEach(f,function(a,c){e&&(b[c]=a),b.$scope.$resolve[c]=a})}var d=e.scope||b,g=d.$new();g.$close=p.close,g.$dismiss=p.dismiss,g.$on(\"$destroy\",function(){g.$$uibDestructionScheduled||g.$dismiss(\"$uibUnscheduledDestruction\")});var i,j,k={scope:g,deferred:l,renderDeferred:o,closedDeferred:n,animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowTopClass:e.windowTopClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,ariaLabelledBy:e.ariaLabelledBy,ariaDescribedBy:e.ariaDescribedBy,size:e.size,openedClass:e.openedClass,appendTo:e.appendTo},q={},r={};e.component?(c(q,!1,!0,!1),q.name=e.component,k.component=q):e.controller&&(c(r,!0,!1,!0),j=f(e.controller,r,!0,e.controllerAs),e.controllerAs&&e.bindToController&&(i=j.instance,i.$close=g.$close,i.$dismiss=g.$dismiss,angular.extend(i,{$resolve:r.$scope.$resolve},d)),i=j(),angular.isFunction(i.$onInit)&&i.$onInit()),e.component||(k.content=a[0]),h.open(p,k),m.resolve(!0)},function(a){m.reject(a),l.reject(a)})[\"finally\"](function(){k===r&&(k=null)}),p},j}]};return a}),angular.module(\"ui.bootstrap.paging\",[]).factory(\"uibPaging\",[\"$parse\",function(a){return{create:function(b,c,d){b.setNumPages=d.numPages?a(d.numPages).assign:angular.noop,b.ngModelCtrl={$setViewValue:angular.noop},b._watchers=[],b.init=function(a,e){b.ngModelCtrl=a,b.config=e,a.$render=function(){b.render()},d.itemsPerPage?b._watchers.push(c.$parent.$watch(d.itemsPerPage,function(a){\nb.itemsPerPage=parseInt(a,10),c.totalPages=b.calculateTotalPages(),b.updatePage()})):b.itemsPerPage=e.itemsPerPage,c.$watch(\"totalItems\",function(a,d){(angular.isDefined(a)||a!==d)&&(c.totalPages=b.calculateTotalPages(),b.updatePage())})},b.calculateTotalPages=function(){var a=b.itemsPerPage<1?1:Math.ceil(c.totalItems/b.itemsPerPage);return Math.max(a||0,1)},b.render=function(){c.page=parseInt(b.ngModelCtrl.$viewValue,10)||1},c.selectPage=function(a,d){d&&d.preventDefault();var e=!c.ngDisabled||!d;e&&c.page!==a&&a>0&&a<=c.totalPages&&(d&&d.target&&d.target.blur(),b.ngModelCtrl.$setViewValue(a),b.ngModelCtrl.$render())},c.getText=function(a){return c[a+\"Text\"]||b.config[a+\"Text\"]},c.noPrevious=function(){return 1===c.page},c.noNext=function(){return c.page===c.totalPages},b.updatePage=function(){b.setNumPages(c.$parent,c.totalPages),c.page>c.totalPages?c.selectPage(c.totalPages):b.ngModelCtrl.$render()},c.$on(\"$destroy\",function(){for(;b._watchers.length;)b._watchers.shift()()})}}}]),angular.module(\"ui.bootstrap.pager\",[\"ui.bootstrap.paging\",\"ui.bootstrap.tabindex\"]).controller(\"UibPagerController\",[\"$scope\",\"$attrs\",\"uibPaging\",\"uibPagerConfig\",function(a,b,c,d){a.align=angular.isDefined(b.align)?a.$parent.$eval(b.align):d.align,c.create(this,a,b)}]).constant(\"uibPagerConfig\",{itemsPerPage:10,previousText:\"\u00ab Previous\",nextText:\"Next \u00bb\",align:!0}).directive(\"uibPager\",[\"uibPagerConfig\",function(a){return{scope:{totalItems:\"=\",previousText:\"@\",nextText:\"@\",ngDisabled:\"=\"},require:[\"uibPager\",\"?ngModel\"],restrict:\"A\",controller:\"UibPagerController\",controllerAs:\"pager\",templateUrl:function(a,b){return b.templateUrl||\"uib/template/pager/pager.html\"},link:function(b,c,d,e){c.addClass(\"pager\");var f=e[0],g=e[1];g&&f.init(g,a)}}}]),angular.module(\"ui.bootstrap.pagination\",[\"ui.bootstrap.paging\",\"ui.bootstrap.tabindex\"]).controller(\"UibPaginationController\",[\"$scope\",\"$attrs\",\"$parse\",\"uibPaging\",\"uibPaginationConfig\",function(a,b,c,d,e){function f(a,b,c){return{number:a,text:b,active:c}}function g(a,b){var c=[],d=1,e=b,g=angular.isDefined(i)&&b>i;g&&(j?(d=Math.max(a-Math.floor(i/2),1),e=d+i-1,e>b&&(e=b,d=e-i+1)):(d=(Math.ceil(a/i)-1)*i+1,e=Math.min(d+i-1,b)));for(var h=d;e>=h;h++){var n=f(h,m(h),h===a);c.push(n)}if(g&&i>0&&(!j||k||l)){if(d>1){if(!l||d>3){var o=f(d-1,\"...\",!1);c.unshift(o)}if(l){if(3===d){var p=f(2,\"2\",!1);c.unshift(p)}var q=f(1,\"1\",!1);c.unshift(q)}}if(b>e){if(!l||b-2>e){var r=f(e+1,\"...\",!1);c.push(r)}if(l){if(e===b-2){var s=f(b-1,b-1,!1);c.push(s)}var t=f(b,b,!1);c.push(t)}}}return c}var h=this,i=angular.isDefined(b.maxSize)?a.$parent.$eval(b.maxSize):e.maxSize,j=angular.isDefined(b.rotate)?a.$parent.$eval(b.rotate):e.rotate,k=angular.isDefined(b.forceEllipses)?a.$parent.$eval(b.forceEllipses):e.forceEllipses,l=angular.isDefined(b.boundaryLinkNumbers)?a.$parent.$eval(b.boundaryLinkNumbers):e.boundaryLinkNumbers,m=angular.isDefined(b.pageLabel)?function(c){return a.$parent.$eval(b.pageLabel,{$page:c})}:angular.identity;a.boundaryLinks=angular.isDefined(b.boundaryLinks)?a.$parent.$eval(b.boundaryLinks):e.boundaryLinks,a.directionLinks=angular.isDefined(b.directionLinks)?a.$parent.$eval(b.directionLinks):e.directionLinks,b.$set(\"role\",\"menu\"),d.create(this,a,b),b.maxSize&&h._watchers.push(a.$parent.$watch(c(b.maxSize),function(a){i=parseInt(a,10),h.render()}));var n=this.render;this.render=function(){n(),a.page>0&&a.page<=a.totalPages&&(a.pages=g(a.page,a.totalPages))}}]).constant(\"uibPaginationConfig\",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:\"First\",previousText:\"Previous\",nextText:\"Next\",lastText:\"Last\",rotate:!0,forceEllipses:!1}).directive(\"uibPagination\",[\"$parse\",\"uibPaginationConfig\",function(a,b){return{scope:{totalItems:\"=\",firstText:\"@\",previousText:\"@\",nextText:\"@\",lastText:\"@\",ngDisabled:\"=\"},require:[\"uibPagination\",\"?ngModel\"],restrict:\"A\",controller:\"UibPaginationController\",controllerAs:\"pagination\",templateUrl:function(a,b){return b.templateUrl||\"uib/template/pagination/pagination.html\"},link:function(a,c,d,e){c.addClass(\"pagination\");var f=e[0],g=e[1];g&&f.init(g,b)}}}]),angular.module(\"ui.bootstrap.tooltip\",[\"ui.bootstrap.position\",\"ui.bootstrap.stackedMap\"]).provider(\"$uibTooltip\",function(){function a(a){var b=/[A-Z]/g,c=\"-\";return a.replace(b,function(a,b){return(b?c:\"\")+a.toLowerCase()})}var b={placement:\"top\",placementClassPrefix:\"\",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:\"mouseleave\",click:\"click\",outsideClick:\"outsideClick\",focus:\"blur\",none:\"\"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=[\"$window\",\"$compile\",\"$timeout\",\"$document\",\"$uibPosition\",\"$interpolate\",\"$rootScope\",\"$parse\",\"$$stackedMap\",function(e,f,g,h,i,j,k,l,m){function n(a){if(27===a.which){var b=o.top();b&&(b.value.close(),b=null)}}var o=m.createNew();return h.on(\"keyup\",n),k.$on(\"$destroy\",function(){h.off(\"keyup\",n)}),function(e,k,m,n){function p(a){var b=(a||n.trigger||m).split(\" \"),d=b.map(function(a){return c[a]||a});return{show:b,hide:d}}n=angular.extend({},b,d,n);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t=\"<div \"+q+'-popup uib-title=\"'+r+\"title\"+s+'\" '+(n.useContentExp?'content-exp=\"contentExp()\" ':'content=\"'+r+\"content\"+s+'\" ')+'origin-scope=\"origScope\" class=\"uib-position-measure '+k+'\" tooltip-animation-class=\"fade\"uib-tooltip-classes ng-class=\"{ in: isOpen }\" ></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){P.isOpen?q():m()}function m(){O&&!a.$eval(d[k+\"Enable\"])||(u(),x(),P.popupDelay?H||(H=g(r,P.popupDelay,!1)):r())}function q(){s(),P.popupCloseDelay?I||(I=g(t,P.popupCloseDelay,!1)):t()}function r(){return s(),u(),P.content?(v(),void P.$evalAsync(function(){P.isOpen=!0,y(!0),U()})):angular.noop}function s(){H&&(g.cancel(H),H=null),J&&(g.cancel(J),J=null)}function t(){P&&P.$evalAsync(function(){P&&(P.isOpen=!1,y(!1),P.animation?G||(G=g(w,150,!1)):w())})}function u(){I&&(g.cancel(I),I=null),G&&(g.cancel(G),G=null)}function v(){E||(F=P.$new(),E=c(F,function(a){M?h.find(\"body\").append(a):b.after(a)}),o.add(P,{close:t}),z())}function w(){s(),u(),A(),E&&(E.remove(),E=null,K&&g.cancel(K)),o.remove(P),F&&(F.$destroy(),F=null)}function x(){P.title=d[k+\"Title\"],S?P.content=S(a):P.content=d[e],P.popupClass=d[k+\"Class\"],P.placement=angular.isDefined(d[k+\"Placement\"])?d[k+\"Placement\"]:n.placement;var b=i.parsePlacement(P.placement);L=b[1]?b[0]+\"-\"+b[1]:b[0];var c=parseInt(d[k+\"PopupDelay\"],10),f=parseInt(d[k+\"PopupCloseDelay\"],10);P.popupDelay=isNaN(c)?n.popupDelay:c,P.popupCloseDelay=isNaN(f)?n.popupCloseDelay:f}function y(b){R&&angular.isFunction(R.assign)&&R.assign(a,b)}function z(){T.length=0,S?(T.push(a.$watch(S,function(a){P.content=a,!a&&P.isOpen&&t()})),T.push(F.$watch(function(){Q||(Q=!0,F.$$postDigest(function(){Q=!1,P&&P.isOpen&&U()}))}))):T.push(d.$observe(e,function(a){P.content=a,!a&&P.isOpen?t():U()})),T.push(d.$observe(k+\"Title\",function(a){P.title=a,P.isOpen&&U()})),T.push(d.$observe(k+\"Placement\",function(a){P.placement=a?a:n.placement,P.isOpen&&U()}))}function A(){T.length&&(angular.forEach(T,function(a){a()}),T.length=0)}function B(a){P&&P.isOpen&&E&&(b[0].contains(a.target)||E[0].contains(a.target)||q())}function C(a){27===a.which&&q()}function D(){var c=[],e=[],f=a.$eval(d[k+\"Trigger\"]);V(),angular.isObject(f)?(Object.keys(f).forEach(function(a){c.push(a),e.push(f[a])}),N={show:c,hide:e}):N=p(f),\"none\"!==N.show&&N.show.forEach(function(a,c){\"outsideClick\"===a?(b.on(\"click\",j),h.on(\"click\",B)):a===N.hide[c]?b.on(a,j):a&&(b.on(a,m),b.on(N.hide[c],q)),b.on(\"keypress\",C)})}var E,F,G,H,I,J,K,L,M=angular.isDefined(n.appendToBody)?n.appendToBody:!1,N=p(void 0),O=angular.isDefined(d[k+\"Enable\"]),P=a.$new(!0),Q=!1,R=angular.isDefined(d[k+\"IsOpen\"])?l(d[k+\"IsOpen\"]):!1,S=n.useContentExp?l(d[e]):!1,T=[],U=function(){E&&E.html()&&(J||(J=g(function(){var a=i.positionElements(b,E,P.placement,M),c=angular.isDefined(E.offsetHeight)?E.offsetHeight:E.prop(\"offsetHeight\"),d=M?i.offset(b):i.position(b);E.css({top:a.top+\"px\",left:a.left+\"px\"});var e=a.placement.split(\"-\");E.hasClass(e[0])||(E.removeClass(L.split(\"-\")[0]),E.addClass(e[0])),E.hasClass(n.placementClassPrefix+a.placement)||(E.removeClass(n.placementClassPrefix+L),E.addClass(n.placementClassPrefix+a.placement)),K=g(function(){var a=angular.isDefined(E.offsetHeight)?E.offsetHeight:E.prop(\"offsetHeight\"),b=i.adjustTop(e,d,c,a);b&&E.css(b),K=null},0,!1),E.hasClass(\"uib-position-measure\")?(i.positionArrow(E,a.placement),E.removeClass(\"uib-position-measure\")):L!==a.placement&&i.positionArrow(E,a.placement),L=a.placement,J=null},0,!1)))};P.origScope=a,P.isOpen=!1,P.contentExp=function(){return P.content},d.$observe(\"disabled\",function(a){a&&s(),a&&P.isOpen&&t()}),R&&a.$watch(R,function(a){P&&!a===P.isOpen&&j()});var V=function(){N.show.forEach(function(a){\"outsideClick\"===a?b.off(\"click\",j):(b.off(a,m),b.off(a,j)),b.off(\"keypress\",C)}),N.hide.forEach(function(a){\"outsideClick\"===a?h.off(\"click\",B):b.off(a,q)})};D();var W=a.$eval(d[k+\"Animation\"]);P.animation=angular.isDefined(W)?!!W:n.animation;var X,Y=k+\"AppendToBody\";X=Y in d&&void 0===d[Y]?!0:a.$eval(d[Y]),M=angular.isDefined(X)?X:M,a.$on(\"$destroy\",function(){V(),w(),P=null})}}}}}]}).directive(\"uibTooltipTemplateTransclude\",[\"$animate\",\"$sce\",\"$compile\",\"$templateRequest\",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit(\"$includeContentLoaded\",b)}},function(){g===l&&(m(),e.$emit(\"$includeContentError\",b))}),e.$emit(\"$includeContentRequested\",b)):m()}),e.$on(\"$destroy\",m)}}}]).directive(\"uibTooltipClasses\",[\"$uibPosition\",function(a){return{restrict:\"A\",link:function(b,c,d){if(b.placement){var e=a.parsePlacement(b.placement);c.addClass(e[0])}b.popupClass&&c.addClass(b.popupClass),b.animation&&c.addClass(d.tooltipAnimationClass)}}}]).directive(\"uibTooltipPopup\",function(){return{restrict:\"A\",scope:{content:\"@\"},templateUrl:\"uib/template/tooltip/tooltip-popup.html\"}}).directive(\"uibTooltip\",[\"$uibTooltip\",function(a){return a(\"uibTooltip\",\"tooltip\",\"mouseenter\")}]).directive(\"uibTooltipTemplatePopup\",function(){return{restrict:\"A\",scope:{contentExp:\"&\",originScope:\"&\"},templateUrl:\"uib/template/tooltip/tooltip-template-popup.html\"}}).directive(\"uibTooltipTemplate\",[\"$uibTooltip\",function(a){return a(\"uibTooltipTemplate\",\"tooltip\",\"mouseenter\",{useContentExp:!0})}]).directive(\"uibTooltipHtmlPopup\",function(){return{restrict:\"A\",scope:{contentExp:\"&\"},templateUrl:\"uib/template/tooltip/tooltip-html-popup.html\"}}).directive(\"uibTooltipHtml\",[\"$uibTooltip\",function(a){return a(\"uibTooltipHtml\",\"tooltip\",\"mouseenter\",{useContentExp:!0})}]),angular.module(\"ui.bootstrap.popover\",[\"ui.bootstrap.tooltip\"]).directive(\"uibPopoverTemplatePopup\",function(){return{restrict:\"A\",scope:{uibTitle:\"@\",contentExp:\"&\",originScope:\"&\"},templateUrl:\"uib/template/popover/popover-template.html\"}}).directive(\"uibPopoverTemplate\",[\"$uibTooltip\",function(a){return a(\"uibPopoverTemplate\",\"popover\",\"click\",{useContentExp:!0})}]).directive(\"uibPopoverHtmlPopup\",function(){return{restrict:\"A\",scope:{contentExp:\"&\",uibTitle:\"@\"},templateUrl:\"uib/template/popover/popover-html.html\"}}).directive(\"uibPopoverHtml\",[\"$uibTooltip\",function(a){return a(\"uibPopoverHtml\",\"popover\",\"click\",{useContentExp:!0})}]).directive(\"uibPopoverPopup\",function(){return{restrict:\"A\",scope:{uibTitle:\"@\",content:\"@\"},templateUrl:\"uib/template/popover/popover.html\"}}).directive(\"uibPopover\",[\"$uibTooltip\",function(a){return a(\"uibPopover\",\"popover\",\"click\")}]),angular.module(\"ui.bootstrap.progressbar\",[]).constant(\"uibProgressConfig\",{animate:!0,max:100}).controller(\"UibProgressController\",[\"$scope\",\"$attrs\",\"uibProgressConfig\",function(a,b,c){function d(){return angular.isDefined(a.maxParam)?a.maxParam:c.max}var e=this,f=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=d(),this.addBar=function(a,b,c){f||b.css({transition:\"none\"}),this.bars.push(a),a.max=d(),a.title=c&&angular.isDefined(c.title)?c.title:\"progressbar\",a.$watch(\"value\",function(b){a.recalculatePercentage()}),a.recalculatePercentage=function(){var b=e.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);b>100&&(a.percent-=b-100)},a.$on(\"$destroy\",function(){b=null,e.removeBar(a)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch(\"maxParam\",function(a){e.bars.forEach(function(a){a.max=d(),a.recalculatePercentage()})})}]).directive(\"uibProgress\",function(){return{replace:!0,transclude:!0,controller:\"UibProgressController\",require:\"uibProgress\",scope:{maxParam:\"=?max\"},templateUrl:\"uib/template/progressbar/progress.html\"}}).directive(\"uibBar\",function(){return{replace:!0,transclude:!0,require:\"^uibProgress\",scope:{value:\"=\",type:\"@\"},templateUrl:\"uib/template/progressbar/bar.html\",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive(\"uibProgressbar\",function(){return{replace:!0,transclude:!0,controller:\"UibProgressController\",scope:{value:\"=\",maxParam:\"=?max\",type:\"@\"},templateUrl:\"uib/template/progressbar/progressbar.html\",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module(\"ui.bootstrap.rating\",[]).constant(\"uibRatingConfig\",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:[\"one\",\"two\",\"three\",\"four\",\"five\"]}).controller(\"UibRatingController\",[\"$scope\",\"$attrs\",\"uibRatingConfig\",function(a,b,c){var d={$setViewValue:angular.noop},e=this;this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff,this.enableReset=angular.isDefined(b.enableReset)?a.$parent.$eval(b.enableReset):c.enableReset;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){if(!a.readonly&&b>=0&&b<=a.range.length){var c=e.enableReset&&d.$viewValue===b?0:b;d.$setViewValue(c),d.$render()}},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue,a.title=e.getTitle(a.value-1)}}]).directive(\"uibRating\",function(){return{require:[\"uibRating\",\"ngModel\"],restrict:\"A\",scope:{readonly:\"=?readOnly\",onHover:\"&\",onLeave:\"&\"},controller:\"UibRatingController\",templateUrl:\"uib/template/rating/rating.html\",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module(\"ui.bootstrap.tabs\",[]).controller(\"UibTabsetController\",[\"$scope\",function(a){function b(a){for(var b=0;b<d.tabs.length;b++)if(d.tabs[b].index===a)return b}var c,d=this;d.tabs=[],d.select=function(a,f){if(!e){var g=b(c),h=d.tabs[g];if(h){if(h.tab.onDeselect({$event:f,$selectedIndex:a}),f&&f.isDefaultPrevented())return;h.tab.active=!1}var i=d.tabs[a];i?(i.tab.onSelect({$event:f}),i.tab.active=!0,d.active=i.index,c=i.index):!i&&angular.isDefined(c)&&(d.active=null,c=null)}},d.addTab=function(a){if(d.tabs.push({tab:a,index:a.index}),d.tabs.sort(function(a,b){return a.index>b.index?1:a.index<b.index?-1:0}),a.index===d.active||!angular.isDefined(d.active)&&1===d.tabs.length){var c=b(a.index);d.select(c)}},d.removeTab=function(a){for(var b,c=0;c<d.tabs.length;c++)if(d.tabs[c].tab===a){b=c;break}if(d.tabs[b].index===d.active){var e=b===d.tabs.length-1?b-1:b+1%d.tabs.length;d.select(e)}d.tabs.splice(b,1)},a.$watch(\"tabset.active\",function(a){angular.isDefined(a)&&a!==c&&d.select(b(a))});var e;a.$on(\"$destroy\",function(){e=!0})}]).directive(\"uibTabset\",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:\"=?\",type:\"@\"},controller:\"UibTabsetController\",controllerAs:\"tabset\",templateUrl:function(a,b){return b.templateUrl||\"uib/template/tabs/tabset.html\"},link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive(\"uibTab\",[\"$parse\",function(a){return{require:\"^uibTabset\",replace:!0,templateUrl:function(a,b){return b.templateUrl||\"uib/template/tabs/tab.html\"},transclude:!0,scope:{heading:\"@\",index:\"=?\",classes:\"@?\",onSelect:\"&select\",onDeselect:\"&deselect\"},controller:function(){},controllerAs:\"tab\",link:function(b,c,d,e,f){b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),angular.isUndefined(d.index)&&(e.tabs&&e.tabs.length?b.index=Math.max.apply(null,e.tabs.map(function(a){return a.index}))+1:b.index=0),angular.isUndefined(d.classes)&&(b.classes=\"\"),b.select=function(a){if(!b.disabled){for(var c,d=0;d<e.tabs.length;d++)if(e.tabs[d].tab===b){c=d;break}e.select(c,a)}},e.addTab(b),b.$on(\"$destroy\",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive(\"uibTabHeadingTransclude\",function(){return{restrict:\"A\",require:\"^uibTab\",link:function(a,b){a.$watch(\"headingElement\",function(a){a&&(b.html(\"\"),b.append(a))})}}}).directive(\"uibTabContentTransclude\",function(){function a(a){return a.tagName&&(a.hasAttribute(\"uib-tab-heading\")||a.hasAttribute(\"data-uib-tab-heading\")||a.hasAttribute(\"x-uib-tab-heading\")||\"uib-tab-heading\"===a.tagName.toLowerCase()||\"data-uib-tab-heading\"===a.tagName.toLowerCase()||\"x-uib-tab-heading\"===a.tagName.toLowerCase()||\"uib:tab-heading\"===a.tagName.toLowerCase())}return{restrict:\"A\",require:\"^uibTabset\",link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude).tab;e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module(\"ui.bootstrap.timepicker\",[]).constant(\"uibTimepickerConfig\",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:\"uib/template/timepicker/timepicker.html\"}).controller(\"UibTimepickerController\",[\"$scope\",\"$element\",\"$attrs\",\"$parse\",\"$log\",\"$locale\",\"uibTimepickerConfig\",function(a,b,c,d,e,f,g){function h(){var b=+a.hours,c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c&&\"\"!==a.hours?(a.showMeridian&&(12===b&&(b=0),a.meridian===y[1]&&(b+=12)),b):void 0}function i(){var b=+a.minutes,c=b>=0&&60>b;return c&&\"\"!==a.minutes?b:void 0}function j(){var b=+a.seconds;return b>=0&&60>b?b:void 0}function k(a,b){return null===a?\"\":angular.isDefined(a)&&a.toString().length<2&&!b?\"0\"+a:a.toString()}function l(a){m(),x.$setViewValue(new Date(v)),n(a)}function m(){s&&s.$setValidity(\"hours\",!0),t&&t.$setValidity(\"minutes\",!0),u&&u.$setValidity(\"seconds\",!0),x.$setValidity(\"time\",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function n(b){if(x.$modelValue){var c=v.getHours(),d=v.getMinutes(),e=v.getSeconds();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours=\"h\"===b?c:k(c,!z),\"m\"!==b&&(a.minutes=k(d)),a.meridian=v.getHours()<12?y[0]:y[1],\"s\"!==b&&(a.seconds=k(e)),a.meridian=v.getHours()<12?y[0]:y[1]}else a.hours=null,a.minutes=null,a.seconds=null,a.meridian=y[0]}function o(a){v=q(v,a),l()}function p(a,b){return q(a,60*b)}function q(a,b){var c=new Date(a.getTime()+1e3*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),d}function r(){return(null===a.hours||\"\"===a.hours)&&(null===a.minutes||\"\"===a.minutes)&&(!a.showSeconds||a.showSeconds&&(null===a.seconds||\"\"===a.seconds))}var s,t,u,v=new Date,w=[],x={$setViewValue:angular.noop},y=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS,z=angular.isDefined(c.padHours)?a.$parent.$eval(c.padHours):!0;a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr(\"tabindex\"),this.init=function(b,d){x=b,x.$render=this.render,x.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=d.eq(2);s=e.controller(\"ngModel\"),t=f.controller(\"ngModel\"),u=h.controller(\"ngModel\");var i=angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel;i&&this.setupMousewheelEvents(e,f,h);var j=angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys;j&&this.setupArrowkeyEvents(e,f,h),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f,h)};var A=g.hourStep;c.hourStep&&w.push(a.$parent.$watch(d(c.hourStep),function(a){A=+a}));var B=g.minuteStep;c.minuteStep&&w.push(a.$parent.$watch(d(c.minuteStep),function(a){B=+a}));var C;w.push(a.$parent.$watch(d(c.min),function(a){var b=new Date(a);C=isNaN(b)?void 0:b}));var D;w.push(a.$parent.$watch(d(c.max),function(a){var b=new Date(a);D=isNaN(b)?void 0:b}));var E=!1;c.ngDisabled&&w.push(a.$parent.$watch(d(c.ngDisabled),function(a){E=a})),a.noIncrementHours=function(){var a=p(v,60*A);return E||a>D||v>a&&C>a},a.noDecrementHours=function(){var a=p(v,60*-A);return E||C>a||a>v&&a>D},a.noIncrementMinutes=function(){var a=p(v,B);return E||a>D||v>a&&C>a},a.noDecrementMinutes=function(){var a=p(v,-B);return E||C>a||a>v&&a>D},a.noIncrementSeconds=function(){var a=q(v,F);return E||a>D||v>a&&C>a},a.noDecrementSeconds=function(){var a=q(v,-F);return E||C>a||a>v&&a>D},a.noToggleMeridian=function(){return v.getHours()<12?E||p(v,720)>D:E||p(v,-720)<C};var F=g.secondStep;c.secondStep&&w.push(a.$parent.$watch(d(c.secondStep),function(a){F=+a})),a.showSeconds=g.showSeconds,c.showSeconds&&w.push(a.$parent.$watch(d(c.showSeconds),function(b){a.showSeconds=!!b})),a.showMeridian=g.showMeridian,c.showMeridian&&w.push(a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,x.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(v.setHours(c),l())}else n()})),this.setupMousewheelEvents=function(b,c,d){var e=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.on(\"mousewheel wheel\",function(b){E||a.$apply(e(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.on(\"mousewheel wheel\",function(b){E||a.$apply(e(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()}),d.on(\"mousewheel wheel\",function(b){E||a.$apply(e(b)?a.incrementSeconds():a.decrementSeconds()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c,d){b.on(\"keydown\",function(b){E||(38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply()))}),c.on(\"keydown\",function(b){E||(38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply()))}),d.on(\"keydown\",function(b){E||(38===b.which?(b.preventDefault(),a.incrementSeconds(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementSeconds(),a.$apply()))})},this.setupInputEvents=function(b,c,d){if(a.readonlyInput)return a.updateHours=angular.noop,a.updateMinutes=angular.noop,void(a.updateSeconds=angular.noop);var e=function(b,c,d){x.$setViewValue(null),x.$setValidity(\"time\",!1),angular.isDefined(b)&&(a.invalidHours=b,s&&s.$setValidity(\"hours\",!1)),angular.isDefined(c)&&(a.invalidMinutes=c,t&&t.$setValidity(\"minutes\",!1)),angular.isDefined(d)&&(a.invalidSeconds=d,u&&u.$setValidity(\"seconds\",!1))};a.updateHours=function(){var a=h(),b=i();x.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(v.setHours(a),v.setMinutes(b),C>v||v>D?e(!0):l(\"h\")):e(!0)},b.on(\"blur\",function(b){x.$setTouched(),r()?m():null===a.hours||\"\"===a.hours?e(!0):!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=k(a.hours,!z)})}),a.updateMinutes=function(){var a=i(),b=h();x.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(v.setHours(b),v.setMinutes(a),C>v||v>D?e(void 0,!0):l(\"m\")):e(void 0,!0)},c.on(\"blur\",function(b){x.$setTouched(),r()?m():null===a.minutes?e(void 0,!0):!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=k(a.minutes)})}),a.updateSeconds=function(){var a=j();x.$setDirty(),angular.isDefined(a)?(v.setSeconds(a),l(\"s\")):e(void 0,void 0,!0)},d.on(\"blur\",function(b){r()?m():!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=k(a.seconds)})})},this.render=function(){var b=x.$viewValue;isNaN(b)?(x.$setValidity(\"time\",!1),e.error('Timepicker directive: \"ng-model\" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(v=b),C>v||v>D?(x.$setValidity(\"time\",!1),a.invalidHours=!0,a.invalidMinutes=!0):m(),n())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*A*60)},a.decrementHours=function(){a.noDecrementHours()||o(60*-A*60)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(60*B)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(60*-B)},a.incrementSeconds=function(){a.noIncrementSeconds()||o(F)},a.decrementSeconds=function(){a.noDecrementSeconds()||o(-F)},a.toggleMeridian=function(){var b=i(),c=h();a.noToggleMeridian()||(angular.isDefined(b)&&angular.isDefined(c)?o(720*(v.getHours()<12?60:-60)):a.meridian=a.meridian===y[0]?y[1]:y[0])},a.blur=function(){x.$setTouched()},a.$on(\"$destroy\",function(){for(;w.length;)w.shift()()})}]).directive(\"uibTimepicker\",[\"uibTimepickerConfig\",function(a){return{require:[\"uibTimepicker\",\"?^ngModel\"],restrict:\"A\",controller:\"UibTimepickerController\",controllerAs:\"timepicker\",scope:{},templateUrl:function(b,c){return c.templateUrl||a.templateUrl},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find(\"input\"))}}}]),angular.module(\"ui.bootstrap.typeahead\",[\"ui.bootstrap.debounce\",\"ui.bootstrap.position\"]).factory(\"uibTypeaheadParser\",[\"$parse\",function(a){var b=/^\\s*([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?\\s+for\\s+(?:([\\$\\w][\\$\\w\\d]*))\\s+in\\s+([\\s\\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of \"_modelValue_ (as _label_)? for _item_ in _collection_\" but got \"'+c+'\".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller(\"UibTypeaheadController\",[\"$scope\",\"$element\",\"$attrs\",\"$compile\",\"$parse\",\"$q\",\"$timeout\",\"$document\",\"$window\",\"$rootScope\",\"$$debounce\",\"$uibPosition\",\"uibTypeaheadParser\",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){P.moveInProgress||(P.moveInProgress=!0,P.$digest()),$()}function o(){P.position=F?l.offset(b):l.position(b),P.position.top+=b.prop(\"offsetHeight\")}function p(a){var b;return angular.version.minor<6?(b=a.$options||{},b.getOption=function(a){return b[a]}):b=a.$options,b}var q,r,s=[9,13,27,38,40],t=200,u=a.$eval(c.typeaheadMinLength);u||0===u||(u=1),a.$watch(c.typeaheadMinLength,function(a){u=a||0===a?a:1});var v=a.$eval(c.typeaheadWaitMs)||0,w=a.$eval(c.typeaheadEditable)!==!1;a.$watch(c.typeaheadEditable,function(a){w=a!==!1});var x,y,z=e(c.typeaheadLoading).assign||angular.noop,A=c.typeaheadShouldSelect?e(c.typeaheadShouldSelect):function(a,b){var c=b.$event;return 13===c.which||9===c.which},B=e(c.typeaheadOnSelect),C=angular.isDefined(c.typeaheadSelectOnBlur)?a.$eval(c.typeaheadSelectOnBlur):!1,D=e(c.typeaheadNoResults).assign||angular.noop,E=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,F=c.typeaheadAppendToBody?a.$eval(c.typeaheadAppendToBody):!1,G=c.typeaheadAppendTo?a.$eval(c.typeaheadAppendTo):null,H=a.$eval(c.typeaheadFocusFirst)!==!1,I=c.typeaheadSelectOnExact?a.$eval(c.typeaheadSelectOnExact):!1,J=e(c.typeaheadIsOpen).assign||angular.noop,K=a.$eval(c.typeaheadShowHint)||!1,L=e(c.ngModel),M=e(c.ngModel+\"($$$p)\"),N=function(b,c){return angular.isFunction(L(a))&&r.getOption(\"getterSetter\")?M(b,{$$$p:c}):L.assign(b,c)},O=m.parse(c.uibTypeahead),P=a.$new(),Q=a.$on(\"$destroy\",function(){P.$destroy()});P.$on(\"$destroy\",Q);var R=\"typeahead-\"+P.$id+\"-\"+Math.floor(1e4*Math.random());b.attr({\"aria-autocomplete\":\"list\",\"aria-expanded\":!1,\"aria-owns\":R});var S,T;K&&(S=angular.element(\"<div></div>\"),S.css(\"position\",\"relative\"),b.after(S),T=b.clone(),T.attr(\"placeholder\",\"\"),T.attr(\"tabindex\",\"-1\"),T.val(\"\"),T.css({position:\"absolute\",top:\"0px\",left:\"0px\",\"border-color\":\"transparent\",\"box-shadow\":\"none\",opacity:1,background:\"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)\",color:\"#999\"}),b.css({position:\"relative\",\"vertical-align\":\"top\",\"background-color\":\"transparent\"}),T.attr(\"id\")&&T.removeAttr(\"id\"),S.append(T),T.after(b));var U=angular.element(\"<div uib-typeahead-popup></div>\");U.attr({id:R,matches:\"matches\",active:\"activeIdx\",select:\"select(activeIdx, evt)\",\"move-in-progress\":\"moveInProgress\",query:\"query\",position:\"position\",\"assign-is-open\":\"assignIsOpen(isOpen)\",debounce:\"debounceUpdate\"}),angular.isDefined(c.typeaheadTemplateUrl)&&U.attr(\"template-url\",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&U.attr(\"popup-template-url\",c.typeaheadPopupTemplateUrl);var V=function(){K&&T.val(\"\")},W=function(){P.matches=[],P.activeIdx=-1,b.attr(\"aria-expanded\",!1),V()},X=function(a){return R+\"-option-\"+a};P.$watch(\"activeIdx\",function(a){0>a?b.removeAttr(\"aria-activedescendant\"):b.attr(\"aria-activedescendant\",X(a))});var Y=function(a,b){return P.matches.length>b&&a?a.toUpperCase()===P.matches[b].label.toUpperCase():!1},Z=function(c,d){var e={$viewValue:c};z(a,!0),D(a,!1),f.when(O.source(a,e)).then(function(f){var g=c===q.$viewValue;if(g&&x)if(f&&f.length>0){P.activeIdx=H?0:-1,D(a,!1),P.matches.length=0;for(var h=0;h<f.length;h++)e[O.itemName]=f[h],P.matches.push({id:X(h),label:O.viewMapper(P,e),model:f[h]});if(P.query=c,o(),b.attr(\"aria-expanded\",!0),I&&1===P.matches.length&&Y(c,0)&&(angular.isNumber(P.debounceUpdate)||angular.isObject(P.debounceUpdate)?k(function(){P.select(0,d)},angular.isNumber(P.debounceUpdate)?P.debounceUpdate:P.debounceUpdate[\"default\"]):P.select(0,d)),K){var i=P.matches[0].label;angular.isString(c)&&c.length>0&&i.slice(0,c.length).toUpperCase()===c.toUpperCase()?T.val(c+i.slice(c.length)):T.val(\"\")}}else W(),D(a,!0);g&&z(a,!1)},function(){W(),z(a,!1),D(a,!0)})};F&&(angular.element(i).on(\"resize\",n),h.find(\"body\").on(\"scroll\",n));var $=k(function(){P.matches.length&&o(),P.moveInProgress=!1},t);P.moveInProgress=!1,P.query=void 0;var _,aa=function(a){_=g(function(){Z(a)},v)},ba=function(){_&&g.cancel(_)};W(),P.assignIsOpen=function(b){J(a,b)},P.select=function(d,e){var f,h,i={};y=!0,i[O.itemName]=h=P.matches[d].model,f=O.modelMapper(a,i),N(a,f),q.$setValidity(\"editable\",!0),q.$setValidity(\"parse\",!0),B(a,{$item:h,$model:f,$label:O.viewMapper(a,i),$event:e}),W(),P.$eval(c.typeaheadFocusOnSelect)!==!1&&g(function(){b[0].focus()},0,!1)},b.on(\"keydown\",function(b){if(0!==P.matches.length&&-1!==s.indexOf(b.which)){var c=A(a,{$event:b});if(-1===P.activeIdx&&c||9===b.which&&b.shiftKey)return W(),void P.$digest();b.preventDefault();var d;switch(b.which){case 27:b.stopPropagation(),W(),a.$digest();break;case 38:P.activeIdx=(P.activeIdx>0?P.activeIdx:P.matches.length)-1,P.$digest(),d=U[0].querySelectorAll(\".uib-typeahead-match\")[P.activeIdx],d.parentNode.scrollTop=d.offsetTop;break;case 40:P.activeIdx=(P.activeIdx+1)%P.matches.length,P.$digest(),d=U[0].querySelectorAll(\".uib-typeahead-match\")[P.activeIdx],\nd.parentNode.scrollTop=d.offsetTop;break;default:c&&P.$apply(function(){angular.isNumber(P.debounceUpdate)||angular.isObject(P.debounceUpdate)?k(function(){P.select(P.activeIdx,b)},angular.isNumber(P.debounceUpdate)?P.debounceUpdate:P.debounceUpdate[\"default\"]):P.select(P.activeIdx,b)})}}}),b.on(\"focus\",function(a){x=!0,0!==u||q.$viewValue||g(function(){Z(q.$viewValue,a)},0)}),b.on(\"blur\",function(a){C&&P.matches.length&&-1!==P.activeIdx&&!y&&(y=!0,P.$apply(function(){angular.isObject(P.debounceUpdate)&&angular.isNumber(P.debounceUpdate.blur)?k(function(){P.select(P.activeIdx,a)},P.debounceUpdate.blur):P.select(P.activeIdx,a)})),!w&&q.$error.editable&&(q.$setViewValue(),P.$apply(function(){q.$setValidity(\"editable\",!0),q.$setValidity(\"parse\",!0)}),b.val(\"\")),x=!1,y=!1});var ca=function(c){b[0]!==c.target&&3!==c.which&&0!==P.matches.length&&(W(),j.$$phase||a.$digest())};h.on(\"click\",ca),a.$on(\"$destroy\",function(){h.off(\"click\",ca),(F||G)&&da.remove(),F&&(angular.element(i).off(\"resize\",n),h.find(\"body\").off(\"scroll\",n)),U.remove(),K&&S.remove()});var da=d(U)(P);F?h.find(\"body\").append(da):G?angular.element(G).eq(0).append(da):b.after(da),this.init=function(b){q=b,r=p(q),P.debounceUpdate=e(r.getOption(\"debounce\"))(a),q.$parsers.unshift(function(b){return x=!0,0===u||b&&b.length>=u?v>0?(ba(),aa(b)):Z(b):(z(a,!1),ba(),W()),w?b:b?void q.$setValidity(\"editable\",!1):(q.$setValidity(\"editable\",!0),null)}),q.$formatters.push(function(b){var c,d,e={};return w||q.$setValidity(\"editable\",!0),E?(e.$model=b,E(a,e)):(e[O.itemName]=b,c=O.viewMapper(a,e),e[O.itemName]=void 0,d=O.viewMapper(a,e),c!==d?c:b)})}}]).directive(\"uibTypeahead\",function(){return{controller:\"UibTypeaheadController\",require:[\"ngModel\",\"uibTypeahead\"],link:function(a,b,c,d){d[1].init(d[0])}}}).directive(\"uibTypeaheadPopup\",[\"$$debounce\",function(a){return{scope:{matches:\"=\",query:\"=\",active:\"=\",position:\"&\",moveInProgress:\"=\",select:\"&\",assignIsOpen:\"&\",debounce:\"&\"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||\"uib/template/typeahead/typeahead-popup.html\"},link:function(b,c,d){b.templateUrl=d.templateUrl,b.isOpen=function(){var a=b.matches.length>0;return b.assignIsOpen({isOpen:a}),a},b.isActive=function(a){return b.active===a},b.selectActive=function(a){b.active=a},b.selectMatch=function(c,d){var e=b.debounce();angular.isNumber(e)||angular.isObject(e)?a(function(){b.select({activeIdx:c,evt:d})},angular.isNumber(e)?e:e[\"default\"]):b.select({activeIdx:c,evt:d})}}}}]).directive(\"uibTypeaheadMatch\",[\"$templateRequest\",\"$compile\",\"$parse\",function(a,b,c){return{scope:{index:\"=\",match:\"=\",query:\"=\"},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||\"uib/template/typeahead/typeahead-match.html\";a(g).then(function(a){var c=angular.element(a.trim());e.replaceWith(c),b(c)(d)})}}}]).filter(\"uibTypeaheadHighlight\",[\"$sce\",\"$injector\",\"$log\",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\\]\\\\(){}|-])/g,\"\\\\$1\")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has(\"$sanitize\"),function(b,g){return!f&&e(b)&&c.warn(\"Unsafe use of typeahead please use ngSanitize\"),b=g?(\"\"+b).replace(new RegExp(d(g),\"gi\"),\"<strong>$&</strong>\"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module(\"uib/template/accordion/accordion-group.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/accordion/accordion-group.html\",'<div role=\"tab\" id=\"{{::headingId}}\" aria-selected=\"{{isOpen}}\" class=\"mgz-tab-panel-heading\" ng-keypress=\"toggleOpen($event)\">\\n  <h4 class=\"mgz-tab-panel-title\">\\n    <a role=\"button\" data-toggle=\"collapse\" href aria-expanded=\"{{isOpen}}\" aria-controls=\"{{::panelId}}\" tabindex=\"0\" class=\"accordion-toggle\" ng-click=\"toggleOpen()\" uib-accordion-transclude=\"heading\" ng-disabled=\"isDisabled\" uib-tabindex-toggle><span uib-accordion-header ng-class=\"{\\'text-muted\\': isDisabled}\">{{heading}}</span></a>\\n  </h4>\\n</div>\\n<div id=\"{{::panelId}}\" aria-labelledby=\"{{::headingId}}\" aria-hidden=\"{{!isOpen}}\" role=\"tabpanel\" class=\"mgz-tab-panel-collapse collapse\" uib-collapse=\"!isOpen\">\\n  <div class=\"mgz-tab-panel-body\" ng-transclude></div>\\n</div>\\n')}]),angular.module(\"uib/template/accordion/accordion.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/accordion/accordion.html\",'<div role=\"tablist\" class=\"panel-group\" ng-transclude></div>')}]),angular.module(\"uib/template/alert/alert.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/alert/alert.html\",'<button ng-show=\"closeable\" type=\"button\" class=\"close\" ng-click=\"close({$event: $event})\">\\n  <span aria-hidden=\"true\">&times;</span>\\n  <span class=\"sr-only\">Close</span>\\n</button>\\n<div ng-transclude></div>\\n')}]),angular.module(\"uib/template/carousel/carousel.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/carousel/carousel.html\",'<div class=\"carousel-inner\" ng-transclude></div>\\n<a role=\"button\" href class=\"left carousel-control\" ng-click=\"prev()\" ng-class=\"{ disabled: isPrevDisabled() }\" ng-show=\"slides.length > 1\">\\n  <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></span>\\n  <span class=\"sr-only\">previous</span>\\n</a>\\n<a role=\"button\" href class=\"right carousel-control\" ng-click=\"next()\" ng-class=\"{ disabled: isNextDisabled() }\" ng-show=\"slides.length > 1\">\\n  <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></span>\\n  <span class=\"sr-only\">next</span>\\n</a>\\n<ol class=\"carousel-indicators\" ng-show=\"slides.length > 1\">\\n  <li ng-repeat=\"slide in slides | orderBy:indexOfSlide track by $index\" ng-class=\"{ active: isActive(slide) }\" ng-click=\"select(slide)\">\\n    <span class=\"sr-only\">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if=\"isActive(slide)\">, currently active</span></span>\\n  </li>\\n</ol>\\n')}]),angular.module(\"uib/template/carousel/slide.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/carousel/slide.html\",'<div class=\"text-center\" ng-transclude></div>\\n')}]),angular.module(\"uib/template/datepicker/datepicker.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/datepicker/datepicker.html\",'<div ng-switch=\"datepickerMode\">\\n  <div uib-daypicker ng-switch-when=\"day\" tabindex=\"0\" class=\"uib-daypicker\"></div>\\n  <div uib-monthpicker ng-switch-when=\"month\" tabindex=\"0\" class=\"uib-monthpicker\"></div>\\n  <div uib-yearpicker ng-switch-when=\"year\" tabindex=\"0\" class=\"uib-yearpicker\"></div>\\n</div>\\n')}]),angular.module(\"uib/template/datepicker/day.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/datepicker/day.html\",'<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\\n  <thead>\\n    <tr>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></i><span class=\"sr-only\">previous</span></button></th>\\n      <th colspan=\"{{::5 + showWeeks}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></i><span class=\"sr-only\">next</span></button></th>\\n    </tr>\\n    <tr>\\n      <th ng-if=\"showWeeks\" class=\"text-center\"></th>\\n      <th ng-repeat=\"label in ::labels track by $index\" class=\"text-center\"><small aria-label=\"{{::label.full}}\">{{::label.abbr}}</small></th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr class=\"uib-weeks\" ng-repeat=\"row in rows track by $index\" role=\"row\">\\n      <td ng-if=\"showWeeks\" class=\"text-center h6\"><em>{{ weekNumbers[$index] }}</em></td>\\n      <td ng-repeat=\"dt in row\" class=\"uib-day text-center\" role=\"gridcell\"\\n        id=\"{{::dt.uid}}\"\\n        ng-class=\"::dt.customClass\">\\n        <button type=\"button\" class=\"btn btn-default btn-sm\"\\n          uib-is-class=\"\\n            \\'btn-info\\' for selectedDt,\\n            \\'active\\' for activeDt\\n            on dt\"\\n          ng-click=\"select(dt.date)\"\\n          ng-disabled=\"::dt.disabled\"\\n          tabindex=\"-1\"><span ng-class=\"::{\\'text-muted\\': dt.secondary, \\'text-info\\': dt.current}\">{{::dt.label}}</span></button>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),angular.module(\"uib/template/datepicker/month.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/datepicker/month.html\",'<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\\n  <thead>\\n    <tr>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></i><span class=\"sr-only\">previous</span></button></th>\\n      <th colspan=\"{{::yearHeaderColspan}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></i><span class=\"sr-only\">next</span></i></button></th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr class=\"uib-months\" ng-repeat=\"row in rows track by $index\" role=\"row\">\\n      <td ng-repeat=\"dt in row\" class=\"uib-month text-center\" role=\"gridcell\"\\n        id=\"{{::dt.uid}}\"\\n        ng-class=\"::dt.customClass\">\\n        <button type=\"button\" class=\"btn btn-default\"\\n          uib-is-class=\"\\n            \\'btn-info\\' for selectedDt,\\n            \\'active\\' for activeDt\\n            on dt\"\\n          ng-click=\"select(dt.date)\"\\n          ng-disabled=\"::dt.disabled\"\\n          tabindex=\"-1\"><span ng-class=\"::{\\'text-info\\': dt.current}\">{{::dt.label}}</span></button>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),angular.module(\"uib/template/datepicker/year.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/datepicker/year.html\",'<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\\n  <thead>\\n    <tr>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></i><span class=\"sr-only\">previous</span></button></th>\\n      <th colspan=\"{{::columns - 2}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></i><span class=\"sr-only\">next</span></button></th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr class=\"uib-years\" ng-repeat=\"row in rows track by $index\" role=\"row\">\\n      <td ng-repeat=\"dt in row\" class=\"uib-year text-center\" role=\"gridcell\"\\n        id=\"{{::dt.uid}}\"\\n        ng-class=\"::dt.customClass\">\\n        <button type=\"button\" class=\"btn btn-default\"\\n          uib-is-class=\"\\n            \\'btn-info\\' for selectedDt,\\n            \\'active\\' for activeDt\\n            on dt\"\\n          ng-click=\"select(dt.date)\"\\n          ng-disabled=\"::dt.disabled\"\\n          tabindex=\"-1\"><span ng-class=\"::{\\'text-info\\': dt.current}\">{{::dt.label}}</span></button>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),angular.module(\"uib/template/datepickerPopup/popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/datepickerPopup/popup.html\",'<ul role=\"presentation\" class=\"uib-datepicker-popup dropdown-menu uib-position-measure\" dropdown-nested ng-if=\"isOpen\" ng-keydown=\"keydown($event)\" ng-click=\"$event.stopPropagation()\">\\n  <li ng-transclude></li>\\n  <li ng-if=\"showButtonBar\" class=\"uib-button-bar\">\\n    <span class=\"btn-group pull-left\">\\n      <button type=\"button\" class=\"btn btn-sm btn-info uib-datepicker-current\" ng-click=\"select(\\'today\\', $event)\" ng-disabled=\"isDisabled(\\'today\\')\">{{ getText(\\'current\\') }}</button>\\n      <button type=\"button\" class=\"btn btn-sm btn-danger uib-clear\" ng-click=\"select(null, $event)\">{{ getText(\\'clear\\') }}</button>\\n    </span>\\n    <button type=\"button\" class=\"btn btn-sm btn-success pull-right uib-close\" ng-click=\"close($event)\">{{ getText(\\'close\\') }}</button>\\n  </li>\\n</ul>\\n')}]),angular.module(\"uib/template/modal/window.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/modal/window.html\",\"<div class=\\\"modal-dialog {{size ? 'modal-' + size : ''}}\\\"><div class=\\\"modal-content\\\" uib-modal-transclude></div></div>\\n\")}]),angular.module(\"uib/template/pager/pager.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/pager/pager.html\",'<li ng-class=\"{disabled: noPrevious()||ngDisabled, previous: align}\"><a href ng-click=\"selectPage(page - 1, $event)\" ng-disabled=\"noPrevious()||ngDisabled\" uib-tabindex-toggle>{{::getText(\\'previous\\')}}</a></li>\\n<li ng-class=\"{disabled: noNext()||ngDisabled, next: align}\"><a href ng-click=\"selectPage(page + 1, $event)\" ng-disabled=\"noNext()||ngDisabled\" uib-tabindex-toggle>{{::getText(\\'next\\')}}</a></li>\\n')}]),angular.module(\"uib/template/pagination/pagination.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/pagination/pagination.html\",'<li role=\"menuitem\" ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-first\"><a href ng-click=\"selectPage(1, $event)\" ng-disabled=\"noPrevious()||ngDisabled\" uib-tabindex-toggle>{{::getText(\\'first\\')}}</a></li>\\n<li role=\"menuitem\" ng-if=\"::directionLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-prev\"><a href ng-click=\"selectPage(page - 1, $event)\" ng-disabled=\"noPrevious()||ngDisabled\" uib-tabindex-toggle>{{::getText(\\'previous\\')}}</a></li>\\n<li role=\"menuitem\" ng-repeat=\"page in pages track by $index\" ng-class=\"{active: page.active,disabled: ngDisabled&&!page.active}\" class=\"pagination-page\"><a href ng-click=\"selectPage(page.number, $event)\" ng-disabled=\"ngDisabled&&!page.active\" uib-tabindex-toggle>{{page.text}}</a></li>\\n<li role=\"menuitem\" ng-if=\"::directionLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-next\"><a href ng-click=\"selectPage(page + 1, $event)\" ng-disabled=\"noNext()||ngDisabled\" uib-tabindex-toggle>{{::getText(\\'next\\')}}</a></li>\\n<li role=\"menuitem\" ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-last\"><a href ng-click=\"selectPage(totalPages, $event)\" ng-disabled=\"noNext()||ngDisabled\" uib-tabindex-toggle>{{::getText(\\'last\\')}}</a></li>\\n')}]),angular.module(\"uib/template/tooltip/tooltip-html-popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/tooltip/tooltip-html-popup.html\",'<div class=\"tooltip-arrow\"></div>\\n<div class=\"tooltip-inner\" ng-bind-html=\"contentExp()\"></div>\\n')}]),angular.module(\"uib/template/tooltip/tooltip-popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/tooltip/tooltip-popup.html\",'<div class=\"tooltip-arrow\"></div>\\n<div class=\"tooltip-inner\" ng-bind=\"content\"></div>\\n')}]),angular.module(\"uib/template/tooltip/tooltip-template-popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/tooltip/tooltip-template-popup.html\",'<div class=\"tooltip-arrow\"></div>\\n<div class=\"tooltip-inner\"\\n  uib-tooltip-template-transclude=\"contentExp()\"\\n  tooltip-template-transclude-scope=\"originScope()\"></div>\\n')}]),angular.module(\"uib/template/popover/popover-html.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/popover/popover-html.html\",'<div class=\"arrow\"></div>\\n\\n<div class=\"popover-inner\">\\n    <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\\n    <div class=\"popover-content\" ng-bind-html=\"contentExp()\"></div>\\n</div>\\n')}]),angular.module(\"uib/template/popover/popover-template.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/popover/popover-template.html\",'<div class=\"arrow\"></div>\\n\\n<div class=\"popover-inner\">\\n    <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\\n    <div class=\"popover-content\"\\n      uib-tooltip-template-transclude=\"contentExp()\"\\n      tooltip-template-transclude-scope=\"originScope()\"></div>\\n</div>\\n')}]),angular.module(\"uib/template/popover/popover.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/popover/popover.html\",'<div class=\"arrow\"></div>\\n\\n<div class=\"popover-inner\">\\n    <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\\n    <div class=\"popover-content\" ng-bind=\"content\"></div>\\n</div>\\n')}]),angular.module(\"uib/template/progressbar/bar.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/progressbar/bar.html\",'<div class=\"progress-bar\" ng-class=\"type && \\'progress-bar-\\' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + \\'%\\'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" ng-transclude></div>\\n')}]),angular.module(\"uib/template/progressbar/progress.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/progressbar/progress.html\",'<div class=\"progress\" ng-transclude aria-labelledby=\"{{::title}}\"></div>')}]),angular.module(\"uib/template/progressbar/progressbar.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/progressbar/progressbar.html\",'<div class=\"progress\">\\n  <div class=\"progress-bar\" ng-class=\"type && \\'progress-bar-\\' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + \\'%\\'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" ng-transclude></div>\\n</div>\\n')}]),angular.module(\"uib/template/rating/rating.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/rating/rating.html\",'<span ng-mouseleave=\"reset()\" ng-keydown=\"onKeydown($event)\" tabindex=\"0\" role=\"slider\" aria-valuemin=\"0\" aria-valuemax=\"{{range.length}}\" aria-valuenow=\"{{value}}\" aria-valuetext=\"{{title}}\">\\n    <span ng-repeat-start=\"r in range track by $index\" class=\"sr-only\">({{ $index < value ? \\'*\\' : \\' \\' }})</span>\\n    <i ng-repeat-end ng-mouseenter=\"enter($index + 1)\" ng-click=\"rate($index + 1)\" class=\"glyphicon\" ng-class=\"$index < value && (r.stateOn || \\'glyphicon-star\\') || (r.stateOff || \\'glyphicon-star-empty\\')\" ng-attr-title=\"{{r.title}}\"></i>\\n</span>\\n')}]),angular.module(\"uib/template/tabs/tab.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/tabs/tab.html\",'<li ng-class=\"[{active: active, disabled: disabled}, classes]\" class=\"uib-tab nav-item\">\\n  <a href ng-click=\"select($event)\" class=\"nav-link\" uib-tab-heading-transclude>{{heading}}</a>\\n</li>\\n')}]),angular.module(\"uib/template/tabs/tabset.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/tabs/tabset.html\",'<div>\\n  <ul class=\"nav nav-{{tabset.type || \\'tabs\\'}}\" ng-class=\"{\\'nav-stacked\\': vertical, \\'nav-justified\\': justified}\" ng-transclude></ul>\\n  <div class=\"tab-content\">\\n    <div class=\"tab-pane\"\\n         ng-repeat=\"tab in tabset.tabs\"\\n         ng-class=\"{active: tabset.active === tab.index}\"\\n         uib-tab-content-transclude=\"tab\">\\n    </div>\\n  </div>\\n</div>\\n')}]),angular.module(\"uib/template/timepicker/timepicker.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/timepicker/timepicker.html\",'<table class=\"uib-timepicker\">\\n  <tbody>\\n    <tr class=\"text-center\" ng-show=\"::showSpinners\">\\n      <td class=\"uib-increment hours\"><a ng-click=\"incrementHours()\" ng-class=\"{disabled: noIncrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementHours()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\\n      <td>&nbsp;</td>\\n      <td class=\"uib-increment minutes\"><a ng-click=\"incrementMinutes()\" ng-class=\"{disabled: noIncrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementMinutes()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\\n      <td ng-show=\"showSeconds\">&nbsp;</td>\\n      <td ng-show=\"showSeconds\" class=\"uib-increment seconds\"><a ng-click=\"incrementSeconds()\" ng-class=\"{disabled: noIncrementSeconds()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementSeconds()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\\n      <td ng-show=\"showMeridian\"></td>\\n    </tr>\\n    <tr>\\n      <td class=\"form-group uib-time hours\" ng-class=\"{\\'has-error\\': invalidHours}\">\\n        <input type=\"text\" placeholder=\"HH\" ng-model=\"hours\" ng-change=\"updateHours()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementHours()\" ng-blur=\"blur()\">\\n      </td>\\n      <td class=\"uib-separator\">:</td>\\n      <td class=\"form-group uib-time minutes\" ng-class=\"{\\'has-error\\': invalidMinutes}\">\\n        <input type=\"text\" placeholder=\"MM\" ng-model=\"minutes\" ng-change=\"updateMinutes()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementMinutes()\" ng-blur=\"blur()\">\\n      </td>\\n      <td ng-show=\"showSeconds\" class=\"uib-separator\">:</td>\\n      <td class=\"form-group uib-time seconds\" ng-class=\"{\\'has-error\\': invalidSeconds}\" ng-show=\"showSeconds\">\\n        <input type=\"text\" placeholder=\"SS\" ng-model=\"seconds\" ng-change=\"updateSeconds()\" class=\"form-control text-center\" ng-readonly=\"readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementSeconds()\" ng-blur=\"blur()\">\\n      </td>\\n      <td ng-show=\"showMeridian\" class=\"uib-time am-pm\"><button type=\"button\" ng-class=\"{disabled: noToggleMeridian()}\" class=\"btn btn-default text-center\" ng-click=\"toggleMeridian()\" ng-disabled=\"noToggleMeridian()\" tabindex=\"{{::tabindex}}\">{{meridian}}</button></td>\\n    </tr>\\n    <tr class=\"text-center\" ng-show=\"::showSpinners\">\\n      <td class=\"uib-decrement hours\"><a ng-click=\"decrementHours()\" ng-class=\"{disabled: noDecrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementHours()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\\n      <td>&nbsp;</td>\\n      <td class=\"uib-decrement minutes\"><a ng-click=\"decrementMinutes()\" ng-class=\"{disabled: noDecrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementMinutes()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\\n      <td ng-show=\"showSeconds\">&nbsp;</td>\\n      <td ng-show=\"showSeconds\" class=\"uib-decrement seconds\"><a ng-click=\"decrementSeconds()\" ng-class=\"{disabled: noDecrementSeconds()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementSeconds()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\\n      <td ng-show=\"showMeridian\"></td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),angular.module(\"uib/template/typeahead/typeahead-match.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/typeahead/typeahead-match.html\",'<a href\\n   tabindex=\"-1\"\\n   ng-bind-html=\"match.label | uibTypeaheadHighlight:query\"\\n   ng-attr-title=\"{{match.label}}\"></a>\\n')}]),angular.module(\"uib/template/typeahead/typeahead-popup.html\",[]).run([\"$templateCache\",function(a){a.put(\"uib/template/typeahead/typeahead-popup.html\",'<ul class=\"dropdown-menu\" ng-show=\"isOpen() && !moveInProgress\" ng-style=\"{top: position().top+\\'px\\', left: position().left+\\'px\\'}\" role=\"listbox\" aria-hidden=\"{{!isOpen()}}\">\\n    <li class=\"uib-typeahead-match\" ng-repeat=\"match in matches track by $index\" ng-class=\"{active: isActive($index) }\" ng-mouseenter=\"selectActive($index)\" ng-click=\"selectMatch($index, $event)\" role=\"option\" id=\"{{::match.id}}\">\\n        <div uib-typeahead-match index=\"$index\" match=\"match\" query=\"query\" template-url=\"templateUrl\"></div>\\n    </li>\\n</ul>\\n')}]),angular.module(\"ui.bootstrap.carousel\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module(\"ui.bootstrap.datepicker\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module(\"ui.bootstrap.position\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module(\"ui.bootstrap.datepickerPopup\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module(\"ui.bootstrap.tooltip\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module(\"ui.bootstrap.timepicker\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module(\"ui.bootstrap.typeahead\").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find(\"head\").prepend('<style type=\"text/css\">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0});","Magezon_Builder/js/builder.js":"define([\n\t'angular',\n\t'formly',\n\t'Magezon_Builder/js/factories/config',\n\t'Magezon_Builder/js/services/magezonBuilder',\n\t'Magezon_Builder/js/services/url',\n\t'Magezon_Builder/js/services/modal',\n\t'Magezon_Builder/js/services/element',\n\t'Magezon_Builder/js/services/profile',\n\t'Magezon_Builder/js/services/form',\n\t'Magezon_Builder/js/services/editor',\n\t'Magezon_Builder/js/services/filter',\n\t'Magezon_Builder/js/services/history',\n\t'Magezon_Builder/js/controllers/base',\n\t'Magezon_Builder/js/controllers/list',\n\t'Magezon_Builder/js/controllers/modal',\n\t'Magezon_Builder/js/controllers/toolbar',\n\t'Magezon_Builder/js/directives/magezonBuilder',\n\t'Magezon_Builder/js/directives/modalElement',\n\t'Magezon_Builder/js/directives/resizable',\n\t'Magezon_Builder/js/directives/builderDirectiveList',\n\t'Magezon_Builder/js/builder/element/profile',\n\t'Magezon_Builder/js/directives/navigator',\n\t'Magezon_Builder/js/directives/elementIcon',\n\t'Magezon_Builder/js/directives/navigatorProfile',\n\t'Magezon_Builder/js/modules/contentEditable',\n\t'Magezon_Builder/js/modules/inlineEditor',\n\t'Magezon_Builder/js/modules/afterRender',\n\t'Magezon_Builder/js/directives/colorPicker',\n\t'Magezon_Builder/js/directives/elementActions',\n\t'Magezon_Builder/js/directives/elementResizable',\n\t'Magezon_Builder/js/directives/tooltip',\n\t'uiBootstrap',\n\t'dndLists',\n\t'angularSanitize',\n\t'dynamicDirective',\n\t'uiCodemirror',\n\t'uiSelect',\n\t'outsideClickDirective',\n\t'ngStats'\n], function(\n\tangular,\n\tformly,\n\tconfigProvider,\n\tmagezonBuilderSer,\n\tmagezonBuilderUrlSer,\n\tmagezonBuilderModalSer,\n\telementManagerSer,\n\tprofileManagerSer,\n\tformSer,\n\teditorSer,\n\tfilterSer,\n\thistorySer,\n\tbaseController,\n\tlistController,\n\tmodalBaseControllerCtrl,\n\ttoolbarControllerCtrl,\n\tmagezonBuilderDir,\n\tmodalElementDir,\n\tresizableDir,\n\tbuilderDirectiveListDir,\n\tprofileDir,\n\tnavigatorDir,\n\telementIconDir,\n\tnavigatorProfileDir,\n\tcontentEditableDir,\n\tinlineEditorDir,\n\tafterRender,\n\tcolorPicker,\n\telementActions,\n\telementResizable,\n\ttooltipDir\n) {\n\tvar builder = angular.module('magezonBuilder', ['formly', 'dndLists', 'ui.bootstrap', 'ngSanitize', 'dynamicDirective', 'ui.codemirror', 'ui.select', 'ngOutsideClick', 'angularStats']);\n\n\tbuilder.config(function($sceDelegateProvider) {\n\t\t$resourceUrlWhitelist = ['self','*://localhost/**','*://www.youtube.com/**', '*://player.vimeo.com/video/**'];\n\t\t$sceDelegateProvider.resourceUrlWhitelist($resourceUrlWhitelist.concat(window.builderConfig.resourceUrlWhitelist));\n\t});\n\n\tbuilder.run(function(dynamicDirectiveManager, magezonBuilderConfig, magezonBuilderService, magezonBuilderUrl, elementManager) {\n\t\tangular.forEach(magezonBuilderConfig.elements, function(element) {\n\t\t\tvar type = elementManager.getElementType(element.type);\n\t\t\trequire([element['element']], function(Directive) {\n\t\t\t\tdynamicDirectiveManager.registerDirective('mgzElement' + type, Directive, 'mgz');\n\t\t\t});\n\t\t\trequire([element['navigator']], function(Directive) {\n\t\t\t\tdynamicDirectiveManager.registerDirective('mgzElementNavigator' + type, Directive, 'mgz');\n\t\t\t});\n\t\t\tif (element['toolbar']) {\n\t\t\t\trequire([element['toolbar']], function(Directive) {\n\t\t\t\t\tdynamicDirectiveManager.registerDirective('mgzElementToolbar' + type, Directive, 'mgz');\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tangular.forEach(magezonBuilderConfig.directives, function(directive, name) {\n\t\t\tname = elementManager.getElementType(directive.type);\n\t\t\tif (directive['element']) {\n\t\t\t\trequire([directive['element']], function(Directive) {\n\t\t\t\t\tdynamicDirectiveManager.registerDirective('mgzDirective' + name, Directive, 'mgz');\n\t\t\t\t});\n\t\t\t} else if (directive['templateUrl']) {\n\t\t\t\tfunction Directive() {\n\t\t\t\t \treturn {\n\t\t\t\t \t\treplace: true,\n\t\t\t\t \t\ttemplateUrl: magezonBuilderUrl.getViewFileUrl(directive['templateUrl'])\n\t\t\t\t \t};\n\t\t\t\t}\n\t\t\t\tdynamicDirectiveManager.registerDirective('mgzDirective' + name, Directive, 'mgz');\n\t\t\t}\n\t\t});\n\t\tmagezonBuilderService.directives = magezonBuilderConfig.directives;\n\t});\n\n\t// PROVIDER\n\tbuilder.provider('magezonBuilderConfig', configProvider);\n\tbuilder.service('magezonBuilderService', magezonBuilderSer);\n\tbuilder.service('magezonBuilderUrl', magezonBuilderUrlSer);\n\tbuilder.service('magezonBuilderModal', magezonBuilderModalSer);\n\tbuilder.service('elementManager', elementManagerSer);\n\tbuilder.service('profileManager', profileManagerSer);\n\tbuilder.service('historyManager', historySer);\n\tbuilder.service('magezonBuilderForm', formSer);\n\tbuilder.service('magezonBuilderEditor', editorSer);\n\tbuilder.service('magezonBuilderFilter', filterSer);\n\n\t// DIRECTIVE\n\tbuilder.directive('magezonBuilder', magezonBuilderDir);\n\tbuilder.directive('magezonBuilderModalElement', modalElementDir);\n\tbuilder.directive('magezonBuilderResizable', resizableDir);\n\tbuilder.directive('magezonBuilderDirectiveList', builderDirectiveListDir);\n\tbuilder.directive('magezonBuilderProfile', profileDir);\n\tbuilder.directive('magezonBuilderNavigator', navigatorDir);\n\tbuilder.directive('magezonBuilderElementIcon', elementIconDir);\n\tbuilder.directive('magezonBuilderNavigatorProfile', navigatorProfileDir);\n\tbuilder.directive('contentEditable', contentEditableDir);\n\tbuilder.directive('inlineEditor', inlineEditorDir);\n\tbuilder.directive('afterRender', afterRender);\n\tbuilder.directive('magezonBuilderColorPicker', colorPicker);\n\tbuilder.directive('magezonBuilderElementActions', elementActions);\n\tbuilder.directive('magezonBuilderElementResizable', elementResizable);\n\tbuilder.directive('mgzTooltip', tooltipDir);\n\n\t// CONTROLLER\n\tbuilder.controller('baseController', baseController);\n\tbuilder.controller('listController', listController);\n\tbuilder.controller('modalBaseController', modalBaseControllerCtrl);\n\tbuilder.controller('toolbarController', toolbarControllerCtrl);\n\n\treturn builder;\n});","Magezon_Builder/js/parallax.js":"define([\n \t'jquery',\n \t'jarallax',\n \t'jarallaxVideo',\n], function ($) {\n\n\tvar $wnd = $(window);\n\tvar $doc = $(document);\n\t\n\tvar throttle = function ( delay, noTrailing, callback, debounceMode ) {\n\t\t/*\n\t\t * After wrapper has stopped being called, this timeout ensures that\n\t\t * `callback` is executed at the proper times in `throttle` and `end`\n\t\t * debounce modes.\n\t\t */\n\t\tvar timeoutID;\n\t\tvar cancelled = false;\n\n\t\t// Keep track of the last time `callback` was executed.\n\t\tvar lastExec = 0;\n\n\t\t// Function to clear existing timeout\n\t\tfunction clearExistingTimeout () {\n\t\t\tif ( timeoutID ) {\n\t\t\t\tclearTimeout(timeoutID);\n\t\t\t}\n\t\t}\n\n\t\t// Function to cancel next exec\n\t\tfunction cancel () {\n\t\t\tclearExistingTimeout();\n\t\t\tcancelled = true;\n\t\t}\n\n\n\t\t// `noTrailing` defaults to falsy.\n\t\tif ( typeof noTrailing !== 'boolean' ) {\n\t\t\tdebounceMode = callback;\n\t\t\tcallback = noTrailing;\n\t\t\tnoTrailing = undefined;\n\t\t}\n\n\t\t/*\n\t\t * The `wrapper` function encapsulates all of the throttling / debouncing\n\t\t * functionality and when executed will limit the rate at which `callback`\n\t\t * is executed.\n\t\t */\n\t\tfunction wrapper () {\n\n\t\t\tvar self = this;\n\t\t\tvar elapsed = Date.now() - lastExec;\n\t\t\tvar args = arguments;\n\n\t\t\tif (cancelled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Execute `callback` and update the `lastExec` timestamp.\n\t\t\tfunction exec () {\n\t\t\t\tlastExec = Date.now();\n\t\t\t\tcallback.apply(self, args);\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * If `debounceMode` is true (at begin) this is used to clear the flag\n\t\t\t * to allow future `callback` executions.\n\t\t\t */\n\t\t\tfunction clear () {\n\t\t\t\ttimeoutID = undefined;\n\t\t\t}\n\n\t\t\tif ( debounceMode && !timeoutID ) {\n\t\t\t\t/*\n\t\t\t\t * Since `wrapper` is being called for the first time and\n\t\t\t\t * `debounceMode` is true (at begin), execute `callback`.\n\t\t\t\t */\n\t\t\t\texec();\n\t\t\t}\n\n\t\t\tclearExistingTimeout();\n\n\t\t\tif ( debounceMode === undefined && elapsed > delay ) {\n\t\t\t\t/*\n\t\t\t\t * In throttle mode, if `delay` time has been exceeded, execute\n\t\t\t\t * `callback`.\n\t\t\t\t */\n\t\t\t\texec();\n\n\t\t\t} else if ( noTrailing !== true ) {\n\t\t\t\t/*\n\t\t\t\t * In trailing throttle mode, since `delay` time has not been\n\t\t\t\t * exceeded, schedule `callback` to execute `delay` ms after most\n\t\t\t\t * recent execution.\n\t\t\t\t *\n\t\t\t\t * If `debounceMode` is true (at begin), schedule `clear` to execute\n\t\t\t\t * after `delay` ms.\n\t\t\t\t *\n\t\t\t\t * If `debounceMode` is false (at end), schedule `callback` to\n\t\t\t\t * execute after `delay` ms.\n\t\t\t\t */\n\t\t\t\ttimeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n\t\t\t}\n\n\t\t}\n\n\t\twrapper.cancel = cancel;\n\n\t\t// Return the wrapper function.\n\t\treturn wrapper;\n\n\t}\n\n\tvar isMobile = /Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/g.test(navigator.userAgent || navigator.vendor || window.opera);\n\n\tvar wndW = 0;\n\tvar wndH = 0;\n\t\twndW = $wnd.width();\n\t\twndH = $wnd.height();\n\t$wnd.on( 'resize load orientationchange', function() {\n\t\twndW = $wnd.width();\n\t    wndH = $wnd.height();\n\t});\n\n\t/**\n\t * In Viewport checker\n\t * return visible percent from 0 to 1\n\t *\n\t * @param {Object} $item - jQuery object.\n\t * @param {Bool} returnRect - return array with result and rect.\n\t *\n\t * @return {Mixed} - in viewport flag.\n\t */\n\tfunction isInViewport( $item, returnRect ) {\n\t    var rect = $item[ 0 ].getBoundingClientRect();\n\t    var result = 1;\n\n\t    if ( rect.right <= 0 || rect.left >= wndW ) {\n\t        result = 0;\n\t    } else if ( rect.bottom < 0 && rect.top <= wndH ) {\n\t        result = 0;\n\t    } else {\n\t        var beforeTopEnd = Math.max( 0, rect.height + rect.top );\n\t        var beforeBottomEnd = Math.max( 0, rect.height - ( rect.top + rect.height - wndH ) );\n\t        var afterTop = Math.max( 0, -rect.top );\n\t        var beforeBottom = Math.max( 0, rect.top + rect.height - wndH );\n\n\t        if ( rect.height < wndH ) {\n\t            result = 1 - ( ( afterTop || beforeBottom ) / rect.height );\n\t        } else if ( beforeTopEnd <= wndH ) {\n\t            result = beforeTopEnd / wndH;\n\t        } else if ( beforeBottomEnd <= wndH ) {\n\t            result = beforeBottomEnd / wndH;\n\t        }\n\t        result = result < 0 ? 0 : result;\n\t    }\n\t    if ( returnRect ) {\n\t        return [ result, rect ];\n\t    }\n\t    return result;\n\t}\n\n\n\t/**\n\t * Mouse Parallax\n\t */\n\tvar $parallaxMouseList = false;\n\tvar parallaxMouseTimeout;\n\tvar parallaxMouseFirstRun = 1;\n\n\t// run parallax animation\n\tfunction parallaxMouseRun( x, y, deviceOrientation ) {\n\t    var data;\n\t    var itemX;\n\t    var itemY;\n\t    $parallaxMouseList.each( function() {\n\t        var $this = $( this );\n\t        data = $this.data( 'parallax-mouse-data' );\n\n\t        // don't animate if block isn't in viewport\n\t        if ( typeof data !== 'object' || ( ! data.is_in_viewport && ! ( deviceOrientation && parallaxMouseFirstRun ) ) ) {\n\t            return;\n\t        }\n\n\t        // device acceleration calculate\n\t        if ( deviceOrientation ) {\n\t            itemX = -data.size * x;\n\t            itemY = -data.size * y;\n\n\t        // mouse calculate\n\t        } else {\n\t            itemX = ( data.rect.width - ( x - data.rect.left ) ) / data.rect.width;\n\t            itemY = ( data.rect.height - ( y - data.rect.top ) ) / data.rect.height;\n\t            if ( itemX > 1 || itemX < 0 || itemY > 1 || itemY < 0 ) {\n\t                itemX = 0.5;\n\t                itemY = 0.5;\n\t            }\n\t            itemX = data.size * ( itemX - 0.5 ) * 2;\n\t            itemY = data.size * ( itemY - 0.5 ) * 2;\n\t        }\n\n\t        // if first run orientation on device, set default values without animation\n\t        if ( deviceOrientation && parallaxMouseFirstRun ) {\n\t            $this.css( {\n\t                transform: `translateX(${ itemX }px) translateY(${ itemY }px) translateZ(0)`,\n\t            } );\n\t        } else {\n\t            $this.css( {\n\t                transition: `transform ${ deviceOrientation ? 2 : data.speed }s  cubic-bezier(0.22, 0.63, 0.6, 0.88)`,\n\t                transform: `translateX(${ itemX }px) translateY(${ itemY }px) translateZ(0)`,\n\t            } );\n\t        }\n\t    } );\n\t    parallaxMouseFirstRun = 0;\n\t}\n\tvar throttledParallaxMouseRun = throttle( 200, ( x, y, deviceOrientation ) => {\n\t    parallaxMouseRun( x, y, deviceOrientation );\n\t});\n\n\twindow.mgzParallaxMouse = function ( force ) {\n\t    function run() {\n\t        var $newParallax = $( '.mgz-parallax.mgz-parallax-mouse-parallax' ).children( '.mgz-parallax-inner' );\n\t        if ( $newParallax.length ) {\n\t            // add new parallax blocks\n\t            if ( $parallaxMouseList ) {\n\t                $parallaxMouseList = $newParallax;\n\n\t                // first init parallax\n\t            } else {\n\t                $parallaxMouseList = $newParallax;\n\n\t                if ( isMobile && window.DeviceOrientationEvent ) {\n\t                    $wnd.on( 'deviceorientation', ( event ) => {\n\t                        throttledParallaxMouseRun( event.originalEvent.gamma / 90, event.originalEvent.beta / 180, true );\n\t                    } );\n\n\t                // no smooth on firefox\n\t                } else {\n\t                    $wnd.on( 'mousemove', ( event ) => {\n\t                        throttledParallaxMouseRun( event.clientX, event.clientY );\n\t                    } );\n\t                }\n\t            }\n\t        }\n\n\t        // update data for parallax blocks\n\t        if ( $parallaxMouseList ) {\n\t            $parallaxMouseList.each( function() {\n\t\t\t\t\tvar $this   = $( this );\n\t\t\t\t\tvar $elem   = $( this ).closest('.mgz-element');\n\t\t\t\t\tvar $parent = $this.parent();\n\t\t\t\t\tvar size    = parseFloat( $parent.attr( 'data-parallax-mouse-parallax-size' ) ) || 30;\n\t\t\t\t\tvar speed   = parseFloat( $parent.attr( 'data-parallax-mouse-parallax-speed' ) ) || 10000;\n\t                $this.data( 'parallax-mouse-data', {\n\t                    is_in_viewport: isInViewport( $parent ) ? $elem.is( ':visible' ) : 0,\n\t                    rect: $parent[ 0 ].getBoundingClientRect(),\n\t                    size,\n\t                    speed: speed / 1000,\n\t                } );\n\t                $this.css( {\n\t                    left: -size,\n\t                    right: -size,\n\t                    top: -size,\n\t                    bottom: -size,\n\t                } );\n\t            } );\n\t        }\n\t    }\n\n\t    // run force without timeout\n\t    clearTimeout( parallaxMouseTimeout );\n\t    if ( force ) {\n\t        run();\n\t    } else {\n\t        parallaxMouseTimeout = setTimeout( parallaxMouseTimeout, 100 );\n\t    }\n\t}\n\t$wnd.on( 'resize scroll orientationchange load', window.mgzParallaxMouse );\n\n\tsetInterval( window.mgzParallaxMouse, 3000 );\n\n\t$(document).find('.mgz-parallax').each(function(index, el) {\n\t\tvar $this           = $( this );\n\t\tvar backgroundType  = $this.attr( 'data-background-type' );\n\t\tvar imageBgSize     = $this.attr( 'data-parallax-image-background-size' );\n\t\tvar imageBgPosition = $this.attr( 'data-parallax-image-background-position' );\n\t\tvar video           = false;\n\t\tvar videoStartTime  = 0;\n\t\tvar videoEndTime    = 0;\n\t\tvar videoVolume     = 0;\n\t\tvar videoLoop       = true;\n\t\tvar videoAlwaysPlay = true;\n\t\tvar videoMobile     = false;\n\t\tvar parallax        = $this.attr( 'data-parallax-type' );\n\t\tvar parallaxSpeed   = $this.attr( 'data-parallax-speed' );\n\t\tvar parallaxMobile  = $this.attr( 'data-parallax-mobile' ) === 'true' || $this.attr( 'data-parallax-mobile' ) === '1';\n\n        // video type\n        if ( backgroundType === 'yt_vm_video' || backgroundType === 'video' ) {\n\t\t\tvideo           = $this.attr( 'data-parallax-video' );\n\t\t\tvideoStartTime  = parseFloat( $this.attr( 'data-parallax-video-start-time' ) ) || 0;\n\t\t\tvideoEndTime    = parseFloat( $this.attr( 'data-parallax-video-end-time' ) ) || 0;\n\t\t\tvideoVolume     = parseFloat( $this.attr( 'data-parallax-video-volume' ) ) || 0;\n\t\t\tvideoLoop       = $this.attr( 'data-parallax-video-loop' ) !== 'false';\n\t\t\tvideoAlwaysPlay = $this.attr( 'data-parallax-video-always-play' ) === 'true';\n\t\t\tvideoMobile     = $this.attr( 'data-parallax-video-mobile' ) === '1' || $this.attr( 'data-parallax-video-mobile' ) === 'true';\n\n            if ( video && ! parallax && ! parallaxSpeed ) {\n\t\t\t\tparallax       = 'scroll';\n\t\t\t\tparallaxSpeed  = 1;\n\t\t\t\tparallaxMobile = videoMobile;\n            }\n        }\n\n        // prevent if no parallax and no video\n        if ( ! parallax && ! video ) return;\n\n        var jarallaxParams = {\n        \tautomaticResize: true,\n        \ttype: parallax,\n        \tspeed: parallaxSpeed,\n        \tdisableParallax() {\n        \t\treturn parallaxMobile ? false : isMobile;\n        \t},\n        \tdisableVideo() {\n        \t\treturn videoMobile ? false : isMobile;\n        \t},\n        \timgSize: imageBgSize || 'cover',\n        \timgPosition: imageBgPosition || '50% 50%',\n        };\n\n        if ( imageBgSize === 'pattern' ) {\n\t\t\tjarallaxParams.imgSize   = 'auto';\n\t\t\tjarallaxParams.imgRepeat = 'repeat';\n        }\n\n        if ( video ) {\n\t\t\tjarallaxParams.speed                = parallax ? parallaxSpeed : 1;\n\t\t\tjarallaxParams.videoSrc             = video;\n\t\t\tjarallaxParams.videoStartTime       = videoStartTime;\n\t\t\tjarallaxParams.videoEndTime         = videoEndTime;\n\t\t\tjarallaxParams.videoVolume          = videoVolume;\n\t\t\tjarallaxParams.videoLoop            = videoLoop;\n\t\t\tjarallaxParams.videoPlayOnlyVisible = ! videoAlwaysPlay;\n        }\n\t\tjarallax($this.children( '.mgz-parallax-inner' ), jarallaxParams);\n\t});\n});","Magezon_Builder/js/countdown.js":"define([\n    'jquery',\n    'Magezon_Builder/js/waypoints/jquery.waypoints'\n], function ($) {\n    'use strict';\n\n    $.widget('magezon.countdown', {\n        options: {\n            nodeClass: '',\n            wrapperClass: '',\n            countdown: '',\n            dateWrapper: '',\n            dateLabel: '',\n            hoursWrapper: '',\n            hoursLabel: '',\n            minutesWrapper: '',\n            minutesLabel: '',\n            secondsWrapper: '',\n            secondsLabel: '',\n            time: '2019-02-28T01:00:00+00:00',\n            _timeInterval: '',\n        },\n\n        _create: function () {\n            this.dateWrapper    = this.element.find('.mgz-countdown-days');\n            this.dateLabel      = this.dateWrapper.find('.mgz-countdown-unit-label').data('label');\n            this.hoursWrapper   = this.element.find('.mgz-countdown-hours');\n            this.hoursLabel     = this.hoursWrapper.find('.mgz-countdown-unit-label').data('label');\n            this.minutesWrapper = this.element.find('.mgz-countdown-minutes');\n            this.minutesLabel   = this.minutesWrapper.find('.mgz-countdown-unit-label').data('label');\n            this.secondsWrapper = this.element.find('.mgz-countdown-seconds');\n            this.secondsLabel   = this.secondsWrapper.find('.mgz-countdown-unit-label').data('label');\n\n            this._initCountdown();\n        },\n\n        _getTimeRemaining: function(endtime) {\n            var t       = Date.parse(endtime) - Date.parse(new Date());\n            var seconds = Math.floor((t / 1000) % 60);\n            var minutes = Math.floor((t / 1000 / 60) % 60);\n            var hours   = Math.floor((t / (1000 * 60 * 60)) % 24);\n            var days    = Math.floor(t / (1000 * 60 * 60 * 24));\n            return {\n                'total': t,\n                'days': (days < 10) ? ('0' + days) : days,\n                'hours': ('0' + hours).slice(-2),\n                'minutes': ('0' + minutes).slice(-2),\n                'seconds': ('0' + seconds).slice(-2)\n            };\n        },\n\n        _setTimeRemaining: function() {\n            var t = this._getTimeRemaining(this.options.time),\n                wrappers = {\n                    days: $(this.dateWrapper),\n                    hours: $(this.hoursWrapper),\n                    minutes: $(this.minutesWrapper),\n                    seconds: $(this.secondsWrapper)\n                },\n                labels = {\n                    days: this.dateLabel,\n                    hours: this.hoursLabel,\n                    minutes: this.minutesLabel,\n                    seconds: this.secondsLabel\n                };\n            if (t.total <= 0) {\n                clearInterval(this._timeInterval);\n                $.each(wrappers, function(type, element) {\n                    element.find('.mgz-countdown-unit-number').html('00');\n                });\n            } else {\n                $.each(wrappers, function(type, element) {\n                    element.find('.mgz-countdown-unit-number').html(t[type]);\n                    var $el = element.find('.mgz-countdown-unit-label');\n                    var label = parseInt(t[type]) != 1 ? labels[type].plural : labels[type].singular;\n                    $el.html(label);\n                });\n            }\n        },\n\n        _setCircleCount: function() {\n            var t = this._getTimeRemaining(this.options.time),\n                max = {\n                    days: 365,\n                    hours: 24,\n                    minutes: 60,\n                    seconds: 60\n                },\n                circles = {\n                    days: $(this.dateWrapper).find('svg'),\n                    hours: $(this.hoursWrapper).find('svg'),\n                    minutes: $(this.minutesWrapper).find('svg'),\n                    seconds: $(this.secondsWrapper).find('svg'),\n                }\n            $.each(circles, function(type, element) {\n                var $circle = element.find('.mgz-element-bar'),\n                    r = $circle.attr('r'),\n                    circle = Math.PI * (r * 2),\n                    val = t[type],\n                    total = max[type],\n                    stroke = (1 - (val / total)) * circle;\n                $circle.css({\n                    strokeDashoffset: stroke\n                });\n            });\n        },\n\n        _initCountdown: function() {\n            var self = this;\n            this._setTimeRemaining();\n            if (this.options.type == 'circle') {\n                this._setCircleCount();\n            }\n\n            this.interval = setInterval(function() {\n                self._setTimeRemaining();\n                if (self.options.type == 'circle') {\n                    self._setCircleCount();\n                }\n            }, 1000);\n        },\n\n        clearInterval: function() {\n            clearInterval(this.interval);\n        }\n    });\n\n    return $.magezon.countdown;\n});","Magezon_Builder/js/carousel.js":"define([\n    'jquery',\n    'Magezon_Core/js/owl.carousel.min'\n], function ($) {\n    'use strict';\n\n/**\n * Animate Plugin\n * @version 2.3.4\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n    /**\n     * Creates the animate plugin.\n     * @class The Navigation Plugin\n     * @param {Owl} scope - The Owl Carousel\n     */\n    var Animate = function(scope) {\n        this.core = scope;\n        this.core.options = $.extend({}, Animate.Defaults, this.core.options);\n        this.swapping = true;\n        this.previous = undefined;\n        this.next = undefined;\n\n        this.handlers = {\n            'change.owl.carousel': $.proxy(function(e) {\n                if (e.namespace && e.property.name == 'position') {\n                    this.previous = this.core.current();\n                    this.next = e.property.value;\n                }\n            }, this),\n            'drag.owl.carousel dragged.owl.carousel translated.owl.carousel': $.proxy(function(e) {\n                if (e.namespace) {\n                    this.swapping = e.type == 'translated';\n                }\n            }, this),\n            'translate.owl.carousel': $.proxy(function(e) {\n                if (e.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn)) {\n                    this.swap();\n                }\n            }, this)\n        };\n\n        this.core.$element.on(this.handlers);\n    };\n\n    /**\n     * Default options.\n     * @public\n     */\n    Animate.Defaults = {\n        animateOut: false,\n        animateIn: false\n    };\n\n    /**\n     * Toggles the animation classes whenever an translations starts.\n     * @protected\n     * @returns {Boolean|undefined}\n     */\n    Animate.prototype.swap = function() {\n\n        if (this.core.settings.items !== 1) {\n            return;\n        }\n\n        if (!$.support.animation || !$.support.transition) {\n            return;\n        }\n\n        this.core.speed(0);\n\n        var left,\n            clear = $.proxy(this.clear, this),\n            previous = this.core.$stage.children().eq(this.previous),\n            next = this.core.$stage.children().eq(this.next),\n            incoming = this.core.settings.animateIn,\n            outgoing = this.core.settings.animateOut;\n\n        if (this.core.current() === this.previous) {\n            return;\n        }\n\n        if (outgoing) {\n            left = this.core.coordinates(this.previous) - this.core.coordinates(this.next);\n            previous.one($.support.animation.end, clear)\n                .css( { 'left': left + 'px' } )\n                .addClass('animated owl-animated-out')\n                .addClass(outgoing);\n        }\n\n        if (incoming) {\n            next.one($.support.animation.end, clear)\n                .addClass('animated owl-animated-in')\n                .addClass(incoming);\n        }\n    };\n\n    Animate.prototype.clear = function(e) {\n        $(e.currentTarget).css( { 'left': '' } )\n            .removeClass('animated owl-animated-out owl-animated-in')\n            .removeClass(this.core.settings.animateIn)\n            .removeClass(this.core.settings.animateOut);\n        this.core.onTransitionEnd();\n    };\n\n    /**\n     * Destroys the plugin.\n     * @public\n     */\n    Animate.prototype.destroy = function() {\n        var handler, property;\n\n        for (handler in this.handlers) {\n            this.core.$element.off(handler, this.handlers[handler]);\n        }\n        for (property in Object.getOwnPropertyNames(this)) {\n            typeof this[property] != 'function' && (this[property] = null);\n        }\n    };\n\n    $.fn.owlCarousel.Constructor.Plugins.Animate = Animate;\n\n})(window.Zepto || window.jQuery, window, document);\n\n\n    $.widget('magezon.carousel', {\n        options: {\n            item_xs: 1,\n            item_sm: 1,\n            item_md: 1,\n            item_lg: 1,\n            item_xl: 1,\n            items: 3,\n            loop: false,\n            center: false,\n            rewind: false,\n            checkVisibility: true,\n            \n            mouseDrag: true,\n            touchDrag: true,\n            pullDrag: true,\n            freeDrag: false,\n            \n            margin: 0,\n            stagePadding: 0,\n            \n            merge: false,\n            mergeFit: true,\n            autoWidth: false,\n            \n            startPosition: 0,\n            rtl: false,\n            \n            smartSpeed: 250,\n            fluidSpeed: false,\n            dragEndSpeed: false,\n            \n            responsive: {},\n            responsiveRefreshRate: 200,\n            responsiveBaseElement: window,\n            \n            fallbackEasing: 'swing',\n            slideTransition: '',\n            \n            info: false,\n            \n            nestedItemSelector: false,\n            itemElement: 'div',\n            stageElement: 'div',\n            \n            refreshClass: 'owl-refresh',\n            loadedClass: 'owl-loaded',\n            loadingClass: 'owl-loading',\n            rtlClass: 'owl-rtl',\n            responsiveClass: 'owl-responsive',\n            dragClass: 'owl-drag',\n            itemClass: 'owl-item',\n            stageClass: 'owl-stage',\n            stageOuterClass: 'owl-stage-outer',\n            grabClass: 'owl-grab',\n            autoHeight: true,\n            navText: ['<i class=\"fas mgz-fa-angle-left\"/>','<i class=\"fas mgz-fa-angle-right\"/>'],\n            animateOut: '',\n            animateIn: ''\n        },\n\n        _create: function () {\n\n            var self = this;\n            var options = this.options;\n\n            options['responsive'] = {\n                0: {'items': parseInt(options.item_xs)},\n                544: {'items': parseInt(options.item_sm)},\n                768: {'items': parseInt(options.item_md)},\n                992: {'items': parseInt(options.item_lg)},\n                1200: {'items': parseInt(options.item_xl)}\n            };\n            \n            function setAnimation ( _elem, _InOut ) {\n                var animationEndEvent = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';\n                _elem.each(function() {\n                    var $elem = $(this);\n                    var $animationType = 'animated ' + $elem.data( 'animate-' + _InOut );\n                    var $animationDelay = $elem.data('animate-delay') ? $elem.data('animate-delay') + 's' : 0;\n                    $elem.css('-webkit-animation-delay', $animationDelay)\n                    .css('-moz-animation-delay', $animationDelay)\n                    .css('-ms-animation-delay', $animationDelay)\n                    .css('-o-animation-delay', $animationDelay)\n                    .css('animation-delay', $animationDelay);\n                    $elem.addClass($animationType).one(animationEndEvent, function () {\n                        $elem.removeClass($animationType);\n                    });\n                });\n            }\n\n            var firstSlide   = this.element.find('.item:eq(0)');\n            var $elemsToanim = firstSlide.find(\"[data-animate-in]\");\n            setAnimation ($elemsToanim, 'in');\n\n            var owl = this.element.owlCarousel(options);\n\n            owl.on('change.owl.carousel', function(event) {\n                var $currentItem = $('.owl-item', owl).eq(event.item.index);\n                var $elemsToanim = $currentItem.find(\"[data-animate-out]\");\n                setAnimation ($elemsToanim, 'out');\n            });\n\n            owl.on('changed.owl.carousel', function(event) {\n                var $currentItem = $('.owl-item', owl).eq(event.item.index);\n                var $elemsToanim = $currentItem.find(\"[data-animate-in]\");\n                setAnimation ($elemsToanim, 'in');\n                self.element.find('.owl-item').removeClass('owl-fadeUp-out');\n            });\n        }\n    });\n\n    return $.magezon.carousel;\n});","Magezon_Builder/js/vimeo/player.js":"/*! @vimeo/player v2.8.1 | (c) 2019 Vimeo | MIT License | https://github.com/vimeo/player.js */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):((e=e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e=\"undefined\"!=typeof global&&\"[object global]\"==={}.toString.call(global);function i(e,t){return 0===e.indexOf(t.toLowerCase())?e:\"\".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function s(e){return/^(https?:)?\\/\\/((player|www)\\.)?vimeo\\.com(?=$|\\/)/.test(e)}function l(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.url,o=n||r;if(!o)throw new Error(\"An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.\");if(e=o,!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e)return\"https://vimeo.com/\".concat(o);if(s(o))return o.replace(\"http:\",\"https:\");if(n)throw new TypeError(\"\u201c\".concat(n,\"\u201d is not a valid video id.\"));throw new TypeError(\"\u201c\".concat(o,\"\u201d is not a vimeo.com url.\"))}var t=void 0!==Array.prototype.indexOf,n=\"undefined\"!=typeof window&&void 0!==window.postMessage;if(!(e||t&&n))throw new Error(\"Sorry, the Vimeo Player API is not available in this browser.\");var o=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};!function(e){if(!e.WeakMap){var n=Object.prototype.hasOwnProperty,o=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError(\"Constructor WeakMap requires 'new'\");if(o(this,\"_id\",\"_WeakMap\"+\"_\"+t()+\".\"+t()),0<arguments.length)throw new TypeError(\"WeakMap iterable is not supported\")}function r(e,t){if(!i(e)||!n.call(e,\"_id\"))throw new TypeError(t+\" method called on incompatible receiver \"+typeof e)}function t(){return Math.random().toString().substring(2)}return o(e.prototype,\"delete\",function(e){if(r(this,\"delete\"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)}),o(e.prototype,\"get\",function(e){if(r(this,\"get\"),i(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}}),o(e.prototype,\"has\",function(e){if(r(this,\"has\"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)}),o(e.prototype,\"set\",function(e,t){if(r(this,\"set\"),!i(e))throw new TypeError(\"Invalid value used as weak map key\");var n=e[this._id];return n&&n[0]===e?n[1]=t:o(e,this._id,[e,t]),this}),o(e,\"_polyfill\",!0),e}()}function i(e){return Object(e)===e}}(\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:o);var a,f=(function(e){var t,n,r;r=function(){var t,a,n,e=Object.prototype.toString,r=\"undefined\"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},\"x\",{}),t=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){t=function(e,t,n){return e[t]=n,e}}function i(e,t){n.add(e,t),a||(a=r(n.drain))}function u(e){var t,n=typeof e;return null==e||\"object\"!=n&&\"function\"!=n||(t=e.then),\"function\"==typeof t&&t}function c(){for(var e=0;e<this.chain.length;e++)o(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function o(e,t,n){var r,o;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError(\"Promise-chain cycle\")):(o=u(r))?o.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}function s(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,0<t.chain.length&&i(c,t))}function l(e,n,r,o){for(var t=0;t<n.length;t++)!function(t){e.resolve(n[t]).then(function(e){r(t,e)},o)}(t)}function f(e){this.def=e,this.triggered=!1}function d(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(e){if(\"function\"!=typeof e)throw TypeError(\"Not a function\");if(0!==this.__NPO__)throw TypeError(\"Not a promise\");this.__NPO__=1;var r=new d(this);this.then=function(e,t){var n={success:\"function\"!=typeof e||e,failure:\"function\"==typeof t&&t};return n.promise=new this.constructor(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");n.resolve=e,n.reject=t}),r.chain.push(n),0!==r.state&&i(c,r),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){(function e(n){var r,o=this;if(!o.triggered){o.triggered=!0,o.def&&(o=o.def);try{(r=u(n))?i(function(){var t=new f(o);try{r.call(n,function(){e.apply(t,arguments)},function(){s.apply(t,arguments)})}catch(e){s.call(t,e)}}):(o.msg=n,o.state=1,0<o.chain.length&&i(c,o))}catch(e){s.call(new f(o),e)}}}).call(r,e)},function(e){s.call(r,e)})}catch(e){s.call(r,e)}}n=function(){var n,r,o;function i(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(e,t){o=new i(e,t),r?r.next=o:n=o,r=o,o=void 0},drain:function(){var e=n;for(n=r=a=void 0;e;)e.fn.call(e.self),e=e.next}}}();var v=t({},\"constructor\",h,!1);return t(h.prototype=v,\"__NPO__\",0,!1),t(h,\"resolve\",function(n){return n&&\"object\"==typeof n&&1===n.__NPO__?n:new this(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");e(n)})}),t(h,\"reject\",function(n){return new this(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");t(n)})}),t(h,\"all\",function(t){var a=this;return\"[object Array]\"!=e.call(t)?a.reject(TypeError(\"Not an array\")):0===t.length?a.resolve([]):new a(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");var r=t.length,o=Array(r),i=0;l(a,t,function(e,t){o[e]=t,++i===r&&n(o)},e)})}),t(h,\"race\",function(t){var r=this;return\"[object Array]\"!=e.call(t)?r.reject(TypeError(\"Not an array\")):new r(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");l(r,t,function(e,t){n(t)},e)})}),h},(n=o)[t=\"Promise\"]=n[t]||r(),e.exports&&(e.exports=n[t])}(a={exports:{}},a.exports),a.exports),d=new WeakMap;function u(e,t,n){var r=d.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),d.set(e.element,r)}function c(e,t){return(d.get(e.element)||{})[t]||[]}function h(e,t,n){var r=d.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],d.set(e.element,r),!0;var o=r[t].indexOf(n);return-1!==o&&r[t].splice(o,1),d.set(e.element,r),r[t]&&0===r[t].length}var v=[\"autopause\",\"autoplay\",\"background\",\"byline\",\"color\",\"height\",\"id\",\"loop\",\"maxheight\",\"maxwidth\",\"muted\",\"playsinline\",\"portrait\",\"responsive\",\"speed\",\"title\",\"transparent\",\"url\",\"width\"];function p(r){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return v.reduce(function(e,t){var n=r.getAttribute(\"data-vimeo-\".concat(t));return(n||\"\"===n)&&(e[t]=\"\"===n?1:n),e},e)}function y(e,t){var n=e.html;if(!t)throw new TypeError(\"An element must be provided\");if(null!==t.getAttribute(\"data-vimeo-initialized\"))return t.querySelector(\"iframe\");var r=document.createElement(\"div\");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute(\"data-vimeo-initialized\",\"true\"),t.querySelector(\"iframe\")}function m(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=2<arguments.length?arguments[2]:void 0;return new Promise(function(t,n){if(!s(i))throw new TypeError(\"\u201c\".concat(i,\"\u201d is not a vimeo.com url.\"));var e=\"https://vimeo.com/api/oembed.json?url=\".concat(encodeURIComponent(i),\"&domain=\").concat(window.location.hostname);for(var r in a)a.hasOwnProperty(r)&&(e+=\"&\".concat(r,\"=\").concat(encodeURIComponent(a[r])));var o=\"XDomainRequest\"in window?new XDomainRequest:new XMLHttpRequest;o.open(\"GET\",e,!0),o.onload=function(){if(404!==o.status)if(403!==o.status)try{var e=JSON.parse(o.responseText);if(403===e.domain_status_code)return y(e,u),void n(new Error(\"\u201c\".concat(i,\"\u201d is not embeddable.\")));t(e)}catch(e){n(e)}else n(new Error(\"\u201c\".concat(i,\"\u201d is not embeddable.\")));else n(new Error(\"\u201c\".concat(i,\"\u201d was not found.\")))},o.onerror=function(){var e=o.status?\" (\".concat(o.status,\")\"):\"\";n(new Error(\"There was an error fetching the embed code from Vimeo\".concat(e,\".\")))},o.send()})}function g(e){if(\"string\"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function w(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var r={method:t};void 0!==n&&(r.value=n);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/,\"$1\"));8<=o&&o<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}function b(n,r){var t,e=[];if((r=g(r)).event){if(\"error\"===r.event)c(n,r.data.method).forEach(function(e){var t=new Error(r.data.message);t.name=r.data.name,e.reject(t),h(n,r.data.method,e)});e=c(n,\"event:\".concat(r.event)),t=r.data}else if(r.method){var o=function(e,t){var n=c(e,t);if(n.length<1)return!1;var r=n.shift();return h(e,t,r),r}(n,r.method);o&&(e.push(o),t=r.value)}e.forEach(function(e){try{if(\"function\"==typeof e)return void e.call(n,t);e.resolve(t)}catch(e){}})}var k=new WeakMap,E=new WeakMap,Player=function(){function Player(u){var e,c=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Player),window.jQuery&&u instanceof jQuery&&(1<u.length&&window.console&&console.warn&&console.warn(\"A jQuery object with multiple elements was passed, using the first element.\"),u=u[0]),\"undefined\"!=typeof document&&\"string\"==typeof u&&(u=document.getElementById(u)),e=u,!Boolean(e&&1===e.nodeType&&\"nodeName\"in e&&e.ownerDocument&&e.ownerDocument.defaultView))throw new TypeError(\"You must pass either a valid element or a valid id.\");var r=u.ownerDocument.defaultView;if(\"IFRAME\"!==u.nodeName){var t=u.querySelector(\"iframe\");t&&(u=t)}if(\"IFRAME\"===u.nodeName&&!s(u.getAttribute(\"src\")||\"\"))throw new Error(\"The player element passed isn\u2019t a Vimeo embed.\");if(k.has(u))return k.get(u);this.element=u,this.origin=\"*\";var o=new f(function(i,a){var e=function(e){if(s(e.origin)&&c.element.contentWindow===e.source){\"*\"===c.origin&&(c.origin=e.origin);var t=g(e.data);if(t&&\"error\"===t.event&&t.data&&\"ready\"===t.data.method){var n=new Error(t.data.message);return n.name=t.data.name,void a(n)}var r=t&&\"ready\"===t.event,o=t&&\"ping\"===t.method;if(r||o)return c.element.setAttribute(\"data-ready\",\"true\"),void i();b(c,t)}};if(r.addEventListener?r.addEventListener(\"message\",e,!1):r.attachEvent&&r.attachEvent(\"onmessage\",e),\"IFRAME\"!==c.element.nodeName){var t=p(u,n);m(l(t),t,u).then(function(e){var t,n,r,o=y(e,u);return c.element=o,c._originalElement=u,t=u,n=o,r=d.get(t),d.set(n,r),d.delete(t),k.set(c.element,c),e}).catch(a)}});return E.set(this,o),k.set(this.element,this),\"IFRAME\"===this.element.nodeName&&w(this,\"ping\"),this}var e,t,n;return e=Player,(t=[{key:\"callMethod\",value:function(n){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new f(function(e,t){return r.ready().then(function(){u(r,n,{resolve:e,reject:t}),w(r,n,o)}).catch(t)})}},{key:\"get\",value:function(n){var r=this;return new f(function(e,t){return n=i(n,\"get\"),r.ready().then(function(){u(r,n,{resolve:e,reject:t}),w(r,n)}).catch(t)})}},{key:\"set\",value:function(n,r){var o=this;return new f(function(e,t){if(n=i(n,\"set\"),null==r)throw new TypeError(\"There must be a value to set.\");return o.ready().then(function(){u(o,n,{resolve:e,reject:t}),w(o,n,r)}).catch(t)})}},{key:\"on\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(!t)throw new TypeError(\"You must pass a callback function.\");if(\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");0===c(this,\"event:\".concat(e)).length&&this.callMethod(\"addEventListener\",e).catch(function(){}),u(this,\"event:\".concat(e),t)}},{key:\"off\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(t&&\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");h(this,\"event:\".concat(e),t)&&this.callMethod(\"removeEventListener\",e).catch(function(e){})}},{key:\"loadVideo\",value:function(e){return this.callMethod(\"loadVideo\",e)}},{key:\"ready\",value:function(){var e=E.get(this)||new f(function(e,t){t(new Error(\"Unknown player. Probably unloaded.\"))});return f.resolve(e)}},{key:\"addCuePoint\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod(\"addCuePoint\",{time:e,data:t})}},{key:\"removeCuePoint\",value:function(e){return this.callMethod(\"removeCuePoint\",e)}},{key:\"enableTextTrack\",value:function(e,t){if(!e)throw new TypeError(\"You must pass a language.\");return this.callMethod(\"enableTextTrack\",{language:e,kind:t})}},{key:\"disableTextTrack\",value:function(){return this.callMethod(\"disableTextTrack\")}},{key:\"pause\",value:function(){return this.callMethod(\"pause\")}},{key:\"play\",value:function(){return this.callMethod(\"play\")}},{key:\"unload\",value:function(){return this.callMethod(\"unload\")}},{key:\"destroy\",value:function(){var t=this;return new f(function(e){E.delete(t),k.delete(t.element),t._originalElement&&(k.delete(t._originalElement),t._originalElement.removeAttribute(\"data-vimeo-initialized\")),t.element&&\"IFRAME\"===t.element.nodeName&&t.element.parentNode&&t.element.parentNode.removeChild(t.element),e()})}},{key:\"getAutopause\",value:function(){return this.get(\"autopause\")}},{key:\"setAutopause\",value:function(e){return this.set(\"autopause\",e)}},{key:\"getBuffered\",value:function(){return this.get(\"buffered\")}},{key:\"getColor\",value:function(){return this.get(\"color\")}},{key:\"setColor\",value:function(e){return this.set(\"color\",e)}},{key:\"getCuePoints\",value:function(){return this.get(\"cuePoints\")}},{key:\"getCurrentTime\",value:function(){return this.get(\"currentTime\")}},{key:\"setCurrentTime\",value:function(e){return this.set(\"currentTime\",e)}},{key:\"getDuration\",value:function(){return this.get(\"duration\")}},{key:\"getEnded\",value:function(){return this.get(\"ended\")}},{key:\"getLoop\",value:function(){return this.get(\"loop\")}},{key:\"setLoop\",value:function(e){return this.set(\"loop\",e)}},{key:\"getPaused\",value:function(){return this.get(\"paused\")}},{key:\"getPlaybackRate\",value:function(){return this.get(\"playbackRate\")}},{key:\"setPlaybackRate\",value:function(e){return this.set(\"playbackRate\",e)}},{key:\"getPlayed\",value:function(){return this.get(\"played\")}},{key:\"getSeekable\",value:function(){return this.get(\"seekable\")}},{key:\"getSeeking\",value:function(){return this.get(\"seeking\")}},{key:\"getTextTracks\",value:function(){return this.get(\"textTracks\")}},{key:\"getVideoEmbedCode\",value:function(){return this.get(\"videoEmbedCode\")}},{key:\"getVideoId\",value:function(){return this.get(\"videoId\")}},{key:\"getVideoTitle\",value:function(){return this.get(\"videoTitle\")}},{key:\"getVideoWidth\",value:function(){return this.get(\"videoWidth\")}},{key:\"getVideoHeight\",value:function(){return this.get(\"videoHeight\")}},{key:\"getVideoUrl\",value:function(){return this.get(\"videoUrl\")}},{key:\"getVolume\",value:function(){return this.get(\"volume\")}},{key:\"setVolume\",value:function(e){return this.set(\"volume\",e)}}])&&r(e.prototype,t),n&&r(e,n),Player}();return e||(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll(\"[data-vimeo-id], [data-vimeo-url]\")),n=function(e){\"console\"in window&&console.error&&console.error(\"There was an error creating an embed: \".concat(e))};t.forEach(function(t){try{if(null!==t.getAttribute(\"data-vimeo-defer\"))return;var e=p(t);m(l(e),e,t).then(function(e){return y(e,t)}).catch(n)}catch(e){n(e)}})}(),function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(e){if(s(e.origin)&&e.data&&\"spacechange\"===e.data.event)for(var t=r.querySelectorAll(\"iframe\"),n=0;n<t.length;n++)if(t[n].contentWindow===e.source){t[n].parentElement.style.paddingBottom=\"\".concat(e.data.data[0].bottom,\"px\");break}};window.addEventListener?window.addEventListener(\"message\",e,!1):window.attachEvent&&window.attachEvent(\"onmessage\",e)}}()),Player});","Magezon_Builder/js/apply/main.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'jquery',\n    'mage/apply/scripts'\n], function (_, $, processScripts) {\n    'use strict';\n\n    var dataAttr = 'data-mage-init',\n        nodeSelector = '[' + dataAttr + ']';\n\n    /**\n     * Initializes components assigned to a specified element via data-* attribute.\n     *\n     * @param {HTMLElement} el - Element to initialize components with.\n     * @param {Object|String} config - Initial components' config.\n     * @param {String} component - Components' path.\n     */\n    function init(el, config, component) {\n        require([component], function (fn) {\n\n            if (typeof fn === 'object') {\n                fn = fn[component].bind(fn);\n            }\n\n            if (_.isFunction(fn)) {\n                fn(config, el);\n            } else if ($(el)[component]) {\n                $(el)[component](config);\n            }\n        }, function (error) {\n            if ('console' in window && typeof window.console.error === 'function') {\n                console.error(error);\n            }\n\n            return true;\n        });\n    }\n\n    /**\n     * Parses elements 'data-mage-init' attribute as a valid JSON data.\n     * Note: data-mage-init attribute will be removed.\n     *\n     * @param {HTMLElement} el - Element whose attribute should be parsed.\n     * @returns {Object}\n     */\n    function getData(el) {\n        var data = el.getAttribute(dataAttr);\n\n        el.removeAttribute(dataAttr);\n\n        return {\n            el: el,\n            data: JSON.parse(data)\n        };\n    }\n\n    return {\n        /**\n         * Initializes components assigned to HTML elements via [data-mage-init].\n         *\n         * @example Sample 'data-mage-init' declaration.\n         *      data-mage-init='{\"path/to/component\": {\"foo\": \"bar\"}}'\n         */\n        apply: function (context) {\n            var virtuals = processScripts(!context ? document : context),\n                nodes = document.querySelectorAll(nodeSelector);\n\n            _.toArray(nodes)\n                .map(getData)\n                .concat(virtuals)\n                .forEach(function (itemContainer) {\n                    var element = itemContainer.el;\n\n                    _.each(itemContainer.data, function (obj, key) {\n                            if(key.indexOf('Magezon_Builder') != -1 || key.indexOf('Magezon_PageBuilder') != -1) {\n                                if (obj.mixins) {\n                                    require(obj.mixins, function () { //eslint-disable-line max-nested-callbacks\n                                        var i, len;\n\n                                        for (i = 0, len = arguments.length; i < len; i++) {\n                                            $.extend(\n                                                true,\n                                                itemContainer.data[key],\n                                                arguments[i](itemContainer.data[key], element)\n                                            );\n                                        }\n\n                                        delete obj.mixins;\n                                        init.call(null, element, obj, key);\n                                    });\n                                } else {\n                                    init.call(null, element, obj, key);\n                                }\n                            }\n\n                        }\n                    );\n\n                });\n        },\n        applyFor: init\n    };\n});\n","Magezon_Builder/js/modal/element.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/form.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller, \n\t\t\tmodal,\n\t\t\tform,\n\t\t\tmagezonBuilderForm,\n\t\t\tmagezonBuilderFilter\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\tvar self     = this;\n\t\t\tvar element  = form.element;\n\t\t\tvar builder  = form.element.builder;\n\t\t\t$scope.title = element.builder.name;\n\t\t\tself.model   = angular.copy(form.element);\n\t\t\tself.element = form.element;\n\n\t\t\t$scope.$emit('enableModalSpinner');\n\t\t\tmagezonBuilderForm.getForm('elements.' + element.type, function(tabs, result) {\n\t\t\t\tangular.forEach(tabs[0]['templateOptions']['children'], function(tab, index) {\n\t\t\t\t\tif (!tab.fieldGroup) {\n\t\t\t\t\t\tdelete tabs[0]['templateOptions']['children'][index];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\ttabs[0]['templateOptions']['children'] = tabs[0]['templateOptions']['children'].filter(function(){return true;});\n\t\t\t\tself.tabs = tabs;\n\t\t\t\t$scope.activeTab();\n\t\t\t\tbuilder.fields = result.fields;\n\t\t\t\t$scope.spinner = false;\n\t\t\t\t$scope.$emit('disableModalSpinner');\n\t\t\t});\n\n\t\t\t$scope.activeTab = function() {\n\t\t\t\tvar activeIndex = 0;\n\t\t\t\tif (form.activeTab) {\n\t\t\t\t\tangular.forEach(self.tabs[0]['templateOptions']['children'], function(tab, index) {\n\t\t\t\t\t\tif (tab.templateOptions.elementId == form.activeTab) {\n\t\t\t\t\t\t\tactiveIndex = index;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tself.tabs[0]['templateOptions']['activeTab'] = activeIndex;\n\t\t\t\t} else {\n\t\t\t\t\tself.tabs[0]['templateOptions']['activeTab'] = activeIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.onSubmit = function() {\n\t\t\t\tvar excludeFields = ['builder', 'elements'];\n\t\t\t\tvar newData = self.model;\n\t\t\t\tangular.forEach(newData, function(value, key) {\n\t\t\t\t\tif ($.inArray(key, excludeFields)===-1) {\n\t\t\t\t\t\tif (angular.isString(value)) {\n\t\t\t\t\t\t\tvalue = magezonBuilderFilter.processContent(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telement[key] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$uibModalInstance.close(element);\n\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\ttype: 'edited',\n\t\t\t\t\ttitle: element.builder.name\n\t\t\t\t});\n\t\t\t\t$rootScope.$broadcast('editedElement', element);\n\t\t    }\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/navigator.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/navigator.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller,\n\t\t\tform, \n\t\t\tmodal\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\t$scope.listVisible = $rootScope.builderConfig.navigatorListVisible;\n\t\t\t$scope.expandAll = function() {\n\t\t\t\t$scope.listVisible = !$scope.listVisible;\n\t\t\t\t$rootScope.builderConfig.navigatorListVisible = $scope.listVisible;\n\t\t\t\tvar parents = {};\n\t\t\t\tvar activeListControl = function(elements, status) {\n\t\t\t\t\tangular.forEach(elements, function(element) {\n\t\t\t\t\t\telement.builder.navigator.listVisible = status;\n\t\t\t\t\t\tif (element.elements) {\n\t\t\t\t\t\t\tactiveListControl(element.elements, status);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tactiveListControl($scope.profile.elements, $scope.listVisible);\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/form.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/form.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller,\n\t\t\tform,\n\t\t\tmodal,\n\t\t\tmagezonBuilderForm\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\tthis.model = form.model;\n\t\t\tvar self = this;\n\n\t\t\t$scope.$emit('enableModalSpinner');\n\t\t\tmagezonBuilderForm.getForm('modals.' + modal.key, function(tabs) {\n\t\t\t\tself.tabs = tabs;\n\t\t\t\t$scope.$emit('disableModalSpinner');\n\t\t\t});\n\n\t\t\tself.onSubmit = function() {\n\t\t\t\t$rootScope.$broadcast('modal_' + modal.key + '_saved');\n\t\t\t\t$uibModalInstance.close(self.model);\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/profileShortcode.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/form.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller, \n\t\t\t$timeout,\n\t\t\tform,\n\t\t\tmodal,\n\t\t\tprofileManager,\n\t\t\tmagezonBuilderForm,\n\t\t\telementManager\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\tvar self = this;\n\t\t\tvar elements = angular.toJson(profileManager.getJsonElements());\n\t\t\tself.model = {\n\t\t\t\tshortcode: elements == '[]' ? '' : elements\n\t\t\t};\n\n\t\t\t$scope.$emit('enableModalSpinner');\n\t\t\tmagezonBuilderForm.getForm('modals.profileShortcode', function(tabs) {\n\t\t\t\tself.tabs = tabs;\n\t\t\t\t$scope.$emit('disableModalSpinner');\n\t\t\t});\n\n\t\t\tself.onSubmit = function() {\n\t\t\t\ttry {\n\t\t\t\t\tvar shortcode = self.model.shortcode ? self.model.shortcode : [];\n\t\t\t\t\tvar elements = elementManager.prepareElements(angular.fromJson(shortcode));\n\t\t\t\t\tprofileManager.updateElements(elements);\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t\t\t\t}, 100);\n\t\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\t\ttype: 'edited',\n\t\t\t\t\t\ttitle: 'Profile Shortcode'\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\talert('Invalid JSON string');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/elements.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/elements.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller, \n\t\t\tform,\n\t\t\tmodal,\n\t\t\telementManager,\n\t\t\tmagezonBuilderModal\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\tvar self = this;\n\t\t\tself.allTab = {\n\t\t\t\tname: 'All',\n\t\t\t\ttype: 'all',\n\t\t\t\telements: _.filter(elementManager.elements, function(element) {\n\t\t\t\t\treturn elementManager.isVisibleElement(element);\n\t\t\t\t})\n\t\t\t};\n\n\t\t\tself.search         = '';\n\t\t\tself.searchElements = [];\n\t\t\tself.model          = {};\n\t\t\tself.tabs           = {};\n\t\t\tself.tabs['all']    = angular.copy(self.allTab);\n\n\t\t\t_.each(elementManager.groups, function(group) {\n\t\t\t\tgroup['elements'] = _.filter(self.allTab.elements, function(element) {\n\t\t\t\t\treturn element.group == group.type;\n\t\t\t\t});\n\t\t\t\tif (group.elements.length) self.tabs[group.type] = group;\n\t\t\t});\n\n\t\t\tself.clearSearch = function() {\n\t\t\t\tself.search         = '';\n\t\t\t\tself.searchElements = [];\n\t\t\t\tself.tabs['all']    = angular.copy(self.allTab);\n\t\t\t}\n\n\t\t\tself.activeTab = function(tab) {\n\t\t\t\tself.clearSearch();\n\t\t\t}\n\n\t\t\tself.addElement = function(element) {\n\t\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t\t\t$rootScope.$broadcast('addNewElment', {\n\t\t\t\t\telem: magezonBuilderModal.getElement(),\n\t\t\t\t\ttype: element.type,\n\t\t\t\t\taction: magezonBuilderModal.getAction(),\n\t\t\t\t\topenModal: magezonBuilderModal.getOpenModal(),\n\t\t\t\t\tdata: magezonBuilderModal.getData()\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/history.js":"define([\n\t'jquery',\n\t'angular',\n\t'moment'\n], function($, angular, moment) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/history.html',\n\t\tcontroller: function(\n\t\t\t$scope, \n\t\t\t$uibModalInstance,\n\t\t\t$controller, \n\t\t\tform,\n\t\t\tmodal,\n\t\t\thistoryManager\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\t$scope.previewItem = function(item) {\n\t\t\t\thistoryManager.previewItem(item);\n\t\t\t}\n\n\t\t\t$scope.applyItem = function(item) {\n\t\t\t\thistoryManager.applyItem(item);\n\t\t\t}\n\n\t\t\t$scope.getDateTime = function(item) {\n\t\t\t\treturn moment(item.time).fromNow();\n\t\t\t}\n\n\t\t\t$scope.getDateTimeTitle = function(item) {\n\t\t\t\treturn moment(item.time).format('MM/DD/YYYY HH:mm:s');\n\t\t\t}\n\n\t\t\tvar timer;\n\t\t\tsetTimeout(function() {\n\t\t\t\ttimer = setInterval(function() {\n\t\t\t\t\t$scope.$apply();\n\t\t\t\t}, 1000);\n\t\t\t}, 10000);\n\n\t\t\t$scope.$on('$destroy', function() {\n\t\t\t\tif (timer) {\n\t\t\t\t\tclearInterval(timer);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/clearLayout.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/clear-layout.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller,\n\t\t\tform, \n\t\t\tmodal\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\tvar self = this;\n\n\t\t\tself.onSubmit = function() {\n\t\t\t\t$rootScope.profile.elements = [];\n\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\ttype: 'cleared_layout'\n\t\t\t\t});\n\t\t\t\t$uibModalInstance.close(self.model);\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/settings.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/form.html',\n\t\tcontroller: function(\n\t\t\t$rootScope, \n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller, \n\t\t\tform,\n\t\t\tmodal,\n\t\t\tmagezonBuilderForm\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\n\t\t\tvar self = this;\n\n\t\t\t$scope.$emit('enableModalSpinner');\n\t\t\tmagezonBuilderForm.getForm('modals.settings', function(tabs) {\n\t\t\t\tself.tabs = tabs;\n\t\t\t\tself.model = angular.copy($rootScope.profile);\n\t\t\t\t$scope.$emit('disableModalSpinner');\n\t\t\t});\n\n\t\t\tself.onSubmit = function() {\n\t\t\t\tangular.merge($rootScope.profile, self.model);\n\t\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t\t\t$uibModalInstance.close(self.model);\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/templates.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateUrl: 'Magezon_Builder/js/templates/modal/form.html',\n\t\tcontroller: function(\n\t\t\t$scope, \n\t\t\t$uibModalInstance, \n\t\t\t$controller,\n\t\t\tform, \n\t\t\tmodal,\n\t\t\tmagezonBuilderForm\n\t\t) {\n\t\t\tvar parent = $controller('modalBaseController', {$scope: $scope, $uibModalInstance: $uibModalInstance, modal: modal, form: form});\n\t\t\tangular.extend(this, parent);\n\t\t\t\n\t\t\tvar self = this;\n\n\t\t\t$scope.$emit('enableModalSpinner');\n\t\t\tmagezonBuilderForm.getForm('modals.templates', function(tabs) {\n\t\t\t\tself.tabs = tabs;\n\t\t\t\t$scope.$emit('disableModalSpinner');\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/modal/button/save.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/button/save.html');\n\t\t\t},\n\t\t\tcontroller: function($scope) {\n\t\t\t\t$scope.disabled = false;\n\n\t\t\t\t$scope.$on('disableSaveBtn', function() {\n\t\t\t\t\t$scope.disabled = true;\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('enableSaveBtn', function() {\n\t\t\t\t\t$scope.disabled = false;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modal/button/replace.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/button/replace.html');\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, elementManager) {\n\n\t\t\t\t$scope.replace = function() {\n\t\t\t\t\t$rootScope.$broadcast('addElement', {elem: $scope.$parent.mgz.element, action: 'replace' });\n\t\t\t\t}\n\n\t\t\t\t$scope.canReplace = function() {\n\t\t\t\t\treturn elementManager.canReplace($scope.$parent.mgz.element);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modal/button/minimize.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/button/minimize.html');\n\t\t\t},\n\t\t\tcontroller: function($scope) {\n\t\t\t\t$scope.minimized = false;\n\t\t\t\t$scope.minimize = function() {\n\t\t\t\t\tvar modalSelector = $scope.$parent.mgz.getModalSelector();\n\t\t\t\t\tvar headerHeight  = $scope.$parent.mgz.getHeaderHeight();\n\t\t\t\t\tmodalSelector.stop();\n\t\t\t\t\tif ($scope.minimized) {\n\t\t\t\t\t\tvar height = parseFloat(modalSelector.css('max-height'));\n\t\t\t\t\t\tif (height) {\n\t\t\t\t\t\t\tmodalSelector.animate({\"height\": height}, \"medium\", function() {\n\t\t\t\t\t\t\t\tmodalSelector.css('height', '');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmodalSelector.css('height', '');\n\t\t\t\t\t\t\t$scope.$parent.mgz.resizeInner();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmodalSelector.removeClass('mgz-minimized');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmodalSelector.animate({\"height\": headerHeight}, \"medium\");\n\t\t\t\t\t\tmodalSelector.addClass('mgz-minimized');\n\t\t\t\t\t}\n\t\t\t\t\t$scope.minimized = !$scope.minimized;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modal/button/navigator_toggle.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/button/navigator_toggle.html');\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\t\t\t\t$scope.listVisible = $rootScope.builderConfig.navigatorListVisible;\n\t\t\t\t$scope.toggle = function() {\n\t\t\t\t\t$scope.listVisible = !$scope.listVisible;\n\t\t\t\t\t$rootScope.builderConfig.navigatorListVisible = $scope.listVisible;\n\t\t\t\t\tvar parents = {};\n\t\t\t\t\tvar activeListControl = function(elements, status) {\n\t\t\t\t\t\tangular.forEach(elements, function(element) {\n\t\t\t\t\t\t\telement.builder.navigator.listVisible = status;\n\t\t\t\t\t\t\tif (element.elements) {\n\t\t\t\t\t\t\t\tactiveListControl(element.elements, status);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tactiveListControl($rootScope.profile.elements, $scope.listVisible);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modal/block/title.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/block/title.html');\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\t\t\t\tvar loaded = false;\n\t\t\t\t$scope.title    = $scope.$parent.title;\n\t\t\t\t$scope.subtitle = $scope.$parent.subtitle;\n\t\t\t\t$scope.$watch('title', function(title) {\n\t\t\t\t\tif (loaded) {\n\t\t\t\t\t\t$scope.$parent.mgz.element.builder.name = title;\n\t\t\t\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t\t\t\t}\n\t\t\t\t\tloaded = true;\n\t\t\t\t});\n\t\t\t},\n\t\t\tlink: function(scope, element) {\n\t\t\t\tif (scope.$parent.mgz.element) {\n\t\t\t\t\telement.find('.mgz-icon-edit').click(function(event) {\n\t\t\t\t\t\tvar span = element.find('.mgz-modal-title-inner');\n\t\t\t\t\t\tvar t = document.createRange();\n\t\t\t\t\t\tvar i = window.getSelection();\n\t\t\t\t\t\tt.selectNodeContents(span[0]);\n\t\t\t\t\t\ti.removeAllRanges();\n\t\t\t\t\t\ti.addRange(t);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\telement.find('span').eq(0).removeAttr('contenteditable').removeClass('mgz-contenteditable-element');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modal/block/elements_search.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/block/elements_search.html');\n\t\t\t},\n\t\t\tcontroller: function($scope) {\n\t\t\t\tvar $parent = $scope.$parent;\n\n\t\t\t\t$scope.filterElements = function() {\n\t\t\t\t\tvar q = $parent.mgz.search;\n\t\t\t\t\t$parent.mgz.active = 0;\n\t\t\t\t\t$parent.mgz.tabs['all']['elements'] = _.filter(angular.copy($parent.mgz.allTab.elements), function(element) {\n\t\t\t\t\t\tvar description = element.description;\n\t\t\t\t\t\tvar search = element.search;\n\t\t\t\t\t\tvar group = element.group;\n\t\t\t\t\t\treturn (element.name.toLowerCase().indexOf(q.toLowerCase()) !== -1) \n\t\t\t\t\t\t|| (description && description.toLowerCase().indexOf(q.toLowerCase()) !== -1) \n\t\t\t\t\t\t|| (search && search.toLowerCase().indexOf(q.toLowerCase()) !== -1\n\t\t\t\t\t\t|| (group && group.toLowerCase().indexOf(q.toLowerCase()) !== -1))\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t$scope.clearSearch = function() {\n\t\t\t\t\t$('.mgz-elements-filter').trigger('focus');\n\t\t\t\t\t$parent.mgz.clearSearch();\n\t\t\t\t}\n\t\t\t\t$('.mgz-elements-filter').trigger('focus');\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/waypoints/jquery.waypoints.min.js":"/*!\nWaypoints - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(o){if(!o)throw new Error(\"No options passed to Waypoint constructor\");if(!o.element)throw new Error(\"No element option passed to Waypoint constructor\");if(!o.handler)throw new Error(\"No handler option passed to Waypoint constructor\");this.key=\"waypoint-\"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?\"horizontal\":\"vertical\",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll(\"destroy\")},t.disableAll=function(){t.invokeAll(\"disable\")},t.enableAll=function(){t.Context.refreshAll();for(var e in i)i[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:\"default\",horizontal:!1,offset:0},t.offsetAliases={\"bottom-in-view\":function(){return this.context.innerHeight()-this.adapter.outerHeight()},\"right-in-view\":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){\"use strict\";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key=\"waypoint-context-\"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,n.windowContext||(n.windowContext=!0,n.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?\"horizontal\":\"vertical\";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(\".waypoints\"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on(\"resize.waypoints\",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on(\"scroll.waypoints\",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s];if(null!==a.triggerPoint){var l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\",offsetProp:\"left\"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\",offsetProp:\"top\"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var l,h,p,u,c,d=this.waypoints[r][a],f=d.options.offset,w=d.triggerPoint,y=0,g=null==w;d.element!==d.element.window&&(y=d.adapter.offset()[s.offsetProp]),\"function\"==typeof f?f=f.apply(d):\"string\"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf(\"%\")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,d.triggerPoint=Math.floor(y+l-f),h=w<s.oldScroll,p=d.triggerPoint>=s.oldScroll,u=h&&p,c=!h&&!p,!g&&u?(d.queueTrigger(s.backward),o[d.group.id]=d.group):!g&&c?(d.queueTrigger(s.forward),o[d.group.id]=d.group):g&&s.oldScroll>=d.triggerPoint&&(d.queueTrigger(s.forward),o[d.group.id]=d.group)}}return n.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){\"use strict\";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+\"-\"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n=\"up\"===i||\"left\"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){\"use strict\";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each([\"innerHeight\",\"innerWidth\",\"off\",\"offset\",\"on\",\"outerHeight\",\"outerWidth\",\"scrollLeft\",\"scrollTop\"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each([\"extend\",\"inArray\",\"isEmptyObject\"],function(i,o){t[o]=e[o]}),i.adapters.push({name:\"jquery\",Adapter:t}),i.Adapter=t}(),function(){\"use strict\";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});\"string\"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();","Magezon_Builder/js/waypoints/zepto.waypoints.min.js":"/*!\nWaypoints - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(o){if(!o)throw new Error(\"No options passed to Waypoint constructor\");if(!o.element)throw new Error(\"No element option passed to Waypoint constructor\");if(!o.handler)throw new Error(\"No handler option passed to Waypoint constructor\");this.key=\"waypoint-\"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?\"horizontal\":\"vertical\",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll(\"destroy\")},t.disableAll=function(){t.invokeAll(\"disable\")},t.enableAll=function(){t.Context.refreshAll();for(var e in i)i[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:\"default\",horizontal:!1,offset:0},t.offsetAliases={\"bottom-in-view\":function(){return this.context.innerHeight()-this.adapter.outerHeight()},\"right-in-view\":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){\"use strict\";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key=\"waypoint-context-\"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,n.windowContext||(n.windowContext=!0,n.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?\"horizontal\":\"vertical\";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(\".waypoints\"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on(\"resize.waypoints\",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on(\"scroll.waypoints\",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s];if(null!==a.triggerPoint){var l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\",offsetProp:\"left\"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\",offsetProp:\"top\"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var l,h,p,u,c,d=this.waypoints[r][a],f=d.options.offset,w=d.triggerPoint,y=0,g=null==w;d.element!==d.element.window&&(y=d.adapter.offset()[s.offsetProp]),\"function\"==typeof f?f=f.apply(d):\"string\"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf(\"%\")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,d.triggerPoint=Math.floor(y+l-f),h=w<s.oldScroll,p=d.triggerPoint>=s.oldScroll,u=h&&p,c=!h&&!p,!g&&u?(d.queueTrigger(s.backward),o[d.group.id]=d.group):!g&&c?(d.queueTrigger(s.forward),o[d.group.id]=d.group):g&&s.oldScroll>=d.triggerPoint&&(d.queueTrigger(s.forward),o[d.group.id]=d.group)}}return n.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){\"use strict\";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+\"-\"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n=\"up\"===i||\"left\"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){\"use strict\";function t(t){this.element=t,this.$element=e(t)}var e=window.Zepto,i=window.Waypoint;e.each([\"off\",\"on\",\"scrollLeft\",\"scrollTop\"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),t.prototype.offset=function(){return this.element!==this.element.window?this.$element.offset():void 0},e.each([\"width\",\"height\"],function(i,o){function n(t,i){return function(t){var n=this.$element,r=n[o](),s={width:[\"left\",\"right\"],height:[\"top\",\"bottom\"]};return e.each(s[o],function(e,o){r+=parseInt(n.css(\"padding-\"+o),10),i&&(r+=parseInt(n.css(\"border-\"+o+\"-width\"),10)),t&&(r+=parseInt(n.css(\"margin-\"+o),10))}),r}}var r=e.camelCase(\"inner-\"+o),s=e.camelCase(\"outer-\"+o);t.prototype[r]=n(!1),t.prototype[s]=n(!0)}),e.each([\"extend\",\"inArray\"],function(i,o){t[o]=e[o]}),t.isEmptyObject=function(t){for(var e in t)return!1;return!0},i.adapters.push({name:\"zepto\",Adapter:t}),i.Adapter=t}(),function(){\"use strict\";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});\"string\"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();","Magezon_Builder/js/waypoints/waypoints.debug.js":"/*!\nWaypoints Debug - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n(function() {\n  'use strict'\n\n  var displayNoneMessage = [\n    'You have a Waypoint element with display none. For more information on ',\n    'why this is a bad idea read ',\n    'http://imakewebthings.com/waypoints/guides/debugging/#display-none'\n  ].join('')\n  var fixedMessage = [\n    'You have a Waypoint element with fixed positioning. For more ',\n    'information on why this is a bad idea read ',\n    'http://imakewebthings.com/waypoints/guides/debugging/#fixed-position'\n  ].join('')\n\n  function checkWaypointStyles() {\n    var originalRefresh = window.Waypoint.Context.prototype.refresh\n\n    window.Waypoint.Context.prototype.refresh = function() {\n      for (var axis in this.waypoints) {\n        for (var key in this.waypoints[axis]) {\n          var waypoint = this.waypoints[axis][key]\n          var style = window.getComputedStyle(waypoint.element)\n          if (!waypoint.enabled) {\n            continue\n          }\n          if (style && style.display === 'none') {\n            console.error(displayNoneMessage)\n          }\n          if (style && style.position === 'fixed') {\n            console.error(fixedMessage)\n          }\n        }\n      }\n      return originalRefresh.call(this)\n    }\n  }\n\n  checkWaypointStyles()\n}())\n;","Magezon_Builder/js/waypoints/noframework.waypoints.min.js":"/*!\nWaypoints - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(n){if(!n)throw new Error(\"No options passed to Waypoint constructor\");if(!n.element)throw new Error(\"No element option passed to Waypoint constructor\");if(!n.handler)throw new Error(\"No handler option passed to Waypoint constructor\");this.key=\"waypoint-\"+e,this.options=t.Adapter.extend({},t.defaults,n),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?\"horizontal\":\"vertical\",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var n in i)e.push(i[n]);for(var o=0,r=e.length;r>o;o++)e[o][t]()},t.destroyAll=function(){t.invokeAll(\"destroy\")},t.disableAll=function(){t.invokeAll(\"disable\")},t.enableAll=function(){t.Context.refreshAll();for(var e in i)i[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:\"default\",horizontal:!1,offset:0},t.offsetAliases={\"bottom-in-view\":function(){return this.context.innerHeight()-this.adapter.outerHeight()},\"right-in-view\":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){\"use strict\";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=o.Adapter,this.adapter=new this.Adapter(t),this.key=\"waypoint-context-\"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,i+=1,o.windowContext||(o.windowContext=!0,o.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},o=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?\"horizontal\":\"vertical\";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(\".waypoints\"),delete n[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on(\"resize.waypoints\",function(){e.didResize||(e.didResize=!0,o.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on(\"scroll.waypoints\",function(){(!e.didScroll||o.isTouch)&&(e.didScroll=!0,o.requestAnimationFrame(t))})},e.prototype.handleResize=function(){o.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\"}};for(var i in e){var n=e[i],o=n.newScroll>n.oldScroll,r=o?n.forward:n.backward;for(var s in this.waypoints[i]){var l=this.waypoints[i][s];if(null!==l.triggerPoint){var a=n.oldScroll<l.triggerPoint,h=n.newScroll>=l.triggerPoint,p=a&&h,u=!a&&!h;(p||u)&&(l.queueTrigger(r),t[l.group.id]=l.group)}}}for(var d in t)t[d].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?o.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?o.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var n=0,o=t.length;o>n;n++)t[n].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),n={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\",offsetProp:\"left\"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\",offsetProp:\"top\"}};for(var r in t){var s=t[r];for(var l in this.waypoints[r]){var a,h,p,u,d,f=this.waypoints[r][l],c=f.options.offset,w=f.triggerPoint,y=0,g=null==w;f.element!==f.element.window&&(y=f.adapter.offset()[s.offsetProp]),\"function\"==typeof c?c=c.apply(f):\"string\"==typeof c&&(c=parseFloat(c),f.options.offset.indexOf(\"%\")>-1&&(c=Math.ceil(s.contextDimension*c/100))),a=s.contextScroll-s.contextOffset,f.triggerPoint=Math.floor(y+a-c),h=w<s.oldScroll,p=f.triggerPoint>=s.oldScroll,u=h&&p,d=!h&&!p,!g&&u?(f.queueTrigger(s.backward),n[f.group.id]=f.group):!g&&d?(f.queueTrigger(s.forward),n[f.group.id]=f.group):g&&s.oldScroll>=f.triggerPoint&&(f.queueTrigger(s.forward),n[f.group.id]=f.group)}}return o.requestAnimationFrame(function(){for(var t in n)n[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in n)n[t].refresh()},e.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},o.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},o.Context=e}(),function(){\"use strict\";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+\"-\"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},o=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],o=\"up\"===i||\"left\"===i;n.sort(o?e:t);for(var r=0,s=n.length;s>r;r+=1){var l=n[r];(l.options.continuous||r===n.length-1)&&l.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints),n=i===this.waypoints.length-1;return n?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=o.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return n[t.axis][t.name]||new i(t)},o.Group=i}(),function(){\"use strict\";function t(t){return t===t.window}function e(e){return t(e)?e:e.defaultView}function i(t){this.element=t,this.handlers={}}var n=window.Waypoint;i.prototype.innerHeight=function(){var e=t(this.element);return e?this.element.innerHeight:this.element.clientHeight},i.prototype.innerWidth=function(){var e=t(this.element);return e?this.element.innerWidth:this.element.clientWidth},i.prototype.off=function(t,e){function i(t,e,i){for(var n=0,o=e.length-1;o>n;n++){var r=e[n];i&&i!==r||t.removeEventListener(r)}}var n=t.split(\".\"),o=n[0],r=n[1],s=this.element;if(r&&this.handlers[r]&&o)i(s,this.handlers[r][o],e),this.handlers[r][o]=[];else if(o)for(var l in this.handlers)i(s,this.handlers[l][o]||[],e),this.handlers[l][o]=[];else if(r&&this.handlers[r]){for(var a in this.handlers[r])i(s,this.handlers[r][a],e);this.handlers[r]={}}},i.prototype.offset=function(){if(!this.element.ownerDocument)return null;var t=this.element.ownerDocument.documentElement,i=e(this.element.ownerDocument),n={top:0,left:0};return this.element.getBoundingClientRect&&(n=this.element.getBoundingClientRect()),{top:n.top+i.pageYOffset-t.clientTop,left:n.left+i.pageXOffset-t.clientLeft}},i.prototype.on=function(t,e){var i=t.split(\".\"),n=i[0],o=i[1]||\"__default\",r=this.handlers[o]=this.handlers[o]||{},s=r[n]=r[n]||[];s.push(e),this.element.addEventListener(n,e)},i.prototype.outerHeight=function(e){var i,n=this.innerHeight();return e&&!t(this.element)&&(i=window.getComputedStyle(this.element),n+=parseInt(i.marginTop,10),n+=parseInt(i.marginBottom,10)),n},i.prototype.outerWidth=function(e){var i,n=this.innerWidth();return e&&!t(this.element)&&(i=window.getComputedStyle(this.element),n+=parseInt(i.marginLeft,10),n+=parseInt(i.marginRight,10)),n},i.prototype.scrollLeft=function(){var t=e(this.element);return t?t.pageXOffset:this.element.scrollLeft},i.prototype.scrollTop=function(){var t=e(this.element);return t?t.pageYOffset:this.element.scrollTop},i.extend=function(){function t(t,e){if(\"object\"==typeof t&&\"object\"==typeof e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}for(var e=Array.prototype.slice.call(arguments),i=1,n=e.length;n>i;i++)t(e[0],e[i]);return e[0]},i.inArray=function(t,e,i){return null==e?-1:e.indexOf(t,i)},i.isEmptyObject=function(t){for(var e in t)return!1;return!0},n.adapters.push({name:\"noframework\",Adapter:i}),n.Adapter=i}();","Magezon_Builder/js/waypoints/shortcuts/sticky.min.js":"/*!\nWaypoints Sticky Element Shortcut - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(s){this.options=e.extend({},i.defaults,t.defaults,s),this.element=this.options.element,this.$element=e(this.element),this.createWrapper(),this.createWaypoint()}var e=window.jQuery,i=window.Waypoint;t.prototype.createWaypoint=function(){var t=this.options.handler;this.waypoint=new i(e.extend({},this.options,{element:this.wrapper,handler:e.proxy(function(e){var i=this.options.direction.indexOf(e)>-1,s=i?this.$element.outerHeight(!0):\"\";this.$wrapper.height(s),this.$element.toggleClass(this.options.stuckClass,i),t&&t.call(this,e)},this)}))},t.prototype.createWrapper=function(){this.options.wrapper&&this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]},t.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass),this.options.wrapper&&this.$element.unwrap())},t.defaults={wrapper:'<div class=\"sticky-wrapper\" />',stuckClass:\"stuck\",direction:\"down right\"},i.Sticky=t}();","Magezon_Builder/js/waypoints/shortcuts/inview.min.js":"/*!\nWaypoints Inview Shortcut - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(){}function e(t){this.options=i.Adapter.extend({},e.defaults,t),this.axis=this.options.horizontal?\"horizontal\":\"vertical\",this.waypoints=[],this.element=this.options.element,this.createWaypoints()}var i=window.Waypoint;e.prototype.createWaypoints=function(){for(var t={vertical:[{down:\"enter\",up:\"exited\",offset:\"100%\"},{down:\"entered\",up:\"exit\",offset:\"bottom-in-view\"},{down:\"exit\",up:\"entered\",offset:0},{down:\"exited\",up:\"enter\",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:\"enter\",left:\"exited\",offset:\"100%\"},{right:\"entered\",left:\"exit\",offset:\"right-in-view\"},{right:\"exit\",left:\"entered\",offset:0},{right:\"exited\",left:\"enter\",offset:function(){return-this.adapter.outerWidth()}}]},e=0,i=t[this.axis].length;i>e;e++){var n=t[this.axis][e];this.createWaypoint(n)}},e.prototype.createWaypoint=function(t){var e=this;this.waypoints.push(new i({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:function(t){return function(i){e.options[t[i]].call(e,i)}}(t),offset:t.offset,horizontal:this.options.horizontal}))},e.prototype.destroy=function(){for(var t=0,e=this.waypoints.length;e>t;t++)this.waypoints[t].destroy();this.waypoints=[]},e.prototype.disable=function(){for(var t=0,e=this.waypoints.length;e>t;t++)this.waypoints[t].disable()},e.prototype.enable=function(){for(var t=0,e=this.waypoints.length;e>t;t++)this.waypoints[t].enable()},e.defaults={context:window,enabled:!0,enter:t,entered:t,exit:t,exited:t},i.Inview=e}();","Magezon_Builder/js/waypoints/shortcuts/infinite.min.js":"/*!\nWaypoints Infinite Scroll Shortcut - 4.0.1\nCopyright \u00a9 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(n){this.options=i.extend({},t.defaults,n),this.container=this.options.element,\"auto\"!==this.options.container&&(this.container=this.options.container),this.$container=i(this.container),this.$more=i(this.options.more),this.$more.length&&(this.setupHandler(),this.waypoint=new o(this.options))}var i=window.jQuery,o=window.Waypoint;t.prototype.setupHandler=function(){this.options.handler=i.proxy(function(){this.options.onBeforePageLoad(),this.destroy(),this.$container.addClass(this.options.loadingClass),i.get(i(this.options.more).attr(\"href\"),i.proxy(function(t){var n=i(i.parseHTML(t)),e=n.find(this.options.more),s=n.find(this.options.items);s.length||(s=n.filter(this.options.items)),this.$container.append(s),this.$container.removeClass(this.options.loadingClass),e.length||(e=n.filter(this.options.more)),e.length?(this.$more.replaceWith(e),this.$more=e,this.waypoint=new o(this.options)):this.$more.remove(),this.options.onAfterPageLoad(s)},this))},this)},t.prototype.destroy=function(){this.waypoint&&this.waypoint.destroy()},t.defaults={container:\"auto\",items:\".infinite-item\",more:\".infinite-more-link\",offset:\"bottom-in-view\",loadingClass:\"infinite-loading\",onBeforePageLoad:i.noop,onAfterPageLoad:i.noop},o.Infinite=t}();","Magezon_Builder/js/navigator/element/base.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/navigator/element/default.html');\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\n\t\t\t\tthis.getWrapperClasses = function() {\n\t\t\t\t\tvar element = $scope.element;\n\t\t\t\t\tvar classes = [];\n\t\t\t\t\tclasses.push('mgz-navigator-element');\n\t\t\t\t\tclasses.push('mgz-navigator-element-' + element.id);\n\t\t\t\t\tif (element.disable_element) classes.push('mgz-element-disabled');\n\t\t\t\t\tif (element.builder.actived) classes.push('mgz-element-actived');\n\t\t\t\t\tif (element.hidden_default) classes.push('mgz-element-hide-default');\n\t\t\t\t\tif (element.disable_element) classes.push('mgz-element-disabled');\n\t\t\t\t\treturn classes;\n\t\t\t\t}\n\n\t\t\t\tthis.getStype = function() {\n\t\t\t\t\tvar level = self.getParents().length;\n\t\t\t\t\tvar paddingLeft = ((level + 1) * 1.6) + 'rem';\n\t\t\t\t\tif (!$scope.element.builder.is_collection) {\n\t\t\t\t\t\tpaddingLeft = ((level + 1) * 1.8) + 'rem';\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\t'padding-left': paddingLeft\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.toggleElementList = function() {\n\t\t\t\t\t$scope.element.builder.navigator.listVisible = !$scope.element.builder.navigator.listVisible;\n\t\t\t\t}\n\n\t\t\t\t$scope.$on('addNewElment', function(event, item) {\n\t\t\t\t\tif ((item.action == 'before' || item.action == 'after' || item.action == 'replace')) {\n\t\t\t\t\t\tif ($scope.isChildren(item.elem)) {\n\t\t\t\t\t\t\t$scope.listVisible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (item.action == 'append' && item.elem.id == $scope.element.id) {\n\t\t\t\t\t\t$scope.listVisible = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar loaded = false;\n\t\t\t\t$scope.$watch('element.builder.name', function(name) {\n\t\t\t\t\tif (loaded) {\n\t\t\t\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t\t\t\t}\n\t\t\t\t\tloaded = true;\n\t\t\t\t});\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/controllers/toolbar.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar baseCtrl = function(\n\t\t$scope,\n\t\t$timeout\n\t) {\n\t\tvar self = this;\n\t\t$scope.headingTypes = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\t\t$scope.alignTypes   = ['left', 'center', 'right'];\n\n\t\t$scope.colorPickerConfig = {\n\t\t\tappendTo: \"parent\"\n\t\t}\n\n\t\t$scope.changeToolbar = function(e, value, key) {\n\t\t\tif (angular.isFunction($scope.updatedkey)) {\n\t\t\t\t$scope.updatedkey(key, value);\n\t\t\t}\n\t\t\t$('.' + $scope.element.id).find('.mgz-contenteditable-element').trigger('focus');\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\t$scope.outsideClick = function() {\n\t\t\t$scope.element.builder.editing = false;\n\t\t}\n\t\t\n\t\treturn angular.copy(this);\n\t};\n\n\treturn baseCtrl;\n});","Magezon_Builder/js/controllers/list.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar listCtrl = function(\n\t\t$scope,\n\t\t$rootScope,\n\t\tmagezonBuilderService,\n\t\telementManager,\n\t\t$sce,\n\t\t$controller,\n\t\t$timeout,\n\t\tmagezonBuilderUrl\n\t) {\n\n\tvar parent = $controller('baseController', {$scope: $scope});\n\tangular.extend(this, parent);\n\n\tvar self = this;\n\n\tself.getElemName = function(type) {\n        if (!$.isArray($scope.elementCache[type])) {\n            $scope.elementCache[type] = [];\n        }\n\n        var elemName = type + '-' + $scope.getRandomInt();\n        elemName = elemName.replace('bfb_', '');\n\n        while (($.inArray(elemName, $scope.elementCache[type]) !== -1)) {\n            elemName = type + '-' + $scope.getRandomInt();\n        }\n        $scope.elementCache[type].push(elemName);\n\n        return elemName;\n    }\n\n\t// ADD\n\tself.addElement = function(type, parent, openModal, data, index, replace) {\n\t\tvar builderElement = self.getBuilderElement(type);\n\t\tvar elem = elementManager.getNewElement(type);\n\t\tif (data) elem = angular.extend(elem, data);\n\n\t\tif (builderElement.children) {\n\t\t\tvar childrenCount = builderElement.childrenCount ? builderElement.childrenCount : 1;\n\t\t\tfor (var i = 0; i < childrenCount; i++) {\n\t\t\t\tvar newElement = self.addElement(builderElement.children, elem, false);\n\t\t\t\tif (newElement && newElement.hasOwnProperty('title')) {\n\t\t\t\t\tnewElement['title'] = newElement['title'] + ' ' + (i+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (parent) {\n\t\t\tif (_.isNumber(index)) {\n\t\t\t\tif (replace) {\n\t\t\t\t\tparent.elements.splice(index, 1, elem);\n\t\t\t\t} else {\n\t\t\t\t\tparent.elements.splice(index, 0, elem);\t\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tparent.elements.push(elem);\t\n\t\t\t}\n\t\t} else {\n\t\t\tif (_.isNumber(index)) {\n\t\t\t\tif (replace) {\n\t\t\t\t\t$scope.element.elements.splice(index, 1, elem);\n\t\t\t\t} else {\n\t\t\t\t\t$scope.element.elements.splice(index, 0, elem);\t\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$scope.element.elements.push(elem);\t\n\t\t\t}\n\t\t}\n\n\t\tif (openModal && (builderElement.hasOwnProperty('newOpenModal') && builderElement.newOpenModal || !builderElement.hasOwnProperty('newOpenModal'))) {\n\t\t\tself.editElement(elem);\t\n\t\t}\n\n\t\t$scope.addAddBlock();\n\n\t\treturn elem;\n\t}\n\n\t$scope.$on('addNewElment', function(e, item) {\n\t\tvar type           = item.type;\n\t\tvar mainElement    = $rootScope.builderConfig.mainElement;\n\t\tvar builderElement = self.getBuilderElement(type);\n\t\tvar openModal      = builderElement.hasOwnProperty('openModal') ? builderElement.openModal : true;\n\t\tif (!_.isNull(item.openModal) && !_.isUndefined(item.openModal)) openModal = item.openModal;\n\t\tvar data = item.data ? item.data : {};\n\t\tvar elem, historyType;\n\t\tif (item.elem) {\n\t\t\tif ((item.action == 'before' || item.action == 'after' || item.action == 'replace')) {\n\t\t\t\tvar index = $scope.getElemIndex(item.elem);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tswitch(item.action) {\n\t\t\t\t\t\tcase 'before':\n\t\t\t\t\t\t\thistoryType = 'inserted_before';\n\t\t\t\t\t\t\tif (self.isProfile() && type != mainElement) {\n\t\t\t\t\t\t\t\tvar row = self.addElement(mainElement, null, false, {}, index);\n\t\t\t\t\t\t\t\telem = self.addElement(type, row['elements'][0], openModal, data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\telem = self.addElement(type, null, openModal, data, index);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'after':\n\t\t\t\t\t\t\thistoryType = 'inserted_after';\n\t\t\t\t\t\t\tif (self.isProfile() && type != mainElement) {\n\t\t\t\t\t\t\t\tvar row = self.addElement(mainElement, null, false, {}, index + 1);\n\t\t\t\t\t\t\t\telem = self.addElement(type, row['elements'][0], openModal, data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\telem = self.addElement(type, null, openModal, data, index + 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'replace':\n\t\t\t\t\t\t\thistoryType = 'replaced';\n\t\t\t\t\t\t\tif (self.isProfile() && type != mainElement) {\n\t\t\t\t\t\t\t\tvar row = self.addElement(mainElement, null, false, {}, index, true);\n\t\t\t\t\t\t\t\telem = self.addElement(type, row['elements'][0], openModal, data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\telem = self.addElement(type, null, openModal, data, index, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (item.action == 'append' && item.elem.id == $scope.element.id) {\n\t\t\t\telem = self.addElement(type, null, openModal, data);\n\t\t\t\thistoryType = 'added';\n\t\t\t}\n\t\t} else {\n\t\t\tif (self.isProfile()) {\n\t\t\t\thistoryType = 'added';\n\t\t\t\tif (type === mainElement) {\n\t\t\t\t\telem = self.addElement(type, null, openModal, data);\t\n\t\t\t\t} else {\n\t\t\t\t\tvar row = self.addElement(mainElement, null, false, {}, index, true);\n\t\t\t\t\telem = self.addElement(type, row['elements'][0], openModal, data);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (elem && historyType && (!data.hasOwnProperty('history') || (data.hasOwnProperty('history') && data.history))) {\n\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\ttype: historyType,\n\t\t\t\ttitle: elem.builder.name\n\t\t\t});\n\t\t\t$rootScope.$broadcast('afterAddElement', elem);\n\t\t}\n\t});\n\n\t// REMOVE\n\t$scope.$on('removeElement', function(e, elem, data) {\n\t\tself.removeElement(elem, data);\n\t});\n\n\tself.removeElement = function(elem, data) {\n\t\tif ($scope.isChildren(elem)) {\n\t\t\tvar index = $scope.getElemIndex(elem);\n\t\t\t$rootScope.$broadcast('beforeRemoveElement', elem);\n\t\t\tvar _elem = $scope.element.elements.splice(index, 1)[0];\n\t\t\t$rootScope.$broadcast('removeParentElement', $scope.element);\n\t\t\tif (!data || (data && (data.hasOwnProperty('history') && data.history) || !data.hasOwnProperty('history'))) {\n\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\ttype: 'removed',\n\t\t\t\t\ttitle: _elem.builder.name\n\t\t\t\t});\n\t\t\t}\n\t\t\t$rootScope.$broadcast('afterRemoveElement', _elem);\n\t\t\t$scope.addAddBlock();\n\t\t}\n\t}\n\n\t$scope.$on('removeParentElement', function(e, elem) {\n\t\tself.removeParentElement(elem);\n\t});\n\n\tself.removeParentElement = function(parent) {\n\t\tif ($scope.isChildren(parent)) {\n\t\t\tvar index = $scope.getElemIndex(parent);\n\t\t\tif (parent.builder.children && !parent.elements.length) {\n\t\t\t\t$scope.element.elements.splice(index, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\t// CLONE\n\t$scope.$on('cloneElement', function(e, elem) {\n\t\tself.cloneElement(elem);\n\t});\n\n\tself.cloneElement = function(elem) {\n\t\tif ($scope.isChildren(elem)) {\n\t\t\tvar index   = $scope.getElemIndex(elem);\n\t\t\tvar newElem = angular.copy(elem);\n\t\t\telementManager.prepareElement(newElem, true);\n\t\t\t$scope.element.elements.splice(index + 1, 0, newElem);\n\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\ttype: 'duplicated',\n\t\t\t\ttitle: newElem.builder.name\n\t\t\t});\n\t\t\t$rootScope.$broadcast('afterCloneElement', newElem);\n\t\t}\n\t}\n\n\t// CHANGE ELEMENT LAYOUT\n\t$scope.$on('changeElementLayout', function(e, data) {\n\t\tself.changeElementLayout(data);\n\t});\n\n\tself.changeElementLayout = function(data) {\n\t\tif ($scope.element.id === data.elem.id) {\n\t\t\tvar types = data.type.split('_');\n\t\t\tfor (var i = 0; i < types.length; i++) {\n\t\t\t\tvar _type = types[i].split('');\n\t\t\t\tvar elem  = $scope.element.elements[i];\n\t\t\t\tif (!elem) {\n\t\t\t\t\telem = self.addElement($scope.element.builder.children, $scope.element);\n\t\t\t\t}\n\t\t\t\tvar width;\n\t\t\t\tif (_type[1]==5) {\n\t\t\t\t\twidth = 15\n\t\t\t\t} else {\n\t\t\t\t\twidth = 12 * _type[0] / _type[1];\n\t\t\t\t}\n\t\t\t\tmagezonBuilderService.setResponiveValue(elem, 'size', width);\n\t\t\t}\n\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\ttype: 'changed',\n\t\t\t\ttitle: $scope.element.builder.name + ' Layout'\n\t\t\t});\n\t\t}\n\t}\n\n\t// Open Navigator Modal\n\t$scope.$on('openElementNavigator', function(e, elem) {\n\t\tif ($scope.isChildren(elem)) {\n\t\t\t$rootScope.activedElement = elem;\n\t\t\telem.builder.actived = true;\n\t\t\tvar parents = self.getParents();\n\t\t\tif ($scope.element.id) parents.push($scope.element);\n\t\t\tangular.forEach(parents, function(_elem) {\n\t\t\t\t_elem.builder.navigator.listVisible = true;\n\t\t\t});\n\t\t\t$rootScope.builderConfig.navigatorListVisible = true;\n\t\t\t$rootScope.$broadcast('openNavigatorModal');\n\t\t}\n\t});\n\n\t$scope.$on('editedElement', function(e, elem) {\n\t\tif ($scope.isChildren(elem)) {\n\t\t\tself.loadLiveElement(elem);\n\t\t}\n\t});\n\n\t// REMOVE\n\tvar move = function (origin, destination) {\n        var temp = $scope.element.elements[destination];\n        $scope.element.elements[destination] = $scope.element.elements[origin];\n        $scope.element.elements[origin] = temp;\n    };\n\n\t$scope.$on('moveUpElement', function(e, elem) {\n\t\tself.moveUpElement(elem);\n\t\t$rootScope.$broadcast('resetElement');\n\t});\n\n\tself.moveUpElement = function(elem) {\n\t\tif ($scope.isChildren(elem)) {\n\t\t\tvar index = $scope.getElemIndex(elem);\n\t\t\tif (index>0) {\n\t\t\t\tmove(index, index - 1);\n\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\ttype: 'move_up',\n\t\t\t\t\ttitle: elem.builder.name\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t$scope.$on('moveDownElement', function(e, elem) {\n\t\tself.moveDownElement(elem);\n\t});\n\n\tself.moveDownElement = function(elem) {\n\t\tif ($scope.isChildren(elem)) {\n\t\t\tvar index = $scope.getElemIndex(elem);\n\t\t\tif (index<$scope.element.elements.length-1) {\n\t\t\t\tmove(index, index + 1);\n\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\ttype: 'move_down',\n\t\t\t\t\ttitle: elem.builder.name\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t$timeout(function() {\n\t\t$scope.addAddBlock();\n\t}, 100);\n\n\treturn angular.copy(self);\n};\n\nreturn listCtrl;\n\n});","Magezon_Builder/js/controllers/modal.js":"define([\n\t'jquery',\n\t'angular',\n  \t'mgzcodemirror'\n], function($, angular, CodeMirror) {\n\twindow.mgzCodeMirror = CodeMirror;\n\n\tvar baseCtrl = function(\n\t\t$scope,\n\t\t$uibModalInstance,\n\t\tmagezonBuilderModal,\n\t\tmodal,\n\t\tmagezonBuilderService\n\t) {\n\t\tvar self = this;\n\t\tself.id  = '.' + magezonBuilderModal.getModalId(modal.key);\n\n\t\t$scope.modal    = modal;\n\t\t$scope.title    = modal.title ? modal.title : modal.name;\n\t\t$scope.subtitle = modal.subtitle;\n\t\tvar localStorageKey = 'modal.' + modal.key;\n\n\t\tif (magezonBuilderService.getFromLocalStorage(localStorageKey + '.sizes')) $scope.modal.sizes = magezonBuilderService.getFromLocalStorage(localStorageKey + '.sizes');\n\t\tif (magezonBuilderService.getFromLocalStorage(localStorageKey + '.position')) {\n\t\t\tvar position = magezonBuilderService.getFromLocalStorage(localStorageKey + '.position');\n\t\t\tif (position.top < 0) position.top = 0;\n\t\t\t$scope.modal.position = position;\n\t\t}\n\n\t\tself.cancel = function() {\n\t\t\t$uibModalInstance.dismiss('cancel');\n\t\t}\n\n\t\tself.getModalSelector = function() {\n\t\t\treturn $(self.id);\n\t\t}\n\n\t\tself.getModalWidth = function() {\n\t\t\tvar windowWidth = $(window).width();\n\t\t\tvar modalWidth  = '80%';\n\t\t\tif (modal.size.width) modalWidth = modal.size.width;\n\t\t\tif (angular.isString(modalWidth) && modalWidth.indexOf('%') !== -1) modalWidth = windowWidth / 100 * modalWidth.replace(\"%\", \"\");\n\t\t\treturn modalWidth;\n\t\t}\n\n\t\tself.getModalHeight = function() {\n\t\t\tvar windowHeight = $(window).height();\n\t\t\tvar modalHeight  = '90%';\n\t\t\tif (modal.size.height) modalHeight = modal.size.height;\n\t\t\tif (angular.isString(modalHeight) && modalHeight.indexOf('%') !== -1) modalHeight = windowHeight / 100 * modalHeight.replace(\"%\", \"\");\n\t\t\tif (modal.position.top && modal.position.bottom) {\n\t\t\t\tself.getModalSelector().css('max-height', '');\n\t\t\t\tself.getModalSelector().css('height', '');\n\t\t\t}\n\t\t\treturn modalHeight;\n\t\t}\n\n\t\tself.getMinHeight = function() {\n\t\t\treturn modal.size.minHeight ? modal.size.minHeight : '';\n\t\t}\n\n\t\tself.getModalTop = function() {\n\t\t\tvar top;\n\t\t\tif (modal.position.top) {\n\t\t\t\ttop = modal.position.top;\n\t\t\t} else {\n\t\t\t\ttop = ($(window).height() - self.getModalHeight()) / 2;\n\t\t\t}\n\t\t\treturn top;\n\t\t}\n\n\t\tself.getModalRight = function() {\n\t\t\tvar right = 'auto';\n\t\t\tif (modal.position.right) {\n\t\t\t\tright = modal.position.right;\n\t\t\t}\n\t\t\treturn right;\n\t\t}\n\n\t\tself.getModalBottom = function() {\n\t\t\tvar bottom;\n\t\t\tif (modal.position.bottom) {\n\t\t\t\tbottom = modal.position.bottom;\n\t\t\t}\n\t\t\treturn bottom;\n\t\t}\n\n\t\tself.getModalLeft = function() {\n\t\t\tvar left = 'auto';\n\t\t\tif (modal.position.left) {\n\t\t\t\tleft = modal.position.left;\n\t\t\t} else {\n\t\t\t\tif (!modal.position.right) {\n\t\t\t\t\tleft = ($(window).width() - self.getModalWidth()) / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn left;\n\t\t}\n\n\t\tself.getModalMaxWidth = function() {\n\t\t\tvar maxWidth;\n\t\t\tif (modal.size.maxWidth) {\n\t\t\t\tmaxWidth = parseFloat(modal.size.maxWidth) + 'px';\n\t\t\t} else {\n\t\t\t\tmaxWidth = parseFloat(modal.size.maxWidth) + 'px';\n\t\t\t}\n\t\t\treturn maxWidth;\n\t\t}\n\n\t\tself.getHeaderSelector = function() {\n\t\t\treturn $(self.id + ' .mgz-modal-header');\n\t\t}\n\n\t\tself.getHeaderHeight = function() {\n\t\t\treturn self.getHeaderSelector().length ? self.getHeaderSelector().outerHeight() : 0;\n\t\t}\n\n\t\tself.getContentSelector = function() {\n\t\t\treturn $(self.id + ' .mgz-modal-content');\n\t\t}\n\n\t\tself.getFooterSelector = function() {\n\t\t\treturn $(self.id + ' .mgz-modal-footer');\n\t\t}\n\n\t\tself.getFooterHeight = function() {\n\t\t\treturn self.getFooterSelector().length ? self.getFooterSelector().outerHeight() : 0;\n\t\t}\n\n\t\tself.isTabsModal = function() {\n\t\t\treturn self.getModalSelector().find('.mgz-modal-tab > .tab-content').length ? true : false;\n\t\t}\n\n\t\tself.resizeInner = function() {\n\t\t\tvar headerHeight = self.getHeaderHeight();\n\t\t\tvar footerHeight = self.getFooterHeight();\n\t\t\tvar modalHeight  = self.getModalHeight();\n\t\t\tvar height       = modalHeight - headerHeight - footerHeight;\n\t\t\tif (self.isTabsModal()) {\n\t\t\t\theight -= self.getModalSelector().find('.mgz-modal-tab > .nav-tabs').outerHeight();\n\t\t\t\tself.getModalSelector().find('.mgz-modal-tab > .tab-content').css('max-height', height);\n\t\t\t\tself.getModalSelector().find('.mgz-modal-content').css('overflow', 'visible');\n\t\t\t\tself.getModalSelector().addClass('mgz-modal-form');\n\t\t\t} else {\n\t\t\t\tself.getModalSelector().css('height', modalHeight);\n\t\t\t\tself.getModalSelector().removeClass('mgz-modal-form');\n\t\t\t}\n\t\t}\n\n\t\t$scope.$on('afterLoadModalTabs', function() {\n\t\t\tself.resizeInner();\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.resizeInner();\n\t\t\t}, 500);\n\t\t});\n\n\t\t$uibModalInstance.rendered.then(function() {\n\t\t\tif (modal.resizable) {\n\t\t\t\tvar minHeight = 150 + self.getHeaderSelector().outerHeight() + self.getFooterSelector().outerHeight();\n\t\t\t\tsetTimeout(function() {\n\t\t\t    \tself.getModalSelector().resizable({\n\t\t\t    \t\tminHeight: minHeight,\n\t\t\t    \t\tminWidth: 380,\n\t\t\t    \t\thandles: \"all\",\n\t\t\t    \t\tresize: function( event, ui ) {\n\t\t\t    \t\t\tmodal.size.width = ui.size.width;\n\t\t\t\t\t\t\tif (!self.getModalSelector().hasClass('mgz-minimized')) {\n\t\t\t    \t\t\t\tmodal.size.height = ui.size.height;\n\t\t\t    \t\t\t}\n\t\t\t    \t\t\tself.resizeInner();\n\t\t\t    \t\t\tmagezonBuilderService.saveToLocalStorage(localStorageKey + '.sizes', ui.size);\n\t\t\t    \t\t}\n\t\t\t    \t});\n\t\t\t\t}, 2000);\n\t    \t\tself.getModalSelector().draggable({\n\t    \t\t\tcontainment: \"window\",\n\t    \t\t\thandle: \".mgz-modal-header\",\n\t    \t\t\tscroll: false,\n\t    \t\t\tdrag: function( event, ui ) {\n\t    \t\t\t\tif (modal.position.top >= 0) {\n\t\t    \t\t\t\tmodal.position = ui.position;\n\t\t\t\t    \t\tmagezonBuilderService.saveToLocalStorage(localStorageKey + '.position', ui.position);\n\t\t\t\t    \t}\n\t    \t\t\t}\n\t    \t\t});\n\t    \t\tself.getHeaderSelector().addClass('mgz-draggable-handle');\n\t\t    }\n\t\t    self.resizeInner();\n\t\t    self.getModalSelector().find('.mgz-modal-tab > .nav.nav-tabs > li > a').click(function(e) {\n\t\t\t\tself.resizeInner();\n\t\t\t});\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.getModalSelector().find('.mgz-modal-tab > .tab-content').scroll(function(e) {\n\t\t\t\t\t$('.sp-active').siblings('.colorpicker-spectrum').spectrum(\"hide\");\n\t\t\t\t});\n\t\t\t}, 2000);\n\t\t});\n\n\t\tself.getModalStyle = function($topModalIndex) {\n\t\t\tvar style = {\n\t\t\t\t'z-index': 800 + $topModalIndex * 10,\n\t\t\t\t'display': 'block'\n\t\t\t};\n\t\t\tstyle['width'] = self.getModalWidth();\n\t\t\tif ($scope.modal.form) {\n\t\t\t\tstyle['max-height'] = self.getModalHeight();\n\t\t\t} else {\n\t\t\t\tstyle['height'] = self.getModalHeight();\n\t\t\t}\n\t\t\tstyle['top']        = self.getModalTop();\n\t\t\tstyle['right']      = self.getModalRight();\n\t\t\tstyle['left']       = self.getModalLeft();\n\t\t\tstyle['max-width']  = self.getModalMaxWidth();\n\t\t\tstyle['min-height'] = self.getMinHeight();\n\t\t\treturn style;\n\t\t}\n\n\t\t$(window).resize(function(event) {\n\t    \tif (self.getModalSelector().is(':visible')) {\n\t    \t\tself.resizeInner();\n\t    \t}\n\t    });\n\n\t    $scope.$on('enableModalSpinner', function() {\n\t\t\t$scope.spinner = true;\n\t\t});\n\n\t    $scope.$on('disableModalSpinner', function() {\n\t\t\t$scope.spinner = false;\n\t\t});\n\n\t\treturn angular.copy(self);\n\t};\n\n\treturn baseCtrl;\n});","Magezon_Builder/js/controllers/base.js":"define([\n\t'jquery',\n\t'underscore',\n\t'angular',\n\t'Magezon_Builder/js/apply/main',\n\t'Magezon_Builder/js/parallax'\n], function($, _, angular, mage, parallax) {\n\n\tvar isMobile = /Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/g.test(navigator.userAgent || navigator.vendor || window.opera);\n\n\tvar baseCtrl = function(\n\t\t$scope,\n\t\t$rootScope,\n\t\t$timeout,\n\t\tmagezonBuilderService,\n\t\tmagezonBuilderUrl,\n\t\tmagezonBuilderFilter,\n\t\telementManager,\n\t\t$sce,\n\t\t$interpolate,\n\t\tmagezonBuilderModal,\n\t\t$compile\n\t) {\n\n\t\tvar self = this;\n\t\tvar element = $scope.element;\n\n\t\tself.getBuilderElement = function(type) {\n\t\t\treturn elementManager.getElement(type);\n\t\t}\n\n\t\t$scope.controls            = [];\n\t\t$scope.controlsTemplateUrl = magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/builder/controls.html');\n\t\t$scope.headingTypes        = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\t\t$scope.alignTypes          = ['left', 'center', 'right'];\n\t\t$scope.loaded              = false;\n\t\t$scope.toolbarLoaded       = false;\n\t\t$scope.toolbar             = true;\n\t\t$scope.resizableLoaded     = false;\n\t\t$scope.resizable           = true;\n\t\t$scope.addBlock            = true;\n\n\t\t$scope.$on('loadElements', function(event, elem) {\n\t\t\tself.afterRender();\n\t\t});\n\t\t$scope.loadElement = function() {}\n\n\t\t$scope.getEl = function() {\n\t\t\treturn elementManager.getEl(element);\n\t\t}\n\n\t\tself.isProfile = function() {\n\t\t\tif (!element.id || element.type == 'profile') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\t$scope.getElemIndex = function(elem) {\n\t\t\treturn _.findIndex(element.elements, function(_elem) {\n\t\t\t\treturn _elem.id == elem.id;\n\t\t\t});\n\t\t}\n\n\t\t$scope.isChildren = function(elem) {\n\t\t\tvar index = $scope.getElemIndex(elem);\n\t\t\treturn (index !== -1) ? true : false;\n\t\t}\n\n\t\tself.onDragstart = function(elem) {\n\t\t\t$rootScope.draggingElement = elem;\n\t\t\t$rootScope.$broadcast('onDragstart', elem);\n\t\t}\n\n\t\tself.onDragend = function(elem) {\n\t\t\t$rootScope.draggingElement = '';\n\t\t\t$scope.controls = [];\n\t\t\t$rootScope.$broadcast('onDragend', elem);\n\t\t\t$('.mgz-element-collection-dragover').removeClass('mgz-element-collection-dragover');\n\t\t}\n\n\t\tself.onCanceled = function(elem) {\n\t\t\t$rootScope.draggingElement = '';\n\t\t\t$scope.controls = [];\n\t\t\t$rootScope.$broadcast('onCanceled', elem);\n\t\t}\n\n\t\tself.onMoved = function(elem) {\n\t\t\t$rootScope.draggingElement = '';\n\t\t\t$scope.controls = [];\n\t\t\t$rootScope.$broadcast('onMoved', elem);\n\t\t}\n\n\t\tself.getWrapperClasses = function() {\n\t\t\tvar classes = [];\n\t\t\tif (element.animation_in) {\n\t\t\t\tclasses.push('mgz-animated');\n\t\t\t\tclasses.push(element.animation_in);\n\t\t\t\t// classes.push('mgz_start_animation');\n\t\t\t\t// classes.push('animated');\n\t\t\t\tif (element.animation_infinite) {\n\t\t\t\t\tclasses.push('mgz-animated-infinite');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (element.el_class) classes.push(element.el_class);\n\t\t\tif (element.hidden_default) classes.push('mgz-element-hide-default');\n\t\t\tif (element.title_align) classes.push('mgz-element-title-align-' + element.title_align);\n\t\t\tif (element.el_float) {\n\t\t\t\tvar _float = magezonBuilderService.getDesignValue(element, 'el_float');\n\t\t\t\tif (_float) classes.push('f-' + _float);\n\t\t\t}\n\t\t\tclasses.push(element.id);\n\t\t\tclasses.push('mgz-element');\n\t\t\tif (!element.builder.is_collection) classes.push('mgz-child');\n\t\t\tclasses.push('mgz-element-' + element.type);\n\t\t\tif (element.builder.is_collection) classes.push('mgz-element-collection');\n\t\t\tif (element.builder.is_collection && !element.elements.length) {\n\t\t\t\tclasses.push('mgz-element-empty');\n\t\t\t}\n\t\t\tif (element.disable_element) classes.push('mgz-element-disabled');\n\t\t\tif (element.builder.actived || ($rootScope.editingElement && element.id == $rootScope.editingElement.id)) classes.push('mgz-element-actived');\n\t\t\tif (element.builder.editing) classes.push('mgz-element-editing');\n\t\t\tif (element.builder.hovered) classes.push('mgz-element-hover');\n\t\t\tif (element.elements && element.elements.length) {\n\t\t\t\tclasses.push('has-children');\t\n\t\t\t}\n\t\t\tvar viewMode = magezonBuilderService.getViewMode();\n\t\t\tif (element[viewMode + '_hide']) classes.push('mgz-hidden');\n\t\t\tclasses = classes.concat(self.getViewModeClass(element));\n\t\t\tif (element.builder.additionalClasses) {\n\t\t\t\tclasses = classes.concat(element.builder.additionalClasses);\n\t\t\t}\n\t\t\treturn classes;\n\t\t}\n\n\t\tself.getInnerClasses = function() {\n\t\t\tvar classes = [];\n\t\t\tclasses.push('mgz-element-inner');\n\t\t\tclasses.push(self.getStyleHtmlId());\n\t\t\tif (element.el_inner_class) classes.push(element.el_inner_class);\n\t\t\treturn classes;\n\t\t}\n\n\t\tself.getViewModeClass = function(elem) {\n\t\t\tvar classes = [];\n\t\t\tif (elem.builder && elem.builder.resizable) {\n\t\t\t\tvar responsiveClass = magezonBuilderService.getResponiveValue(elem, 'size');\n\t\t\t\tif (responsiveClass) {\n\t\t\t\t\tclasses.push('mgz-col-xs-' + responsiveClass);\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push('mgz-col-xs-12');\n\t\t\t\t}\n\t\t\t\tvar modeOffset = magezonBuilderService.getResponiveValue(elem,'offset_size');\n\t\t\t\tif (modeOffset) classes.push('mgz-col-xs-offset-' +  modeOffset);\n\t\t\t}\n\t\t\treturn classes;\n\t\t}\n\n\t\t$scope.getTrustedHtml = function(html) {\n\t\t\treturn $sce.trustAsHtml(magezonBuilderFilter.encodeContent(html));\n\t\t}\n\n\t\t$scope.trustAsResourceUrl = function(url) {\n\t\t\treturn $sce.valueOf($sce.trustAsResourceUrl(url));\n\t\t}\n\n\t\t$scope.getBuilderElementDescription = function() {\n\t\t\tvar builderElement = element.builder;\n\t\t\treturn builderElement.builder_description ? $interpolate(builderElement.builder_description)($scope) : '';\n\t\t}\n\n\t\t$scope.getPlaceHolderClassess = function() {\n\t\t\tvar classes;\n\t\t\tif ($rootScope.draggingElement) {\n\t\t\t\tvar elem = $rootScope.draggingElement;\n\t\t\t\tvar classes = self.getViewModeClass(elem);\n\t\t\t\tif (elem.el_float) classes += ' f-' + elem.el_float;\n\t\t\t}\n\t\t\treturn classes;\n\t\t}\n\n\t\t$scope.getTitleHtml = function() {\n\t\t\tif (!element.title_tag) element.title_tag = 'h4';\n\t\t\t\tvar html = '<' + element.title_tag + ' class=\"title\">';\n\t\t\tif (element.add_icon && element.icon_position == 'left') {\n\t\t\t\thtml += '<i class=\"mgz-icon-element ' + element.icon + '\"></i>';\n\t\t\t}\n\t\t\tif (element.title) {\n\t\t\t\thtml += '<span>' + element.title + '</span>';\n\t\t\t}\n\t\t\tif (element.add_icon && element.icon_position == 'right') {\n\t\t\t\thtml += '<i class=\"mgz-icon-element ' + element.icon + '\"></i>';\n\t\t\t}\n\t\t\thtml += '</' + element.title_tag + '>';\n\t\t\treturn html;\n\t\t}\n\n\t\tself.getParallaxId = function() {\n\t\t\treturn element.id ? element.id + '-p' : '';\n\t\t}\n\n\t\tself.getStyleHtmlId = function() {\n\t\t\treturn element.id ? element.id + '-s' : '';\n\t\t}\n\n\t\tself.onMouseEnter = function(e) {\n\t\t\tif (!$rootScope.draggingElement || ($('.mgz-element-editing').length && $('.mgz-element-editing') !== $scope.getEl())) {\n\t\t\t\tif (!$scope.toolbarLoaded && $scope.toolbar) {\n\t\t\t\t\tvar html = $compile('<magezon-builder-element-actions></magezon-builder-element-actions>')($scope);\n\t\t\t\t\t$scope.getEl().prepend(html);\n\t\t\t\t\t$scope.toolbarLoaded = true;\n\t\t\t\t}\n\t\t\t\tif (!$scope.resizableLoaded && $scope.resizable && element.builder.resizable) {\n\t\t\t\t\tvar html = $compile('<magezon-builder-element-resizable></magezon-builder-element-resizable>')($scope);\n\t\t\t\t\t$scope.getEl().append(html);\n\t\t\t\t\t$scope.resizableLoaded = true;\n\t\t\t\t}\n\n\t\t\t\telement.builder.hovered = true;\n\t\t\t\tvar target = $(e.currentTarget);\n\t\t\t\t$scope.controls = self.getControls();\n\t\t\t\tangular.forEach($scope.controls, function(elem, index) {\n\t\t\t\t\telem.builder.controlsVisible = false;\n\t\t\t\t});\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tvar controlSelector = target.children('.mgz-element-wrap-top').children('.mgz-element-controls');\n\t\t\t\t\tif (target.find('.mgz-element-hover').length) {\n\t\t\t\t\t\telement.builder.controlsVisible = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.builder.controlsVisible = true;\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif (controlSelector.length) {\n\t\t\t\t\t\t\tvar navSelector    = $('#' + $rootScope.builderConfig.htmlId + ' .mgz-navbar');\n\t\t\t\t\t\t\tif (navSelector.length) {\n\t\t\t\t\t\t\t\tvar navOffsetRight = navSelector.offset().left + navSelector.width();\n\t\t\t\t\t\t\t\tvar controlSelectorOffsetRight = controlSelector.offset().left + controlSelector.width() + 2;\n\t\t\t\t\t\t\t\tif (controlSelectorOffsetRight > navOffsetRight) {\n\t\t\t\t\t\t\t\t\tcontrolSelector.css('right', '0');\n\t\t\t\t\t\t\t\t\tcontrolSelector.css('left', 'auto');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcontrolSelector.css('right', 'auto');\n\t\t\t\t\t\t\t\t\tif (target.css('position') == 'static') {\n\t\t\t\t\t\t\t\t\t\tcontrolSelector.css('left', target.position().left);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcontrolSelector.css('left', '0');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 200);\n\t\t\t}\n\t\t}\n\n\t\tself.onMouseLeave = function(e) {\n\t\t\telement.builder.hovered = false;\n\t\t\tif (!$rootScope.draggingElement) {\n\t\t\t\tvar target = $(e.currentTarget);\n\t\t\t\t$scope.controls = [];\n\t\t\t\telement.builder.controlsVisible = false;\n\t\t\t}\n\t\t}\n\n\t\tself.getParents = function() {\n\t\t\tvar parents = {};\n\t\t\tvar prepareParents = function(_scope, _parents) {\n\t\t\t\tif (_scope.$parent) {\n\t\t\t\t\tvar _element = _scope.element;\n\t\t\t\t\tif (_element && _element.id && !_parents.hasOwnProperty(_element.id)) {\n\t\t\t\t\t\t_parents[_element.id] = _element;\n\t\t\t\t\t}\n\t\t\t\t\tprepareParents(_scope.$parent, _parents);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprepareParents($scope.$parent, parents);\n\t\t\treturn _.values(parents).reverse();\n\t\t}\n\n\t\tself.getControls = function() {\n\t\t\tvar parents = self.getParents();\n\t\t\treturn parents;\n\t\t}\n\n\t\tself.getControlClasses = function(elem, $last) {\n\t\t\tvar classes = [];\n\t\t\tclasses.push('mgz-element-control');\n\t\t\tclasses.push('mgz-element-' + elem.type + '-control');\n\t\t\tif ($last) classes.push('mgz-element-control-last mgz-element-control-green');\n\t\t\treturn classes;\n\t\t}\n\n\t\t$scope.$on('editElement', function($e, elem, activeTab) {\n\t\t\tif (elem.id == element.id) {\n\t\t\t\tself.editElement(elem, activeTab);\n\t\t\t\t$rootScope.$broadcast('elementReloaded', element);\n\t\t\t}\n\t\t})\n\n\t\tself.editElement = function(elem, activeTab) {\n\t\t\telem.builder.editing = false;\n\t\t\telem.builder.hovered = false;\n\t\t\t$rootScope.editingElement = elem;\n\t\t\tvar modal = magezonBuilderModal.open('element', {\n\t\t\t\twindowClass: 'mgz-modal-' + elem.type,\n\t\t\t\tresolve: {\n\t\t\t\t\tform: {\n\t\t\t\t\t\telement: elem,\n\t\t\t\t\t\tactiveTab: activeTab\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, function() {\n\t\t\t\tself.deactiveElement(elem);\n\t\t\t\t$rootScope.editingElement = '';\n\t\t\t}, function() {\n\t\t\t\tself.deactiveElement(elem);\n\t\t\t\t$rootScope.editingElement = '';\n\t\t\t});\n\t\t}\n\n\t\tself.dropElement = function(elem, index, parent) {\n\t\t\t$rootScope.$broadcast('removeElement', elem, {history: false});\n\t\t\t$rootScope.$broadcast('beforeDropElement', elem);\n\t\t\t$scope.$apply(function() {\n\t\t\t\tparent.elements.splice(index, 0, elem);\n\t\t\t\tself.deactiveElement(elem);\n\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\ttype: 'moved',\n\t\t\t\t\ttitle: elem.builder.name\n\t\t\t\t});\n\t\t\t});\n\t\t\tself.onDragend();\n\t\t\t$rootScope.$broadcast('afterDropElement', elem);\n\t\t\treturn true;\n\t\t}\n\n\t\t$scope.$on('activeElement', function(event, elem) {\n\t\t\tif (elem.id == element.id) {\n\t\t\t\tself.activeElement(element);\n\t\t\t} else {\n\t\t\t\telement.builder.actived = false;\n\t\t\t}\n\t\t});\n\n\t\tself.activeElement = function(elem) {\n\t\t\telem.builder.actived = true;\n\t\t\t$rootScope.activedElement = elem;\n\t\t}\n\n\t\t$scope.$on('deactiveElement', function(event, elem) {\n\t\t\tself.deactiveElement(element);\n\t\t});\n\n\t\tself.deactiveElement = function(elem) {\n\t\t\telem.builder.actived = false;\n\t\t\t$rootScope.activedElement = '';\n\t\t}\n\n\t\t$scope.$on('gotoElement', function(event, elem) {\n\t\t\tif (elem.id == element.id) {\n\t\t\t\tvar height = $('.page-main-actions > .page-actions._fixed').outerHeight() + 5;\n\t\t\t\tvar _elem  = $(\".mgz-builder .mgz-element.\" + element.id);\n\t\t\t\tif (_elem.is(':visible')) {\n\t\t\t\t\t$('html, body').stop().animate({\n\t\t\t\t\t\tscrollTop: _elem.offset().top - height\n\t\t\t\t\t}, 1000);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t$scope.removeSpinner = function() {\n\t\t\t$scope.getEl().children('.mgz-spinner').remove();\n\t\t}\n\n\t\tvar addAddBlock = function() {\n\t\t\tif ($scope.addBlock && !self.isProfile()) {\n\t\t\t\tvar _elem = element;\n\t\t\t\tif (_elem.builder.is_collection) {\n\t\t\t\t\t$scope.removeSpinner();\n\t\t\t\t\tif (!_elem.elements.length) {\n\t\t\t\t\t\tvar html = $compile('<i class=\"mgz-icon mgz-icon-add\" ng-if=\"element.builder.is_collection&&!element.elements.length\" ng-click=\"$root.$broadcast(\\'addElement\\', {elem: element, action: \\'append\\' })\"></i>')($scope);\n\t\t\t\t\t\t$scope.getEl().prepend(html);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t$scope.addAddBlock = function() {\n\t\t\taddAddBlock();\n\t\t\tif ($scope.getEl().find('.mgz-icon-add')) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\taddAddBlock();\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\n\t\tself.loadLiveElement = function(elem) {\n\t\t\tif (elem.builder.livePreview) {\n\t\t\t\tmagezonBuilderService.elemPost(elem, $rootScope.builderConfig.loadElementUrl, {\n\t\t\t\t\telement: angular.toJson(elem)\n\t\t\t\t}, false, function(res) {\n\t\t\t\t\tvar _elem = $('.' + elem.id);\n\t\t\t\t\tvar _inner = _elem.children('.mgz-element-inner');\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\t_inner.html(res);\n\t\t\t\t\t\t$(mage.apply);\n\t\t\t\t\t\t_inner.on('click', '.action.tocart,.action.towishlist,.action.tocompare', function (e) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_inner.find('a').attr('target', '_blank');\n\t\t\t\t\t\t_inner.find('form[data-role=tocart-form]').removeAttr('action');\n\t\t\t\t\t\t_inner.find('form[data-role=tocart-form]').removeAttr('method');\n\t\t\t\t\t\t_inner.find('*').addClass('mgz-builder-dnd-disable');\n\t\t\t\t\t\t$('body').trigger('magezonPageBuilderUpdated');\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t_elem.find('.mgz-waypoint').trigger('mgz:animation:run');\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t$rootScope.$broadcast('loadElements');\n\t\t\t\t\t}\n\t\t\t\t}, function() {}, function() {\n\t\t\t\t\t$scope.removeSpinner();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tsetTimeout(function() {\n\t\t\tself.loadLiveElement(element);\t\n\t\t});\n\n\t\tself.getParallaxClasses = function() {\n\t\t\tvar parallax      = magezonBuilderService.getDesignValue(element, 'parallax_type');\n\t\t\tvar mouseParallax = magezonBuilderService.getDesignValue(element, 'mouse_parallax');\n\t\t\tvar classes  = [];\n\t\t\tclasses.push('mgz-parallax');\n\t\t\tclasses.push(self.getParallaxId());\n\t\t\tif (parallax && mouseParallax) classes.push('mgz-parallax-mouse-parallax');\n\t\t\treturn classes;\n\t\t}\n\n\t\tself.afterParallaxRender = function(e) {\n\t\t\tsetTimeout(function() {\n\t\t\t\tself.initParallax();\n\t\t\t}, 1000);\n\t\t}\n\n\t\tself.initParallax = function() {\n\t\t\tvar parallax   = magezonBuilderService.getDesignValue(element, 'parallax_type');\n\t\t\tvar elParallax = $scope.getEl().children('.mgz-element-inner').children('.mgz-parallax').children('.mgz-parallax-inner');\n\n\t\t\tjarallax(elParallax, 'destroy');\n\t\t\tif (parallax) {\n\t\t\t\telParallax.css('background-image', 'none');\t\n\t\t\t} else {\n\t\t\t\telParallax.css('background-image', '');\t\n\t\t\t}\n\t\t\tif (!self.isEnabledParallax()) return;\n\t\t\tvar _elem           = element;\n\t\t\tvar backgroundType  = magezonBuilderService.getDesignValue(_elem, 'background_type');\n\t\t\tvar imageBgSize     = '';\n\t\t\tvar imageBgPosition = magezonBuilderService.getDesignValue(_elem, 'background_position').replace(/-/g, ' ');\n\t\t\tvar video           = false;\n\t\t\tvar videoStartTime  = 0;\n\t\t\tvar videoEndTime    = 0;\n\t\t\tvar videoVolume     = 0;\n\t\t\tvar videoLoop       = true;\n\t\t\tvar videoAlwaysPlay = true;\n\t\t\tvar videoMobile     = false;\n\t\t\tvar parallax        = magezonBuilderService.getDesignValue(_elem, 'parallax_type');\n\t\t\tvar parallaxSpeed   = magezonBuilderService.getDesignValue(_elem, 'parallax_speed');\n\t\t\tvar parallaxMobile  = magezonBuilderService.getDesignValue(_elem, 'parallax_mobile');\n\n\t        // video type\n\t        if ( backgroundType === 'yt_vm_video' || backgroundType === 'video' ) {\n\t        \tvideo           = magezonBuilderService.getDesignValue(_elem, 'background_video');\n\t        \tvideoStartTime  = parseFloat( magezonBuilderService.getDesignValue(_elem, 'video_start_time') ) || 0;\n\t        \tvideoEndTime    = parseFloat( magezonBuilderService.getDesignValue(_elem, 'video_end_time') ) || 0;\n\t        \tvideoVolume     = parseFloat( magezonBuilderService.getDesignValue(_elem, 'video_volume') ) || 0;\n\t        \tvideoLoop       = true;\n\t        \tvideoAlwaysPlay = true;\n\t        \tvideoMobile     = magezonBuilderService.getDesignValue(_elem, 'video_mobile');\n\n\t        \tif ( video && ! parallax && ! parallaxSpeed ) {\n\t        \t\tparallax       = 'scroll';\n\t        \t\tparallaxSpeed  = 1;\n\t        \t\tparallaxMobile = videoMobile;\n\t        \t}\n\t        }\n\n\t        // prevent if no parallax and no video\n\t        if ( !parallax && !video ) return;\n\n\t        var jarallaxParams = {\n\t        \tautomaticResize: true,\n\t        \ttype: parallax,\n\t        \tspeed: parallaxSpeed,\n\t        \tdisableParallax() {\n\t        \t\treturn parallaxMobile ? false : isMobile;\n\t        \t},\n\t        \tdisableVideo() {\n\t        \t\treturn videoMobile ? false : isMobile;\n\t        \t},\n\t        \timgSize: imageBgSize || 'cover',\n\t        \timgPosition: imageBgPosition || '50% 50%',\n\t        };\n\n\t        if ( imageBgSize === 'pattern' ) {\n\t        \tjarallaxParams.imgSize   = 'auto';\n\t        \tjarallaxParams.imgRepeat = 'repeat';\n\t        }\n\n\t        if ( video ) {\n\t\t\t\tjarallaxParams.speed                = parallax ? parallaxSpeed : 1;\n\t\t\t\tjarallaxParams.videoSrc             = video;\n\t\t\t\tjarallaxParams.videoStartTime       = videoStartTime;\n\t\t\t\tjarallaxParams.videoEndTime         = videoEndTime;\n\t\t\t\tjarallaxParams.videoVolume          = videoVolume;\n\t\t\t\tjarallaxParams.videoLoop            = videoLoop;\n\t\t\t\tjarallaxParams.videoPlayOnlyVisible = !videoAlwaysPlay;\n\t        }\n\n\t        var backgroundImage = magezonBuilderService.getDesignValue(element, 'background_image');\n\t        if (backgroundImage) jarallaxParams.imgSrc = magezonBuilderUrl.getImageUrl(backgroundImage);\n\t        var elParallax = $scope.getEl().children('.mgz-element-inner').children('.mgz-parallax').children('.mgz-parallax-inner');\n\t        jarallax(elParallax, jarallaxParams);\n\t        window.mgzParallaxMouse(true);\n\t\t}\n\n\t\tself.processParallax = function() {\n\t\t\t$scope.getEl().children('.mgz-element-inner').children('.mgz-parallax').remove();\n\t\t\tif (self.isEnabledParallax()) {\n\t\t\t\tvar html = $compile(self.getParallaxHtml())($scope);\n\t\t\t\t$scope.getEl().children('.mgz-element-inner').prepend(html);\n\t\t\t}\n\t\t}\n\n\t\t$scope.$on('editedElement', function(event, elem) {\n\t\t\tif (element.id === elem.id) {\n\t\t\t\tself.afterRender();\n\t\t\t}\n\t\t});\n\n\t\t$scope.$on('resetElement', function(event) {\n\t\t\telement.builder.hovered = false;\n\t\t\telement.builder.editing = false;\n\t\t\telement.builder.actived = false;\n\t\t});\n\n\t\tself.isEnabledParallax = function() {\n\t\t\tvar _elem           = element;\n\t\t\tvar parallax        = magezonBuilderService.getDesignValue(_elem, 'parallax_type');\n\t\t\tvar backgroundType  = magezonBuilderService.getDesignValue(_elem, 'background_type');\n\t\t\tvar backgroundImage = magezonBuilderService.getDesignValue(_elem, 'background_image');\n\t\t\tvar backgroundColor = magezonBuilderService.getDesignValue(_elem, 'background_color');\n\t\t\tvar video           = magezonBuilderService.getDesignValue(_elem, 'background_video');\n\t\t\treturn (backgroundColor || backgroundImage || (backgroundType === 'yt_vm_video' && video));\n\t\t}\n\n\t\tself.processWaypoints = function() {\n\t\t\t$scope.getEl().waypoint(function() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar delayTime = 0;\n\t\t\t\tif ($(this.element).data('animation-delay')) {\n\t\t\t\t\tdelayTime = $(this.element).data('animation-delay');\n\t\t\t\t}\n\t\t\t\tvar durationTime = 0;\n\t\t\t\tif ($(this.element).data('animation-duration')) {\n\t\t\t\t\tdurationTime = $(this.element).data('animation-duration');\n\t\t\t\t}\n\t\t\t\tif (durationTime) $(self.element).css(\"animation-duration\", durationTime + 's');\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$(self.element).addClass(\"mgz_start_animation animated\")\n\t\t\t\t}, delayTime * 1000);\n\t\t\t}, {\n\t\t\t\toffset: \"85%\"\n\t\t\t});\n\t\t}\n\n\t\tself.afterRender = function() {\n\t\t\t$scope.loadElement();\n\t\t\tself.processParallax();\n\t\t\tself.processWaypoints();\n\t\t\t$scope.loaded = true;\n\t\t\t$rootScope.$broadcast('elementReloaded', element);\n\t\t\tif (element.el_id) {\n\t\t\t\t$scope.getEl().attr('id', element.el_id);\n\t\t\t} else {\n\t\t\t\t$scope.getEl().removeAttr('id');\n\t\t\t}\n\t\t}\n\n\t\tself.getStyles = function() {\n\t\t\tvar _elem = element;\n\t\t\tvar styles = {};\n\t\t\tif (_elem.animation_in && _elem.animation_duration) {\n\t\t\t\tstyles['animation-duration'] = _elem.animation_duration + 's';\n\t\t\t}\n\t\t\treturn styles;\n\t\t}\n\n\t\tself.getParallaxHtml = function() {\n\t\t\treturn '<div ng-if=\"mgz.isEnabledParallax()\" ng-class=\"mgz.getParallaxClasses()\" data-parallax-mouse-parallax-size=\"{{ $root.magezonBuilderService.getDesignValue(element, \\'mouse_parallax_size\\') }}\" data-parallax-mouse-parallax-speed=\"{{ $root.magezonBuilderService.getDesignValue(element, \\'mouse_parallax_speed\\') }}\"><div class=\"mgz-parallax-inner\" after-render=\"mgz.afterParallaxRender()\"></div></div>';\n\t\t}\n\n\t\t$scope.addHistory = function(type, subtitle) {\n\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\ttype: type,\n\t\t\t\ttitle: element.builder.name,\n\t\t\t\tsubtitle: subtitle\n\t\t\t});\n\t\t}\n\n\t\t$scope.isLoaded = function() {\n\t\t\treturn $scope.loaded;\n\t\t}\n\n\t\t$scope.getDesignValue = function(key) {\n\t\t\treturn magezonBuilderService.getDesignValue(element, key);\t\n\t\t}\n\n\t\t$timeout(function() {\n\t\t\t$scope.loaded = true;\n\t\t\tself.afterRender();\n\t\t}, 500);\n\n\t\tsetTimeout(function() {\n\t\t\twindow.mgzParallaxMouse(true);\n\t\t}, 3000);\n\t\t\n\t\treturn angular.copy(this);\n\t};\n\n\treturn baseCtrl;\n});","Magezon_Builder/js/js/builder/element/row.js":"","Magezon_Builder/js/ui/form/element/wysiwyg.js":"define([\n    'jquery',\n    'underscore',\n    'Magento_Ui/js/form/element/textarea'\n], function ($, _, Textarea) {\n    'use strict';\n\n    return Textarea.extend({\n\n        defaults: {\n            elementTmpl: 'Magezon_Builder/ui/form/element/builder'\n        },\n\n        initialize: function () {\n            this._super();\n\n            return this;\n        }\n    })\n});","Magezon_Builder/js/ui/form/element/builder.js":"define([\n    'jquery',\n    'underscore',\n    'Magento_Ui/js/form/element/textarea'\n], function ($, _, Textarea) {\n    'use strict';\n\n    return Textarea.extend({\n\n        defaults: {\n            elementTmpl: 'Magezon_Builder/ui/form/element/builder'\n        },\n\n        initialize: function () {\n            this._super();\n\n            return this;\n        }\n    })\n});","Magezon_Builder/js/ui/form/element/color-picker-palette.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/**\n * @api\n */\ndefine([], function () {\n    'use strict';\n\n    return [\n        [\n            'rgb(0,0,0)', 'rgb(52,52,52)', 'rgb(83,83,83)', 'rgb(135,135,135)', 'rgb(193,193,193)',\n            'rgb(234,234,234)', 'rgb(240,240,240)', 'rgb(255,255,255)'\n        ],\n        [\n            'rgb(252,0,9)', 'rgb(253,135,10)', 'rgb(255,255,13)', 'rgb(35,255,9)', 'rgb(33,255,255)',\n            'rgb(0,0,254)', 'rgb(132,0,254)', 'rgb(251,0,255)'\n        ],\n        [\n            'rgb(240,192,194)', 'rgb(251,223,194)', 'rgb(255,241,193)', 'rgb(210,230,201)',\n            'rgb(199,217,220)', 'rgb(197,219,240)', 'rgb(208,200,227)', 'rgb(229,199,212)'\n        ],\n        [\n            'rgb(228,133,135)', 'rgb(246,193,139)', 'rgb(254,225,136)', 'rgb(168,208,152)',\n            'rgb(146,184,190)', 'rgb(143,184,227)', 'rgb(165,148,204)', 'rgb(202,147,175)'\n        ],\n        [\n            'rgb(214,78,83)', 'rgb(243,163,88)', 'rgb(254,211,83)', 'rgb(130,187,106)',\n            'rgb(99,149,159)', 'rgb(93,150,211)', 'rgb(123,100,182)', 'rgb(180,100,142)'\n        ],\n        [\n            'rgb(190,0,5)', 'rgb(222,126,44)', 'rgb(236,183,39)', 'rgb(89,155,61)', 'rgb(55,110,123)',\n            'rgb(49,112,185)', 'rgb(83,55,150)', 'rgb(147,55,101)'\n        ],\n        [\n            'rgb(133,0,3)', 'rgb(163,74,10)', 'rgb(177,127,7)', 'rgb(45,101,23)', 'rgb(18,62,74)',\n            'rgb(14,62,129)', 'rgb(40,15,97)', 'rgb(95,16,55)'\n        ],\n        [\n            'rgb(81,0,1)', 'rgb(100,48,7)', 'rgb(107,78,3)', 'rgb(31,63,16)',\n            'rgb(13,39,46)', 'rgb(10,40,79)', 'rgb(24,12,59)', 'rgb(59,10,36)'\n        ]\n    ];\n});\n","Magezon_Builder/js/directives/modalElement.js":"define([\n\t'angular'\n], function (angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\tscope: {\n\t\t\t\telement: '=element'\n\t\t\t},\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/modal/elements_element.html')\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/directives/magezonBuilder.js":"define([\n\t'jquery',\n\t'waypoints'\n], function ($) {\n\n\tvar magezonBuilderDir = function(profileManager, $timeout, magezonBuilderUrl, $templateRequest) {\n\t\treturn {\n\t\t\tscope: {\n\t\t\t\tprofile: '='\n\t\t\t},\n    \t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, magezonBuilderModal, historyManager, magezonBuilderService, magezonBuilderConfig) {\n\t\t\t\t$rootScope.builderId = magezonBuilderService.getUniqueId();\n\n\t\t\t\t$scope.$on('openElementsModal', function(event) {\n\t\t\t\t\t$scope.openModal();\n\t\t\t\t});\n\n\t\t\t\t$scope.openModal = function() {\n\t\t\t\t\tmagezonBuilderModal.open('elements').result.then(function() {}, function() {\n\t\t\t\t\t\tmagezonBuilderModal.setElement(null);\n\t\t\t\t\t\tmagezonBuilderModal.setAction(null);\n\t\t\t\t\t\tmagezonBuilderModal.setData(null);\n\t\t\t\t\t\tmagezonBuilderModal.setOpenModal(null);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t$rootScope.$on('loadStyles', function(e, draggingElement) {\n\t\t\t\t\t$scope.loadStyles();\n\t\t\t\t});\n\n\t\t        $scope.loadStyles = function() {\n\t\t        \tif ($rootScope.builderConfig.loadStylesUrl && $rootScope.profile.elements && $rootScope.profile.elements.length) {\n\t\t        \t\tmagezonBuilderService.post($rootScope.builderConfig.loadStylesUrl, {\n\t\t        \t\t\tprofile: profileManager.toString()\n\t\t        \t\t}, true, function(res) {\n\t\t        \t\t\tif (res.message) {\n\t\t        \t\t\t\talert(res.message);\n\t\t        \t\t\t}\n\t\t        \t\t\tif (res.status) {\n\t\t        \t\t\t\t$('#' + $rootScope.builderConfig.targetId + '-styles').html(res.html);\n\t\t        \t\t\t}\n\t\t        \t\t});\n\t\t\t        }\n\t\t        }\n\n\t\t        $templateRequest(magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/navigator/element/list.html')).then(function(html) {\n\t\t        \t$timeout(function() {\n\t\t\t\t\t\t$('.' + $rootScope.builderConfig.htmlId + '-spinner').remove();\n\t\t\t\t\t\tif (profileManager.getKey()) {\n\t\t\t\t\t\t\tif (magezonBuilderService.isJSON(profileManager.getContent())) {\n\t\t\t\t\t\t\t\t$('.' + $rootScope.rootId).addClass('mgz-deactive-builder');\n\t\t\t\t\t\t\t\t$('.' + $rootScope.rootId).removeClass('mgz-active-builder');\n\t\t\t\t\t\t\t\t$rootScope.$broadcast('importShortcode');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (profileManager.getContent()) {\n\t\t\t\t\t\t\t\t\t$('.' + $rootScope.rootId).addClass('mgz-active-builder');\n\t\t\t\t\t\t\t\t\t$('.' + $rootScope.rootId).removeClass('mgz-deactive-builder');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$('.' + $rootScope.rootId).addClass('mgz-deactive-builder');\n\t\t\t\t\t\t\t\t\t$('.' + $rootScope.rootId).removeClass('mgz-active-builder');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$rootScope.$broadcast('importShortcode');\n\t\t\t\t\t\t}\n\t\t\t        }, 100);\n\t\t        });\n\n\t\t        $scope.$on('addElement', function(e, item) {\n\t\t        \tvar elem, action, openModal, data, type;\n\t\t        \tif (item && item.hasOwnProperty('elem')) elem = item.elem;\n\t\t        \tif (item && item.hasOwnProperty('action')) action = item.action;\n\t\t        \tif (item && item.hasOwnProperty('openModal')) openModal = item.openModal;\n\t\t        \tif (item && item.hasOwnProperty('data')) data = item.data;\n\t\t        \tif (item && item.hasOwnProperty('type')) type = item.type;\n\t\t        \tif (type) {\n\t\t        \t\t$rootScope.$broadcast('addNewElment', {\n\t\t\t\t\t\t\telem: elem,\n\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\taction: 'append',\n\t\t\t\t\t\t\topenModal: openModal,\n\t\t\t\t\t\t\tdata: data\n\t\t\t\t\t\t});\n\t\t        \t} else {\n\t\t        \t\tif (elem) magezonBuilderModal.setElement(elem);\n\t\t\t\t\t\tif (action) magezonBuilderModal.setAction(action);\n\t\t\t\t\t\tif (openModal) magezonBuilderModal.setOpenModal(openModal);\n\t\t\t\t\t\tif (data) magezonBuilderModal.setData(data);\n\t\t\t\t\t\t$rootScope.$broadcast('openElementsModal');\n\t\t        \t}\n\t\t\t\t});\n\n\t\t\t\tvar loadAnimation = function() {\n\t\t\t\t\tif ($(\".mgz-animated:not(.mgz_start_animation)\").length) {\n\t\t\t\t\t\t$(\".mgz-animated:not(.mgz_start_animation)\").waypoint(function() {\n\t\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\t\tvar delayTime = 0;\n\t\t\t\t\t\t\tif ($(this.element).data('animation-delay')) {\n\t\t\t\t\t\t\t\tdelayTime = $(this.element).data('animation-delay');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar durationTime = 0;\n\t\t\t\t\t\t\tif ($(this.element).data('animation-duration')) {\n\t\t\t\t\t\t\t\tdurationTime = $(this.element).data('animation-duration');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (durationTime) $(self.element).css(\"animation-duration\", durationTime + 's');\n\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t$(self.element).addClass(\"mgz_start_animation animated\")\n\t\t\t\t\t\t\t}, delayTime * 1000);\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\toffset: \"85%\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.$on('editedElement', function(e, elem) {\n\t\t\t\t\tloadAnimation();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\treturn magezonBuilderDir;\n});","Magezon_Builder/js/directives/navigator.js":"define([\n\t'angular'\n], function (angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\tscope: {\n\t\t\t\telement: '='\n\t\t\t},\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/navigator_item.html')\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/directives/builderDirectiveList.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function(magezonBuilderService, $compile) {\n\t\treturn {\n\t\t\tscope: {\n\t\t\t\tgroup: '@',\n\t\t\t\ttag: '@',\n\t\t\t\thtmlTag: '@',\n\t\t\t\telement: '=?'\n\t\t\t},\n\t\t\tlink: function(scope, element, attrs) {\n\t\t\t\tvar parent    = scope.$parent;\n\t\t\t\tvar htmlTag   = scope.htmlTag ? scope.htmlTag : 'div';\n\t\t\t\tvar deferreds = [];\n\t\t\t\tvar items     = {};\n\t\t\t\tangular.forEach(magezonBuilderService.directives, function(directive, index) {\n\t\t\t\t\tvar tags = directive.tag ? directive.tag : '';\n\t\t\t\t\tvar groups  = directive.group ? directive.group : '';\n\t\t\t\t\tif (angular.isString(tags)) tags = tags.split(',');\n\t\t\t\t\tif (angular.isObject(tags)) tags = Object.values(tags);\n\t\t\t\t\tif (angular.isString(groups)) groups = groups.split(',');\n\t\t\t\t\tif (angular.isObject(groups)) groups = Object.values(groups);\n\t\t\t\t\tif ($.inArray(scope.tag, tags) !== -1 || $.inArray(scope.group, groups) !== -1) {\n\t\t\t\t\t\tif (!directive.hasOwnProperty('disabled') || !directive.disabled) {\n\t\t\t\t\t\t\tvar additionalClasses = directive.additionalClasses ? ' ' + directive.additionalClasses : '';\n\t\t\t\t\t\t\tadditionalClasses += ' magezon-builder-directive-' + directive.type;\n\t\t\t\t\t\t\tif (directive.group) additionalClasses += ' magezon-builder-directive-group-' + directive.group;\n\t\t\t\t\t\t\tif (directive['element']) {\n\t\t\t\t\t\t\t\tvar deferred;\n\t\t\t\t\t\t\t\tdeferred = $.Deferred();\n\t\t\t\t\t\t\t\tdeferreds.push(deferred);\n\t\t\t\t\t\t\t\trequire([directive['element']], function(Directive) {\n\t\t\t\t\t\t\t\t\tvar html = '<' + htmlTag + ' class=\"magezon-builder-directive' + additionalClasses + '\" ' + (directive.templateUrl ? 'templateUrl=\"' + directive.templateUrl + '\"' : '') + ' element=\"element\" dynamic-directive element-name=\"mgz-directive-' + directive.type + '\" sort-order=\"' + (directive['sortOrder'] ? directive['sortOrder'] : 0) + '\"></' + htmlTag + '>';\n\t\t\t\t\t\t\t\t\titems[index] = html;\n\t\t\t\t\t\t\t\t\tdeferred.resolve();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar html = '<' + htmlTag + ' class=\"magezon-builder-directive' + additionalClasses + '\" ' + (directive.templateUrl ? 'templateUrl=\"' + directive.templateUrl + '\"' : '') + ' element=\"element\" dynamic-directive element-name=\"mgz-directive-' + directive.type + '\" sort-order=\"' + (directive['sortOrder'] ? directive['sortOrder'] : 0) + '\"></' + htmlTag + '>';\n\t\t\t\t\t\t\t\titems[index] = html;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$.when.apply($, deferreds).done(function () {\n\t\t\t\t\tif (!Object.keys(items).length) element.remove();\n\t\t\t\t\tangular.forEach(items, function(item) {\n\t\t\t\t\t\tif (parent.$parent) {\n\t\t\t\t\t\t\tvar template = angular.element(item);\n\t\t\t\t\t\t\tvar newScope = parent.$parent.$new(true);\n\t\t\t\t\t\t\tnewScope.element = scope.element;\n\t\t\t\t\t\t\tvar html = $compile(template)(newScope);\n\t\t\t\t\t\t\telement.append(html);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\treturn directive;\n});","Magezon_Builder/js/directives/tooltip.js":"define([\n\t'jquery'\n\t], function ($) {\n\n\t\t// https://embed.plnkr.co/plunk/amkxZc\n\t\tvar directive = function($compile, $timeout) {\n\t\t\tvar template =  '<div class=\"mgz-tooltip tooltip {{placement}}\" ng-class=\"{ in: isOpen, fade: animation() }\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\" ng-bind=\"tooltipTitle\"></div></div>';\n\n\t\t\treturn {\n\t\t\t\tscope: { tooltipTitle: '@mgzTooltip', placement: '@tooltipPlacement', animation: '&tooltipAnimation' },\n\t\t\t\tlink: function ( scope, element, attr ) {\n\t\t\t\t\tvar tooltip = $compile( template )( scope ), \n\t\t\t\t\ttransitionTimeout;\n\t\t\t\t\tvar hoverd;\n\n      \t\t\t\t// Calculate the current position and size of the directive element.\n      \t\t\t\tfunction getPosition() {\n      \t\t\t\t\treturn {\n      \t\t\t\t\t\twidth: element.prop( 'offsetWidth' ),\n      \t\t\t\t\t\theight: element.prop( 'offsetHeight' ),\n      \t\t\t\t\t\ttop: element.prop( 'offsetTop' ),\n      \t\t\t\t\t\tleft: element.prop( 'offsetLeft' )\n      \t\t\t\t\t};\n      \t\t\t\t}\n\n      \t\t\t\t// Show the tooltip popup element.\n      \t\t\t\tfunction show() {\n      \t\t\t\t\tvar position,\n      \t\t\t\t\tttWidth,\n      \t\t\t\t\tttHeight,\n      \t\t\t\t\tttPosition;\n\n        \t\t\t\t// If no placement was provided, default to 'top'.\n        \t\t\t\tscope.placement = scope.placement || 'top';\n\n\t\t\t\t        // If there is a pending remove transition, we must cancel it, lest the\n\t\t\t\t        // toolip be mysteriously removed.\n\t\t\t\t        if ( transitionTimeout ) $timeout.cancel( transitionTimeout );\n\n\t\t\t\t        // Lazy compile the tooltip element\n\t\t\t\t        // FIXME: For some reason, this does *not* always work correctly on the \n\t\t\t\t        // *first* run, but does so on all subsequent runs.\n\t\t\t\t        //tooltip = tooltip ||  $compile( template )( scope );\n\n        \t\t\t\t// Set the initial positioning.\n        \t\t\t\ttooltip.css({ top: 0, left: 0, display: 'block' });\n\n\t\t\t\t        // Now we add it to the DOM because need some info about it. But it's not \n\t\t\t\t        // visible yet anyway.\n\t\t\t\t        element.after( tooltip );\n\n\t\t\t\t        // Get the position of the directive element.\n\t\t\t\t        position = getPosition();\n\t\t\t\t        \n\t\t\t\t        // Get the height and width of the tooltip so we can center it.\n\t\t\t\t        ttWidth = tooltip.prop( 'offsetWidth' );\n\t\t\t\t        ttHeight = tooltip.prop( 'offsetHeight' );\n\n\t\t\t\t        // Calculate the tooltip's top and left coordinates to center it with\n\t\t\t\t        // this directive.\n\t\t\t\t        switch ( scope.placement ) {\n\t\t\t\t        \tcase 'right':\n\t\t\t\t        \tttPosition = {\n\t\t\t\t        \t\ttop: (position.top + position.height / 2 - ttHeight / 2) + 'px',\n\t\t\t\t        \t\tleft: (position.left + position.width) + 'px'\n\t\t\t\t        \t};\n\t\t\t\t        \tbreak;\n\t\t\t\t        \tcase 'bottom':\n\t\t\t\t        \tttPosition = {\n\t\t\t\t        \t\ttop: (position.top + position.height) + 'px',\n\t\t\t\t        \t\tleft: (position.left + position.width / 2 - ttWidth / 2) + 'px'\n\t\t\t\t        \t};\n\t\t\t\t        \tbreak;\n\t\t\t\t        \tcase 'left':\n\t\t\t\t        \tttPosition = {\n\t\t\t\t        \t\ttop: (position.top + position.height / 2 - ttHeight / 2) + 'px',\n\t\t\t\t        \t\tleft: (position.left - ttWidth) + 'px'\n\t\t\t\t        \t};\n\t\t\t\t        \tbreak;\n\t\t\t\t        \tdefault:\n\t\t\t\t        \tttPosition = {\n\t\t\t\t        \t\ttop: (position.top - ttHeight) + 'px',\n\t\t\t\t        \t\tleft: (position.left + position.width / 2 - ttWidth / 2) + 'px'\n\t\t\t\t        \t};\n\t\t\t\t        \tbreak;\n\t\t\t\t        }\n\n\t\t\t\t        // Now set the calculated positioning.\n\t\t\t\t        tooltip.css( ttPosition );\n\n\t\t\t\t        if (scope.placement == 'top' || scope.placement == 'bottom') {\n\t\t\t\t        \tvar arrowSel = tooltip.find('.tooltip-arrow');\n\t\t\t\t        \tarrowSel.css('left', (tooltip.width() - arrowSel.outerWidth(true)) / 2);\n\t\t\t\t    \t}\n\n\t\t\t\t        // And show the tooltip.\n\t\t\t\t        scope.isOpen = true;\n\t\t\t\t    }\n\n      \t\t\t\t// Hide the tooltip popup element.\n      \t\t\t\tfunction hide() {\n\t\t\t\t        transitionTimeout = $timeout( function () {\n\t\t\t\t        \tif (!hoverd) {\n\t\t\t\t        \t\tscope.isOpen = false;\n\t\t\t\t        \t\t//tooltip.remove();\n\t\t\t\t        \t}\n\t\t\t\t        }, 500);\n\t\t\t\t    }\n\n\t\t\t\t    \n\t\t\t\t    tooltip.hover(function() {\n\t\t\t\t    \tscope.$apply( show );\n\t\t\t\t    \thoverd = true;\n\t\t\t\t    }, function() {\n\t\t\t\t    \thoverd = false;\n\t\t\t\t    \tscope.$apply( hide );\n\t\t\t\t    })\n\n\t\t\t      \t// Register the event listeners.\n\t\t\t      \telement.bind( 'mouseenter', function() {\n\t\t\t      \t\t$('.mgz-tooltip').remove();\n\t\t\t      \t\tscope.$apply( show );\n\t\t\t      \t\thoverd = true;\n\t\t\t      \t});\n\t\t\t      \telement.bind( 'mouseleave', function() {\n\t\t\t      \t\thoverd = false;\n\t\t\t      \t\tscope.$apply( hide );\n\t\t\t      \t});\n\t\t\t      }\n\t\t\t  };\n\t\t\t}\n\n\t\t\treturn directive;\n\t\t});","Magezon_Builder/js/directives/elementIcon.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\tscope: {\n\t\t\t\telement: '='\n\t\t\t},\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element_icon.html');\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/directives/elementResizable.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/directives/element-resizable.html');\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/directives/elementActions.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/directives/element-actions.html');\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/directives/resizable.js":"define([\n    'jquery'\n], function ($) {\n\n\tvar resizableDir = function(magezonBuilderService, $rootScope) {\n\t\treturn {\n            restrict: 'AE',\n            scope: {\n            \trElement: '=',\n                rDirections: '=',\n                rCenteredX: '=',\n                rCenteredY: '=',\n                rWidth: '=',\n                rHeight: '=',\n                rFlex: '=',\n                rGrabber: '@',\n                rDisabled: '@'\n            },\n            link: function(scope, element, attr) {\n                scope.sizes = [];\n                magezonBuilderService.getBuilderConfig('resizableSizes', function(resizableSizes) {\n                    scope.sizes = resizableSizes;\n                });\n\n            \tscope.currentSize = scope.sizes[scope.sizes.length-1];\n\n                var flexBasis = 'flexBasis' in document.documentElement.style ? 'flexBasis' :\n                    'webkitFlexBasis' in document.documentElement.style ? 'webkitFlexBasis' :\n                    'msFlexPreferredSize' in document.documentElement.style ? 'msFlexPreferredSize' : 'flexBasis';\n\n                // register watchers on width and height attributes if they are set\n                scope.$watch('rWidth', function(value){\n                    element[0].style.width = scope.rWidth + 'px';\n                });\n                scope.$watch('rHeight', function(value){\n                    element[0].style.height = scope.rHeight + 'px';\n                });\n\n                element.addClass('resizable');\n\n                var style = window.getComputedStyle(element[0], null),\n                    w,\n                    h,\n                    dir = scope.rDirections,\n                    vx = scope.rCenteredX ? 2 : 1, // if centered double velocity\n                    vy = scope.rCenteredY ? 2 : 1, // if centered double velocity\n                    inner = scope.rGrabber ? scope.rGrabber : '<span></span>',\n                    start,\n                    dragDir,\n                    axis,\n                    info = {};\n\n                var oldSize;\n\n                var updateInfo = function(e) {\n                    info.width = false; info.height = false;\n                    if(axis === 'x')\n                        info.width = parseInt(element[0].style[scope.rFlex ? flexBasis : 'width']);\n                    else\n                        info.height = parseInt(element[0].style[scope.rFlex ? flexBasis : 'height']);\n                    info.id = element[0].id;\n                    info.evt = e;\n\n                    var size = scope.currentSize;\n                    if (size && oldSize!=size) {\n                        magezonBuilderService.setResponiveValue(scope.rElement, 'size', size['value']);\n                        scope.$parent.$parent.$digest();\n                    \toldSize = size;\n                \t\telement[0].style['width'] = '';\n                \t\telement.parent().children('.mgz-column-resize').html(size.shortLabel);\n                        $rootScope.$broadcast('exportShortcode');\n\t                }\n                };\n\n                var getSize = function(percent) {\n\n                \tif (percent <= scope.sizes[0]['percent']) {\n                \t\treturn scope.sizes[0];\n                \t}\n\n                \tif (percent >= scope.sizes[scope.sizes.length-1]['percent']) {\n                \t\treturn scope.sizes[scope.sizes.length-1];\n                \t}\n\n                    scope.sizes.sort(function(a,b){\n                        return a['percent'] - b['percent'];\n                    });\n\n                    var newSizes = [];\n                    var size, a, b;\n                \tfor (var i = 0; i < scope.sizes.length; i++) {\n                        var row = scope.sizes[i];\n\n                        if (!size) {\n                            size = scope.sizes[i];\n                            continue;\n                        }\n\n                        a = Math.abs(percent - scope.sizes[i]['percent']);\n                        b = Math.abs(percent - size['percent']);\n\n                        if (a < b) {\n                            size = scope.sizes[i];\n                        }\n                \t}\n\n                    if (size) {\n                        return size;\n                    }\n\n                \treturn scope.currentSize;\n                }\n\n                var dragging = function(e) {\n                    var _width       = $(element).width();\n                    var _parentWidth = $(element).parents('.mgz-element-collection').eq(1).width() + 30;\n                    if (isNaN(_width) || !_width) return;\n                \tif (_width > _parentWidth) {\n\t\t\t\t\t\tpercent = 100;\n                \t} else {\n\t\t\t\t\t\tvar prop, offset = axis === 'x' ? start - e.clientX : start - e.clientY;\n\t\t\t\t\t\tvar percent      = (_width / _parentWidth) * 100;\n\t                }\n\t\t\t\t\tscope.currentSize = getSize(percent);\n                    switch(dragDir) {\n                        case 'right':\n                            prop = scope.rFlex ? flexBasis : 'width';\n                            element[0].style[prop] = (w - offset) + 'px';\n                            break;\n                        case 'left':\n                            prop = scope.rFlex ? flexBasis : 'width';\n                            element[0].style[prop] = w + (offset * vx) + 'px';\n                            break;\n                    }\n                    updateInfo(e);\n                };\n\n                var dragEnd = function(e) {\n                \telement.parent().removeClass('mgz-resizing');\n                \telement[0].style['width'] = '';\n                    updateInfo();\n                    document.removeEventListener('mouseup', dragEnd, false);\n                    document.removeEventListener('mousemove', dragging, false);\n                    element.removeClass('no-transition');\n                };\n                var dragStart = function(e, direction) {\n                    var width = element.closest('.mgz-element').outerWidth();\n\t\t\t\t\telement.parent().addClass('mgz-resizing');\n                    element.width(width);\n\t\t\t\t\tdragDir = direction;\n\t\t\t\t\taxis    = dragDir === 'left' || dragDir === 'right' ? 'x' : 'y';\n\t\t\t\t\tstart   = axis === 'x' ? e.clientX : e.clientY;\n                    w = parseInt(style.getPropertyValue('width'));\n                    h = parseInt(style.getPropertyValue('height'));\n\n                    //prevent transition while dragging\n                    element.addClass('no-transition');\n\n                    document.addEventListener('mouseup', dragEnd, false);\n                    document.addEventListener('mousemove', dragging, false);\n\n                    // Disable highlighting while dragging\n                    if(e.stopPropagation) e.stopPropagation();\n                    if(e.preventDefault) e.preventDefault();\n                    e.cancelBubble = true;\n                    e.returnValue = false;\n                    updateInfo(e);\n                };\n\n                dir.forEach(function (direction) {\n                    var grabber = document.createElement('div');\n\n                    // add class for styling purposes\n                    grabber.setAttribute('class', 'mgz-resize');\n                    grabber.innerHTML = inner;\n                    element[0].appendChild(grabber);\n                    grabber.ondragstart = function() { return false; };\n                    grabber.addEventListener('mousedown', function(e) {\n                        var disabled = (scope.rDisabled === 'true');\n                        if (!disabled && e.which === 1) {\n                            // left mouse click\n                            dragStart(e, direction);\n                        }\n                    }, false);\n\n                    if(!element.parent().children('.mgz-column-resize').length) {\n                    \telement.parent().append('<div class=\"mgz-column-resize\"></div>');\n                    }\n                });\n            }\n        };\n\t};\n\n\treturn resizableDir;\n});","Magezon_Builder/js/directives/navigatorProfile.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\tscope: {\n\t\t\t\telement: '='\n\t\t\t},\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/navigator/element/profile.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\t$scope.listVisible = true;\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/directives/colorPicker.js":"define([\n\t'jquery',\n\t'angular',\n    'Magezon_Builder/js/ui/form/element/color-picker-palette'\n], function ($, angular, palette) {\n\n\tvar directive = function(magezonBuilderUrl, $timeout, $rootScope) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\trequire: \"ngModel\",\n\t\t\tscope: {\n\t\t\t\tconfig: '='\n\t\t\t},\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/directives/color.html');\n\t\t\t},\n\t\t\tlink: function(scope, element, attrs, ngModel) {\n\t\t\t\tvar initColorPicker = function() {\n\t\t\t\t\tvar config = {\n\t\t\t\t\t\tcontainerClassName: 'mgz-spectrum',\n\t\t                chooseText: 'Apply',\n\t\t                cancelText: 'Cancel',\n\t\t                maxSelectionSize: 8,\n\t\t                clickoutFiresChange: true,\n\t\t                allowEmpty: true,\n\t\t                localStorageKey: 'magezon.spectrum',\n\t\t                palette: palette,\n\t\t                showInput: true,\n\t\t                showInitial: false,\n\t\t                showPalette: true,\n\t\t                showAlpha: true,\n\t\t                showSelectionPalette: true,\n\t\t                preferredFormat: 'hex',\n\t\t                color: ngModel.$viewValue,\n\t\t                hide : function(c) {\n\t\t                \t$timeout(function() {\n\t\t                \t\tif (c) ngModel.$setViewValue(c.toString());\n\t\t                \t});\n\t\t                }\n\t\t            };\n\t\t            config = angular.extend(config, scope.config);\n\t\t            element.spectrum(config);\n\t\t        }\n\t            setTimeout(function() {\n\t            \tinitColorPicker();\n\t            });\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modules/dynamicDirective.js":"// Source Blog: https://weblogs.thinktecture.com/pawel/2014/07/angularjs-dynamic-directives.html\n// https://jsfiddle.net/Pawel_Gerr/y22ZK/\n\n/**\n * Dynamic directive\n */\n(function(dynamicDirective) {\n    'use strict';\n\n    /**\n     * @param $scope\n     */\n    function Controller($scope) {\n\n    }\n\n    /**\n     * @constructor\n     * @param $compile\n     * @param {DynamicDirectiveManager} dynamicDirectiveManager\n     */\n    function Directive($compile, dynamicDirectiveManager) {\n\n        function safeApply(scope, fn) {\n            var phase = scope.$root.$$phase;\n\n            if (phase === '$apply' || phase === '$digest') {\n                if (fn && (typeof(fn) === 'function')) {\n                    fn();\n                }\n            } else {\n                scope.$apply(fn);\n            }\n        }\n\n        return {\n            restrict: 'AE',\n            require: 'dynamicDirective',\n            controller: Controller,\n            compile: function () {\n\n                var currentSuffix;\n                var ctx = new DummyDynamicDirectiveContext();\n\n                return {\n                    post: function (scope, element, attrs, controller) {\n\n                        controller.recompile = function (suffix) {\n                            if (currentSuffix === suffix) {\n                                return;\n                            }\n\n                            currentSuffix = suffix;\n\n                            // safeApply(scope, function () {\n                            //     ctx.recompileInnerElement(scope, element, currentSuffix, attrs);\n                            // });\n                        };\n\n                        ctx.register();\n                        //ctx.recompileInnerElement(scope, element, currentSuffix, attrs);\n\n                        scope.$on('$destroy', function () {\n                            ctx.unregister();\n                        });\n\n                        attrs.$observe('elementName', function (newName, oldName) {\n                            if (newName !== oldName) {\n                                ctx.unregister();\n                                ctx.destroyInnerElement(scope, element);\n\n                                if (newName) {\n                                    ctx = new DynamicDirectiveContext($compile, dynamicDirectiveManager, controller, newName, attrs);\n                                } else {\n                                    ctx = new DummyDynamicDirectiveContext();\n                                }\n\n                                ctx.register();\n                                ctx.recompileInnerElement(scope, element, currentSuffix, attrs);\n                            }\n                        });\n\n                    }\n                };\n            }\n        };\n    }\n\n    function DynamicDirectiveContext($compile, dynamicDirectiveManager, controller, elementName, attrs) {\n\n        if (!elementName) {\n            throw new Error('Element name must not null nor empty.');\n        }\n\n        var normalizedName = attrs.$normalize(elementName);\n        var currentInnerElement;\n\n        // taken from angular.js\n        var SNAKE_CASE_REGEXP = /[A-Z]/g;\n\n        function snakeCase(name, separator) {\n            separator = separator || '_';\n            return name.replace(SNAKE_CASE_REGEXP, function (letter, pos) {\n                return (pos ? separator : '') + letter.toLowerCase();\n            });\n        }\n\n        function createElement(currentSuffix) {\n\n            var name = elementName;\n\n            if (angular.isDefined(currentSuffix) && (currentSuffix !== null)) {\n                name = name + '-' + currentSuffix;\n            }\n\n            var directiveElem = angular.element(document.createElement(name));\n            var attrsToOmit = ['elementName', '$attr'];\n\n            angular.forEach(attrs, function (value, key) {\n                if (attrs.hasOwnProperty(key) && (attrsToOmit.indexOf(key) < 0) && (key.indexOf('$$') !== 0)) {\n                  if (snakeCase(key, '-')!='ng-repeat') {\n                    //directiveElem.attr(snakeCase(key, '-'), value);\n                  }\n                }\n            });\n            return directiveElem;\n        }\n\n        this.recompileInnerElement = function (scope, element, suffix, attrs) {\n            this.destroyInnerElement(scope, element);\n            currentInnerElement = createElement(suffix);\n            if (attrs.elementName == 'mgz-element-menu_item') {\n                element.replaceWith(currentInnerElement);\n            } else {\n                element.append(currentInnerElement);\n            }\n            $compile(currentInnerElement)(scope);\n        };\n\n        this.destroyInnerElement = function (scope, element) {\n            destroyInnerScope(scope);\n            //element.html(null);\n        };\n\n        function destroyInnerScope(scope) {\n            if (currentInnerElement) {\n                var innerScope = currentInnerElement.isolateScope() || currentInnerElement.scope();\n\n                if (innerScope && (innerScope !== scope)) {\n                  //innerScope.$destroy();\n                }\n            }\n        }\n\n        this.register = function () {\n            dynamicDirectiveManager.add(normalizedName, controller);\n        };\n\n        this.unregister = function () {\n            dynamicDirectiveManager.remove(normalizedName, controller);\n        };\n    }\n\n    function DummyDynamicDirectiveContext() {\n\n        this.register = function () {\n        };\n\n        this.unregister = function () {\n        };\n\n        this.recompileInnerElement = function () {\n        };\n\n        this.destroyInnerElement = function () {\n        };\n    }\n\n    /**\n     * @constructor\n     * @param $compileProvider\n     * @param {DynamicDirectiveSuffixGenerator} dynamicDirectiveSuffixGenerator\n     */\n    function DynamicDirectiveManager($compileProvider, dynamicDirectiveSuffixGenerator) {\n        if (!$compileProvider) {\n            throw new Error('Compile provider must not be null.');\n        }\n\n        var defaultSuffixGenerator = dynamicDirectiveSuffixGenerator;\n        var dynDirectives = {};\n        var registeredDirectives = {};\n        var regex = /^[a-z0-9]+$/;\n\n        /**\n         * Adds a dynamic directive controller instance to the manager.\n         * @param {string} normalizedElementName Pascal-cased name of the directive.\n         * @param {*} dynamicDirectiveController A dynamic directive controller.\n         */\n        this.add = function (normalizedElementName, dynamicDirectiveController) {\n            if (!normalizedElementName) {\n                throw new Error('Name must not be empty.');\n            }\n\n            if (!dynamicDirectiveController) {\n                throw new Error('Dynamic directive controller must not be null.');\n            }\n\n            var directives = dynDirectives[normalizedElementName];\n\n            if (!directives) {\n                directives = [];\n                dynDirectives[normalizedElementName] = directives;\n\n            } else if (directives.indexOf(dynamicDirectiveController) >= 0) {\n                return;\n            }\n\n            directives.push(dynamicDirectiveController);\n\n            var suffixes = registeredDirectives[normalizedElementName];\n            if (suffixes) {\n                dynamicDirectiveController.recompile(suffixes._last);\n            }\n        };\n\n        /**\n         * Removes a dynamic directive controller from the manager.\n         * @param {string} normalizedElementName Pascal-cased name of the directive.\n         * @param {*} dynamicDirectiveController A dynamic directive controller.\n         */\n        this.remove = function (normalizedElementName, dynamicDirectiveController) {\n            if (!normalizedElementName) {\n                throw new Error('Name must not be empty.');\n            }\n\n            if (!dynamicDirectiveController) {\n                throw new Error('Dynamic directive controller must not be null.');\n            }\n\n            var directives = dynDirectives[normalizedElementName];\n\n            if (directives) {\n                var index = directives.indexOf(dynamicDirectiveController);\n\n                if (index >= 0) {\n                    directives.splice(index, 1);\n                }\n            }\n\n        };\n\n        /**\n         * Registers a new directive.\n         * @param {string} normalizedName Pascal-cased directive name.\n         * @param {function} constructor Directive constructor\n         * @param {*} [suffix] If suffix equals false than no suffix is appended; if suffix is undefined than a random suffix is generated; otherwise the suffix is converted to string.\n         */\n        this.registerDirective = function (normalizedName, constructor, suffix) {\n            var nameWithSuffix = normalizedName;\n            suffix = prepareSuffix(normalizedName, suffix);\n\n            if (!angular.isUndefined(suffix)) {\n                nameWithSuffix = nameWithSuffix + suffix;\n            }\n\n            var registerDirective = true;\n            var suffixes = registeredDirectives[normalizedName];\n\n            if (!suffixes) {\n                suffixes = {};\n                registeredDirectives[normalizedName] = suffixes;\n            }\n\n            if (suffixes[suffix]) {\n                registerDirective = false;\n            } else {\n                suffixes[suffix] = true;\n            }\n\n            suffixes._last = suffix;\n\n            if (!$compileProvider) {\n                dynamicDirective.directive(nameWithSuffix, constructor);\n            } else {\n                if (registerDirective) {\n                    $compileProvider.directive.apply(null, [nameWithSuffix, constructor]);\n                }\n\n                recompile(normalizedName, suffix);\n            }\n        };\n\n        /**\n         * Changes the suffix generator.\n         * @param {{generateSuffix:Function}} suffixGenerator\n         */\n        this.changeSuffixGenerator = function (suffixGenerator) {\n            if (angular.isUndefined(suffixGenerator) || (suffixGenerator === null)) {\n                dynamicDirectiveSuffixGenerator = defaultSuffixGenerator;\n                return;\n            }\n\n            if (!angular.isFunction(suffixGenerator.generateSuffix)) {\n                throw new Error('Suffix generator must have a function \"generateSuffix\".');\n            }\n\n            dynamicDirectiveSuffixGenerator = suffixGenerator;\n        };\n\n        /**\n         * Changes the suffix of all dynamic directives.\n         * @param {*} [suffix] If suffix equals false than no suffix is appended; if suffix is undefined than a random suffix is generated; otherwise the suffix is converted to string.\n         */\n        this.changeSuffix = function (suffix) {\n\n            _.each(dynDirectives, function (directives, normalizedName) {\n\n                var preparedSuffix = prepareSuffix(normalizedName, suffix);\n                var suffixes = registeredDirectives[normalizedName];\n\n                if (suffixes) {\n                    suffixes._last = preparedSuffix;\n                }\n\n                angular.forEach(directives, function (dynamicDirective) {\n                    dynamicDirective.recompile(preparedSuffix);\n                });\n            });\n        };\n\n        function prepareSuffix(normalizedName, suffix) {\n            if (suffix === false) {\n                return undefined;\n            }\n\n            if (angular.isUndefined(suffix)) {\n                suffix = dynamicDirectiveSuffixGenerator.generateSuffix(normalizedName);\n            }\n\n            if (!regex.test(suffix)) {\n                throw new Error('Suffix must consist of lowercased characters (a-z) and number (0-9) only.');\n            } else {\n                suffix = suffix + '';\n                suffix = suffix.substr(0, 1).toUpperCase() + suffix.substr(1);\n            }\n\n            return suffix;\n        }\n\n        function recompile(normalizedElementName, suffix) {\n            var directives = dynDirectives[normalizedElementName];\n\n            if (directives) {\n                angular.forEach(directives, function (dynamicDirective) {\n                    dynamicDirective.recompile(suffix);\n                });\n            }\n        }\n    }\n\n    /**\n     * @constructor\n     */\n    function DynamicDirectiveManagerProvider() {\n        var $compileProvider;\n\n        this.setCompileProvider = function (compileProvider) {\n            if (!compileProvider) {\n                throw new Error('Compile provider must not be null.');\n            }\n\n            $compileProvider = compileProvider;\n        };\n\n        this.$get = function ($injector) {\n            return $injector.instantiate(DynamicDirectiveManager, { $compileProvider: $compileProvider });\n        };\n    }\n\n    /**\n     * @constructor\n     */\n    function DynamicDirectiveSuffixGenerator() {\n\n        /**\n         * @param {string} normalizedName\n         * @returns {string}\n         */\n        this.generateSuffix = function (normalizedName) {\n            return new Date().getTime() + '';\n        };\n\n    }\n\n    dynamicDirective.provider('dynamicDirectiveManager', DynamicDirectiveManagerProvider);\n    dynamicDirective.service('dynamicDirectiveSuffixGenerator', DynamicDirectiveSuffixGenerator);\n    dynamicDirective.directive('dynamicDirective', Directive);\n\n    /* grab the $compileProvider */\n    dynamicDirective\n        .config(function ($compileProvider, dynamicDirectiveManagerProvider) {\n            dynamicDirectiveManagerProvider.setCompileProvider($compileProvider);\n        })\n        .run(function (dynamicDirectiveManager) {\n            dynamicDirective.dynamicDirectiveManager = dynamicDirectiveManager;\n        });\n\n})(angular.module('dynamicDirective', []));\n","Magezon_Builder/js/modules/contentEditable.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function($document, $rootScope, $timeout) {\n\t\treturn {\n\t\t\trequire: \"ngModel\",\n\t\t\tlink: function(scope, element, attrs, ngModel) {\n\t\t\t\telement.addClass('mgz-contenteditable-element');\n\t\t\t\telement.attr('contenteditable', true);\n\n\t\t\t\tvar type = attrs.type ? attrs.type : 'inline';\n\n\t\t\t\tfunction read() {\n\t\t\t\t\tngModel.$setViewValue(element.html());\n\t\t\t\t}\n\n\t\t\t\tfunction updatePlaceHolder() {\n\t\t\t\t\tif (element.data('placeholder') && !ngModel.$viewValue) {\n\t\t\t\t\t\telement.addClass('placeholder-text');\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.removeClass('placeholder-text');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tngModel.$render = function() {\n\t\t\t\t\telement.html(ngModel.$viewValue || \"\");\n\t\t\t\t};\n\n\t\t\t\tscope.enableEditing = function() {\n\t\t\t\t\tif(scope.element) {\n\t\t\t\t\t\t$rootScope.$broadcast('disableEditing', scope.element);\n\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\tscope.element.builder.editing = true;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\telement.bind(\"click\", function(e) {\n\t\t\t\t\tvar draggableParent = element.closest('.ui-draggable');\n\t\t\t\t\tif (draggableParent.length) {\n\t\t\t\t\t\tdraggableParent.draggable({ disabled: true });\n\t\t\t\t\t}\n\t\t\t\t\tscope.enableEditing();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t});\n\n\t\t\t\telement.bind(\"focus\", function(e) {\n\t\t\t\t\telement.trigger('click');\n\t\t\t\t\telement.trigger('mouseenter');\n\t\t\t\t});\n\n\t\t\t\telement.bind(\"blur\", function(e) {\n\t\t\t\t\tvar draggableParent = element.closest('.ui-draggable');\n\t\t\t\t\tif (draggableParent.length) {\n\t\t\t\t\t\tdraggableParent.draggable({ disabled: false });\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\telement.bind(\"blur keyup keypress change\", function() {\n\t\t\t\t\tupdatePlaceHolder();\n\t\t\t\t\tscope.$apply(read);\n\t\t\t\t});\n\n\t\t\t\telement.bind(\"keydown keypress\", function (e) {\n\t\t\t\t\tif(e.which === 13 && type == 'inline') {\n\t                    element[0].blur();\n\t                    e.preventDefault();\n\t                }\n\t\t\t\t});\n\n\t\t\t\tscope.$on('disableEditing', function(e, elem) {\n\t\t\t\t\tif (scope.element) {\n\t\t\t\t\t\tif (elem.id !== scope.element.id) {\n\t\t\t\t\t\t\tscope.element.builder.editing = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modules/outside-click.js":"require(['jquery'], function($) {\n\n// https://github.com/abrkt/ng-outside-click\n(function(){\n  'use strict';\n\n  var contains = function (parent, child) {\n    var node = child;\n    while ((node = node.parentNode) !== null && node !== parent);\n    return node !== null;\n  };\n\n  angular.module('ngOutsideClick', []).directive('outsideClick', ['$document', function ($document) {\n    return {\n      restrict: 'A',\n      link: function ($scope, $element, $attrs) {\n        var scopeExpression = $attrs.outsideClick;\n        var onDocumentClick = function (event) {\n          if ($element[0] !== event.target && !contains($element[0], event.target) && !$(event.target).parents('.mgz-element-controls').length) {\n            $scope.$apply(scopeExpression);\n          }\n        };\n        $document.on('click', onDocumentClick);\n        $element.on('$destroy', function () {\n          $document.off('click', onDocumentClick);\n        });\n      }\n    };\n  }]);\n\n})();\n\n});","Magezon_Builder/js/modules/inlineEditor.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function($rootScope, magezonBuilderEditor, magezonBuilderService, magezonBuilderFilter, $document, $timeout) {\n\t\treturn {\n\t\t\trequire: \"ngModel\",\n\t\t\tlink: function(scope, element, attrs, ngModel) {\n\t\t\t\telement.addClass('mgz-inline-editor');\n\t\t\t\telement.attr('contenteditable', true);\n\n\t\t\t\tscope.id = magezonBuilderService.uniqueid();\n\t\t\t\tscope.wysiwyg = Object.extend(angular.copy($rootScope.builderConfig.wysiwyg), scope.wysiwyg);\n\t\t\t\tscope.wysiwyg['inline'] = true;\n\t\t\t\tscope.wysiwyg['fixed_toolbar_container'] = '.' + scope.element.id + ' .mgz-element-inner';\n\t\t\t\telement.attr('id', scope.id);\n\n\t\t\t\tngModel.$render = function() {\n\t\t\t\t\telement.html(magezonBuilderFilter.encodeContent(ngModel.$viewValue) || \"\");\n\t\t\t\t};\n\n\t\t\t\telement.bind(\"click\", function(e) {\n\t\t\t\t\t$rootScope.$broadcast('disableEditing', scope.element);\n\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\tscope.element.builder.editing = true;\n\t\t\t\t\t}, 1000);\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t});\n\n\t\t\t\tif ($rootScope.builderConfig.wysiwyg.tinymce4) {\n\t\t\t\t\telement.on('mouseenter', function() {\n\t\t\t\t\t\tmagezonBuilderEditor.initTinymce(scope.id, scope.wysiwyg, function(value) {\n\t\t\t\t\t\t\tngModel.$setViewValue(magezonBuilderFilter.decodeContent(value));\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\telement.bind(\"blur\", function(e) {\n\t\t\t\t\tif (scope.element) {\n\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\tscope.element.builder.editing = false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tscope.$on('disableEditing', function(e, elem) {\n\t\t\t\t\tif (scope.element) {\n\t\t\t\t\t\tif (elem.id !== scope.element.id) {\n\t\t\t\t\t\t\tscope.element.builder.editing = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/modules/afterRender.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function($timeout) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\trestrict: 'A',\n\t        terminal: true,\n\t        transclude: false,\n\t        link: function (scope, element, attrs) {\n\t            $timeout(function() {\n\t            \tscope.$eval(attrs.afterRender);\n\t            }, 100);\n\t        }\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/jarallax/jarallax-video.js":"/*!\n * Name    : Video Background Extension for Jarallax\n * Version : 1.0.1\n * Author  : nK <https://nkdev.info>\n * GitHub  : https://github.com/nk-o/jarallax\n */\n!function(o) {\n    var i = {};\n    function n(e) {\n        if (i[e])\n            return i[e].exports;\n        var t = i[e] = {\n            i: e,\n            l: !1,\n            exports: {}\n        };\n        return o[e].call(t.exports, t, t.exports, n),\n        t.l = !0,\n        t.exports\n    }\n    n.m = o,\n    n.c = i,\n    n.d = function(e, t, o) {\n        n.o(e, t) || Object.defineProperty(e, t, {\n            enumerable: !0,\n            get: o\n        })\n    }\n    ,\n    n.r = function(e) {\n        \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n            value: \"Module\"\n        }),\n        Object.defineProperty(e, \"__esModule\", {\n            value: !0\n        })\n    }\n    ,\n    n.t = function(t, e) {\n        if (1 & e && (t = n(t)),\n        8 & e)\n            return t;\n        if (4 & e && \"object\" == typeof t && t && t.__esModule)\n            return t;\n        var o = Object.create(null);\n        if (n.r(o),\n        Object.defineProperty(o, \"default\", {\n            enumerable: !0,\n            value: t\n        }),\n        2 & e && \"string\" != typeof t)\n            for (var i in t)\n                n.d(o, i, function(e) {\n                    return t[e]\n                }\n                .bind(null, i));\n        return o\n    }\n    ,\n    n.n = function(e) {\n        var t = e && e.__esModule ? function() {\n            return e.default\n        }\n        : function() {\n            return e\n        }\n        ;\n        return n.d(t, \"a\", t),\n        t\n    }\n    ,\n    n.o = function(e, t) {\n        return Object.prototype.hasOwnProperty.call(e, t)\n    }\n    ,\n    n.p = \"\",\n    n(n.s = 6)\n}([, , function(e, t, o) {\n    \"use strict\";\n    e.exports = function(e) {\n        \"complete\" === document.readyState || \"interactive\" === document.readyState ? e.call() : document.attachEvent ? document.attachEvent(\"onreadystatechange\", function() {\n            \"interactive\" === document.readyState && e.call()\n        }) : document.addEventListener && document.addEventListener(\"DOMContentLoaded\", e)\n    }\n}\n, , function(o, e, t) {\n    \"use strict\";\n    (function(e) {\n        var t;\n        t = \"undefined\" != typeof window ? window : void 0 !== e ? e : \"undefined\" != typeof self ? self : {},\n        o.exports = t\n    }\n    ).call(this, t(5))\n}\n, function(e, t, o) {\n    \"use strict\";\n    var i, n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\n        return typeof e\n    }\n    : function(e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e\n    }\n    ;\n    i = function() {\n        return this\n    }();\n    try {\n        i = i || Function(\"return this\")() || (0,\n        eval)(\"this\")\n    } catch (e) {\n        \"object\" === (\"undefined\" == typeof window ? \"undefined\" : n(window)) && (i = window)\n    }\n    e.exports = i\n}\n, function(e, t, o) {\n    e.exports = o(7)\n}\n, function(e, t, o) {\n    \"use strict\";\n    var i = l(o(8))\n      , n = l(o(4))\n      , a = l(o(2))\n      , r = l(o(10));\n    function l(e) {\n        return e && e.__esModule ? e : {\n            default: e\n        }\n    }\n    n.default.VideoWorker = n.default.VideoWorker || i.default,\n    (0,\n    r.default)(),\n    (0,\n    a.default)(function() {\n        \"undefined\" != typeof jarallax && jarallax(document.querySelectorAll(\"[data-jarallax-video]\"))\n    })\n}\n, function(e, t, o) {\n    \"use strict\";\n    e.exports = o(9)\n}\n, function(e, t, o) {\n    \"use strict\";\n    Object.defineProperty(t, \"__esModule\", {\n        value: !0\n    });\n    var n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\n        return typeof e\n    }\n    : function(e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e\n    }\n      , a = function() {\n        function i(e, t) {\n            for (var o = 0; o < t.length; o++) {\n                var i = t[o];\n                i.enumerable = i.enumerable || !1,\n                i.configurable = !0,\n                \"value\"in i && (i.writable = !0),\n                Object.defineProperty(e, i.key, i)\n            }\n        }\n        return function(e, t, o) {\n            return t && i(e.prototype, t),\n            o && i(e, o),\n            e\n        }\n    }();\n    function i() {\n        this._done = [],\n        this._fail = []\n    }\n    i.prototype = {\n        execute: function(e, t) {\n            var o = e.length;\n            for (t = Array.prototype.slice.call(t); o--; )\n                e[o].apply(null, t)\n        },\n        resolve: function() {\n            this.execute(this._done, arguments)\n        },\n        reject: function() {\n            this.execute(this._fail, arguments)\n        },\n        done: function(e) {\n            this._done.push(e)\n        },\n        fail: function(e) {\n            this._fail.push(e)\n        }\n    };\n    var r = 0\n      , l = 0\n      , u = 0\n      , p = 0\n      , d = 0\n      , s = new i\n      , y = new i\n      , c = function() {\n        function i(e, t) {\n            !function(e, t) {\n                if (!(e instanceof t))\n                    throw new TypeError(\"Cannot call a class as a function\")\n            }(this, i);\n            var o = this;\n            o.url = e,\n            o.options_default = {\n                autoplay: !1,\n                loop: !1,\n                mute: !1,\n                volume: 100,\n                showContols: !0,\n                startTime: 0,\n                endTime: 0\n            },\n            o.options = o.extend({}, o.options_default, t),\n            o.videoID = o.parseURL(e),\n            o.videoID && (o.ID = r++,\n            o.loadAPI(),\n            o.init())\n        }\n        return a(i, [{\n            key: \"extend\",\n            value: function(o) {\n                var i = arguments;\n                return o = o || {},\n                Object.keys(arguments).forEach(function(t) {\n                    i[t] && Object.keys(i[t]).forEach(function(e) {\n                        o[e] = i[t][e]\n                    })\n                }),\n                o\n            }\n        }, {\n            key: \"parseURL\",\n            value: function(e) {\n                var t, o, i, n, a, r = !(!(t = e.match(/.*(?:youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=)([^#\\&\\?]*).*/)) || 11 !== t[1].length) && t[1], l = !(!(o = e.match(/https?:\\/\\/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/)) || !o[3]) && o[3], u = (i = e.split(/,(?=mp4\\:|webm\\:|ogv\\:|ogg\\:)/),\n                n = {},\n                a = 0,\n                i.forEach(function(e) {\n                    var t = e.match(/^(mp4|webm|ogv|ogg)\\:(.*)/);\n                    t && t[1] && t[2] && (n[\"ogv\" === t[1] ? \"ogg\" : t[1]] = t[2],\n                    a = 1)\n                }),\n                !!a && n);\n                return r ? (this.type = \"youtube\",\n                r) : l ? (this.type = \"vimeo\",\n                l) : !!u && (this.type = \"local\",\n                u)\n            }\n        }, {\n            key: \"isValid\",\n            value: function() {\n                return !!this.videoID\n            }\n        }, {\n            key: \"on\",\n            value: function(e, t) {\n                this.userEventsList = this.userEventsList || [],\n                (this.userEventsList[e] || (this.userEventsList[e] = [])).push(t)\n            }\n        }, {\n            key: \"off\",\n            value: function(o, i) {\n                var n = this;\n                this.userEventsList && this.userEventsList[o] && (i ? this.userEventsList[o].forEach(function(e, t) {\n                    e === i && (n.userEventsList[o][t] = !1)\n                }) : delete this.userEventsList[o])\n            }\n        }, {\n            key: \"fire\",\n            value: function(e) {\n                var t = this\n                  , o = [].slice.call(arguments, 1);\n                this.userEventsList && void 0 !== this.userEventsList[e] && this.userEventsList[e].forEach(function(e) {\n                    e && e.apply(t, o)\n                })\n            }\n        }, {\n            key: \"play\",\n            value: function(e) {\n                var t = this;\n                t.player && (\"youtube\" === t.type && t.player.playVideo && (void 0 !== e && t.player.seekTo(e || 0),\n                YT.PlayerState.PLAYING !== t.player.getPlayerState() && t.player.playVideo()),\n                \"vimeo\" === t.type && (void 0 !== e && t.player.setCurrentTime(e),\n                t.player.getPaused().then(function(e) {\n                    e && t.player.play()\n                })),\n                \"local\" === t.type && (void 0 !== e && (t.player.currentTime = e),\n                t.player.paused && t.player.play()))\n            }\n        }, {\n            key: \"pause\",\n            value: function() {\n                var t = this;\n                t.player && (\"youtube\" === t.type && t.player.pauseVideo && YT.PlayerState.PLAYING === t.player.getPlayerState() && t.player.pauseVideo(),\n                \"vimeo\" === t.type && t.player.getPaused().then(function(e) {\n                    e || t.player.pause()\n                }),\n                \"local\" === t.type && (t.player.paused || t.player.pause()))\n            }\n        }, {\n            key: \"mute\",\n            value: function() {\n                var e = this;\n                e.player && (\"youtube\" === e.type && e.player.mute && e.player.mute(),\n                \"vimeo\" === e.type && e.player.setVolume && e.player.setVolume(0),\n                \"local\" === e.type && (e.$video.muted = !0))\n            }\n        }, {\n            key: \"unmute\",\n            value: function() {\n                var e = this;\n                e.player && (\"youtube\" === e.type && e.player.mute && e.player.unMute(),\n                \"vimeo\" === e.type && e.player.setVolume && e.player.setVolume(e.options.volume),\n                \"local\" === e.type && (e.$video.muted = !1))\n            }\n        }, {\n            key: \"setVolume\",\n            value: function() {\n                var e = 0 < arguments.length && void 0 !== arguments[0] && arguments[0]\n                  , t = this;\n                t.player && e && (\"youtube\" === t.type && t.player.setVolume && t.player.setVolume(e),\n                \"vimeo\" === t.type && t.player.setVolume && t.player.setVolume(e),\n                \"local\" === t.type && (t.$video.volume = e / 100))\n            }\n        }, {\n            key: \"getVolume\",\n            value: function(t) {\n                var e = this;\n                e.player ? (\"youtube\" === e.type && e.player.getVolume && t(e.player.getVolume()),\n                \"vimeo\" === e.type && e.player.getVolume && e.player.getVolume().then(function(e) {\n                    t(e)\n                }),\n                \"local\" === e.type && t(100 * e.$video.volume)) : t(!1)\n            }\n        }, {\n            key: \"getMuted\",\n            value: function(t) {\n                var e = this;\n                e.player ? (\"youtube\" === e.type && e.player.isMuted && t(e.player.isMuted()),\n                \"vimeo\" === e.type && e.player.getVolume && e.player.getVolume().then(function(e) {\n                    t(!!e)\n                }),\n                \"local\" === e.type && t(e.$video.muted)) : t(null)\n            }\n        }, {\n            key: \"getImageURL\",\n            value: function(t) {\n                var o = this;\n                if (o.videoImage)\n                    t(o.videoImage);\n                else {\n                    if (\"youtube\" === o.type) {\n                        var e = [\"maxresdefault\", \"sddefault\", \"hqdefault\", \"0\"]\n                          , i = 0\n                          , n = new Image;\n                        n.onload = function() {\n                            120 !== (this.naturalWidth || this.width) || i === e.length - 1 ? (o.videoImage = \"https://img.youtube.com/vi/\" + o.videoID + \"/\" + e[i] + \".jpg\",\n                            t(o.videoImage)) : (i++,\n                            this.src = \"https://img.youtube.com/vi/\" + o.videoID + \"/\" + e[i] + \".jpg\")\n                        }\n                        ,\n                        n.src = \"https://img.youtube.com/vi/\" + o.videoID + \"/\" + e[i] + \".jpg\"\n                    }\n                    if (\"vimeo\" === o.type) {\n                        var a = new XMLHttpRequest;\n                        a.open(\"GET\", \"https://vimeo.com/api/v2/video/\" + o.videoID + \".json\", !0),\n                        a.onreadystatechange = function() {\n                            if (4 === this.readyState && 200 <= this.status && this.status < 400) {\n                                var e = JSON.parse(this.responseText);\n                                o.videoImage = e[0].thumbnail_large,\n                                t(o.videoImage)\n                            }\n                        }\n                        ,\n                        a.send(),\n                        a = null\n                    }\n                }\n            }\n        }, {\n            key: \"getIframe\",\n            value: function(e) {\n                this.getVideo(e)\n            }\n        }, {\n            key: \"getVideo\",\n            value: function(u) {\n                var p = this;\n                p.$video ? u(p.$video) : p.onAPIready(function() {\n                    var e = void 0;\n                    if (p.$video || ((e = document.createElement(\"div\")).style.display = \"none\"),\n                    \"youtube\" === p.type) {\n                        p.playerOptions = {},\n                        p.playerOptions.videoId = p.videoID,\n                        p.playerOptions.playerVars = {\n                            autohide: 1,\n                            rel: 0,\n                            autoplay: 0,\n                            playsinline: 1\n                        },\n                        p.options.showContols || (p.playerOptions.playerVars.iv_load_policy = 3,\n                        p.playerOptions.playerVars.modestbranding = 1,\n                        p.playerOptions.playerVars.controls = 0,\n                        p.playerOptions.playerVars.showinfo = 0,\n                        p.playerOptions.playerVars.disablekb = 1);\n                        var t = void 0\n                          , o = void 0;\n                        p.playerOptions.events = {\n                            onReady: function(t) {\n                                if (p.options.mute ? t.target.mute() : p.options.volume && t.target.setVolume(p.options.volume),\n                                p.options.autoplay && p.play(p.options.startTime),\n                                p.fire(\"ready\", t),\n                                p.options.loop && !p.options.endTime) {\n                                    p.options.endTime = p.player.getDuration() - .1\n                                }\n                                setInterval(function() {\n                                    p.getVolume(function(e) {\n                                        p.options.volume !== e && (p.options.volume = e,\n                                        p.fire(\"volumechange\", t))\n                                    })\n                                }, 150)\n                            },\n                            onStateChange: function(e) {\n                                p.options.loop && e.data === YT.PlayerState.ENDED && p.play(p.options.startTime),\n                                t || e.data !== YT.PlayerState.PLAYING || (t = 1,\n                                p.fire(\"started\", e)),\n                                e.data === YT.PlayerState.PLAYING && p.fire(\"play\", e),\n                                e.data === YT.PlayerState.PAUSED && p.fire(\"pause\", e),\n                                e.data === YT.PlayerState.ENDED && p.fire(\"ended\", e),\n                                e.data === YT.PlayerState.PLAYING ? o = setInterval(function() {\n                                    p.fire(\"timeupdate\", e),\n                                    p.options.endTime && p.player.getCurrentTime() >= p.options.endTime && (p.options.loop ? p.play(p.options.startTime) : p.pause())\n                                }, 150) : clearInterval(o)\n                            }\n                        };\n                        var i = !p.$video;\n                        if (i) {\n                            var n = document.createElement(\"div\");\n                            n.setAttribute(\"id\", p.playerID),\n                            e.appendChild(n),\n                            document.body.appendChild(e)\n                        }\n                        p.player = p.player || new window.YT.Player(p.playerID,p.playerOptions),\n                        i && (p.$video = document.getElementById(p.playerID),\n                        p.videoWidth = parseInt(p.$video.getAttribute(\"width\"), 10) || 1280,\n                        p.videoHeight = parseInt(p.$video.getAttribute(\"height\"), 10) || 720)\n                    }\n                    if (\"vimeo\" === p.type) {\n                        if (p.playerOptions = {\n                            id: p.videoID,\n                            autopause: 0,\n                            transparent: 0,\n                            autoplay: p.options.autoplay ? 1 : 0,\n                            loop: p.options.loop ? 1 : 0,\n                            muted: p.options.mute ? 1 : 0\n                        },\n                        p.options.volume && (p.playerOptions.volume = p.options.volume),\n                        p.options.showContols || (p.playerOptions.badge = 0,\n                        p.playerOptions.byline = 0,\n                        p.playerOptions.portrait = 0,\n                        p.playerOptions.title = 0),\n                        !p.$video) {\n                            var a = \"\";\n                            Object.keys(p.playerOptions).forEach(function(e) {\n                                \"\" !== a && (a += \"&\"),\n                                a += e + \"=\" + encodeURIComponent(p.playerOptions[e])\n                            }),\n                            p.$video = document.createElement(\"iframe\"),\n                            p.$video.setAttribute(\"id\", p.playerID),\n                            p.$video.setAttribute(\"src\", \"https://player.vimeo.com/video/\" + p.videoID + \"?\" + a),\n                            p.$video.setAttribute(\"frameborder\", \"0\"),\n                            p.$video.setAttribute(\"mozallowfullscreen\", \"\"),\n                            p.$video.setAttribute(\"allowfullscreen\", \"\"),\n                            e.appendChild(p.$video),\n                            document.body.appendChild(e)\n                        }\n                        p.player = p.player || new Vimeo(p.$video,p.playerOptions),\n                        p.options.startTime && p.options.autoplay && p.player.setCurrentTime(p.options.startTime),\n                        p.player.getVideoWidth().then(function(e) {\n                            p.videoWidth = e || 1280\n                        }),\n                        p.player.getVideoHeight().then(function(e) {\n                            p.videoHeight = e || 720\n                        });\n                        var r = void 0;\n                        p.player.on(\"timeupdate\", function(e) {\n                            r || (p.fire(\"started\", e),\n                            r = 1),\n                            p.fire(\"timeupdate\", e),\n                            p.options.endTime && p.options.endTime && e.seconds >= p.options.endTime && (p.options.loop ? p.play(p.options.startTime) : p.pause())\n                        }),\n                        p.player.on(\"play\", function(e) {\n                            p.fire(\"play\", e),\n                            p.options.startTime && 0 === e.seconds && p.play(p.options.startTime)\n                        }),\n                        p.player.on(\"pause\", function(e) {\n                            p.fire(\"pause\", e)\n                        }),\n                        p.player.on(\"ended\", function(e) {\n                            p.fire(\"ended\", e)\n                        }),\n                        p.player.on(\"loaded\", function(e) {\n                            p.fire(\"ready\", e)\n                        }),\n                        p.player.on(\"volumechange\", function(e) {\n                            p.fire(\"volumechange\", e)\n                        })\n                    }\n                    if (\"local\" === p.type) {\n                        p.$video || (p.$video = document.createElement(\"video\"),\n                        p.options.showContols && (p.$video.controls = !0),\n                        p.options.mute ? p.$video.muted = !0 : p.$video.volume && (p.$video.volume = p.options.volume / 100),\n                        p.options.loop && (p.$video.loop = !0),\n                        p.$video.setAttribute(\"playsinline\", \"\"),\n                        p.$video.setAttribute(\"webkit-playsinline\", \"\"),\n                        p.$video.setAttribute(\"id\", p.playerID),\n                        e.appendChild(p.$video),\n                        document.body.appendChild(e),\n                        Object.keys(p.videoID).forEach(function(e) {\n                            var t, o, i, n;\n                            t = p.$video,\n                            o = p.videoID[e],\n                            i = \"video/\" + e,\n                            (n = document.createElement(\"source\")).src = o,\n                            n.type = i,\n                            t.appendChild(n)\n                        })),\n                        p.player = p.player || p.$video;\n                        var l = void 0;\n                        p.player.addEventListener(\"playing\", function(e) {\n                            l || p.fire(\"started\", e),\n                            l = 1\n                        }),\n                        p.player.addEventListener(\"timeupdate\", function(e) {\n                            p.fire(\"timeupdate\", e),\n                            p.options.endTime && p.options.endTime && this.currentTime >= p.options.endTime && (p.options.loop ? p.play(p.options.startTime) : p.pause())\n                        }),\n                        p.player.addEventListener(\"play\", function(e) {\n                            p.fire(\"play\", e)\n                        }),\n                        p.player.addEventListener(\"pause\", function(e) {\n                            p.fire(\"pause\", e)\n                        }),\n                        p.player.addEventListener(\"ended\", function(e) {\n                            p.fire(\"ended\", e)\n                        }),\n                        p.player.addEventListener(\"loadedmetadata\", function() {\n                            p.videoWidth = this.videoWidth || 1280,\n                            p.videoHeight = this.videoHeight || 720,\n                            p.fire(\"ready\"),\n                            p.options.autoplay && p.play(p.options.startTime)\n                        }),\n                        p.player.addEventListener(\"volumechange\", function(e) {\n                            p.getVolume(function(e) {\n                                p.options.volume = e\n                            }),\n                            p.fire(\"volumechange\", e)\n                        })\n                    }\n                    u(p.$video)\n                })\n            }\n        }, {\n            key: \"init\",\n            value: function() {\n                this.playerID = \"VideoWorker-\" + this.ID\n            }\n        }, {\n            key: \"loadAPI\",\n            value: function() {\n            \tif (this.type == \"vimeo\") {\n\t            \trequire(['https://player.vimeo.com/api/player.js'], function(Vimeo) {\n\t\t                if (!l || !u) {\n\t\t                \twindow.Vimeo = Vimeo;\n\t\t                }\n\t            \t});\n            \t} else {\n            \t\tif (!l || !u) {\n\t                    var e = \"\";\n\t                    if (\"youtube\" !== this.type || l || (l = 1,\n\t                    e = \"https://www.youtube.com/iframe_api\"),\n\t                    \"vimeo\" !== this.type || u || (u = 1,\n\t                    e = \"https://player.vimeo.com/api/player.js\"),\n\t                    e) {\n\t                        var t = document.createElement(\"script\")\n\t                          , o = document.getElementsByTagName(\"head\")[0];\n\t                        t.src = e,\n\t                        o.appendChild(t),\n\t                        t = o = null\n\t                    }\n\t                }\n            \t}\n            }\n        }, {\n            key: \"onAPIready\",\n            value: function(e) {\n                if (\"youtube\" === this.type && (\"undefined\" != typeof YT && 0 !== YT.loaded || p ? \"object\" === (\"undefined\" == typeof YT ? \"undefined\" : n(YT)) && 1 === YT.loaded ? e() : s.done(function() {\n                    e()\n                }) : (p = 1,\n                window.onYouTubeIframeAPIReady = function() {\n                    window.onYouTubeIframeAPIReady = null,\n                    s.resolve(\"done\"),\n                    e()\n                }\n                )),\n                \"vimeo\" === this.type)\n                    if (\"undefined\" != typeof Vimeo || d)\n                        \"undefined\" != typeof Vimeo ? e() : y.done(function() {\n                            e()\n                        });\n                    else {\n                        d = 1;\n                        var t = setInterval(function() {\n                            \"undefined\" != typeof Vimeo && (clearInterval(t),\n                            y.resolve(\"done\"),\n                            e())\n                        }, 20)\n                    }\n                \"local\" === this.type && e()\n            }\n        }]),\n        i\n    }();\n    t.default = c\n}\n, function(e, t, o) {\n    \"use strict\";\n    Object.defineProperty(t, \"__esModule\", {\n        value: !0\n    }),\n    t.default = function() {\n        var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : u.default.jarallax;\n        if (void 0 === e)\n            return;\n        var t = e.constructor\n          , i = t.prototype.init;\n        t.prototype.init = function() {\n            var o = this;\n            i.apply(o),\n            o.video && !o.options.disableVideo() && o.video.getVideo(function(e) {\n                var t = e.parentNode;\n                o.css(e, {\n                    position: o.image.position,\n                    top: \"0px\",\n                    left: \"0px\",\n                    right: \"0px\",\n                    bottom: \"0px\",\n                    width: \"100%\",\n                    height: \"100%\",\n                    maxWidth: \"none\",\n                    maxHeight: \"none\",\n                    margin: 0,\n                    zIndex: -1\n                }),\n                o.$video = e,\n                o.image.$container.appendChild(e),\n                t.parentNode.removeChild(t)\n            })\n        }\n        ;\n        var l = t.prototype.coverImage;\n        t.prototype.coverImage = function() {\n            var e = this\n              , t = l.apply(e)\n              , o = !!e.image.$item && e.image.$item.nodeName;\n            if (t && e.video && o && (\"IFRAME\" === o || \"VIDEO\" === o)) {\n                var i = t.image.height\n                  , n = i * e.image.width / e.image.height\n                  , a = (t.container.width - n) / 2\n                  , r = t.image.marginTop;\n                t.container.width > n && (n = t.container.width,\n                i = n * e.image.height / e.image.width,\n                a = 0,\n                r += (t.image.height - i) / 2),\n                \"IFRAME\" === o && (i += 400,\n                r -= 200),\n                e.css(e.$video, {\n                    width: n + \"px\",\n                    marginLeft: a + \"px\",\n                    height: i + \"px\",\n                    marginTop: r + \"px\"\n                })\n            }\n            return t\n        }\n        ;\n        var o = t.prototype.initImg;\n        t.prototype.initImg = function() {\n            var e = this\n              , t = o.apply(e);\n            return e.options.videoSrc || (e.options.videoSrc = e.$item.getAttribute(\"data-jarallax-video\") || null),\n            e.options.videoSrc ? (e.defaultInitImgResult = t,\n            !0) : t\n        }\n        ;\n        var n = t.prototype.canInitParallax;\n        t.prototype.canInitParallax = function() {\n            var o = this\n              , e = n.apply(o);\n            if (!o.options.videoSrc)\n                return e;\n            var t = new r.default(o.options.videoSrc,{\n                autoplay: !0,\n                loop: o.options.videoLoop,\n                showContols: !1,\n                startTime: o.options.videoStartTime || 0,\n                endTime: o.options.videoEndTime || 0,\n                mute: o.options.videoVolume ? 0 : 1,\n                volume: o.options.videoVolume || 0\n            });\n            if (t.isValid())\n                if (e) {\n                    if (t.on(\"ready\", function() {\n                        if (o.options.videoPlayOnlyVisible) {\n                            var e = o.onScroll;\n                            o.onScroll = function() {\n                                e.apply(o),\n                                (o.options.videoLoop || !o.options.videoLoop && !o.videoEnded) && (o.isVisible() ? t.play() : t.pause())\n                            }\n                        } else\n                            t.play()\n                    }),\n                    t.on(\"started\", function() {\n                        o.image.$default_item = o.image.$item,\n                        o.image.$item = o.$video,\n                        o.image.width = o.video.videoWidth || 1280,\n                        o.image.height = o.video.videoHeight || 720,\n                        o.coverImage(),\n                        o.clipContainer(),\n                        o.onScroll(),\n                        o.image.$default_item && (o.image.$default_item.style.display = \"none\")\n                    }),\n                    t.on(\"ended\", function() {\n                        o.videoEnded = !0,\n                        o.options.videoLoop || o.image.$default_item && (o.image.$item = o.image.$default_item,\n                        o.image.$item.style.display = \"block\",\n                        o.coverImage(),\n                        o.clipContainer(),\n                        o.onScroll())\n                    }),\n                    o.video = t,\n                    !o.defaultInitImgResult)\n                        return \"local\" !== t.type ? (t.getImageURL(function(e) {\n                            o.image.src = e,\n                            o.init()\n                        }),\n                        !1) : (o.image.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",\n                        !0)\n                } else\n                    o.defaultInitImgResult || t.getImageURL(function(e) {\n                        var t = o.$item.getAttribute(\"style\");\n                        t && o.$item.setAttribute(\"data-jarallax-original-styles\", t),\n                        o.css(o.$item, {\n                            \"background-image\": 'url(\"' + e + '\")',\n                            \"background-position\": \"center\",\n                            \"background-size\": \"cover\"\n                        })\n                    });\n            return e\n        }\n        ;\n        var a = t.prototype.destroy;\n        t.prototype.destroy = function() {\n            var e = this;\n            e.image.$default_item && (e.image.$item = e.image.$default_item,\n            delete e.image.$default_item),\n            a.apply(e)\n        }\n    }\n    ;\n    var r = i(o(8))\n      , u = i(o(4));\n    function i(e) {\n        return e && e.__esModule ? e : {\n            default: e\n        }\n    }\n}\n]);","Magezon_Builder/js/jarallax/jarallax.min.js":"/*!\n * Name    : Just Another Parallax [Jarallax]\n * Version : 1.10.7\n * Author  : nK <https://nkdev.info>\n * GitHub  : https://github.com/nk-o/jarallax\n */!function(o){var n={};function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=o,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=11)}([,,function(e,t,o){\"use strict\";e.exports=function(e){\"complete\"===document.readyState||\"interactive\"===document.readyState?e.call():document.attachEvent?document.attachEvent(\"onreadystatechange\",function(){\"interactive\"===document.readyState&&e.call()}):document.addEventListener&&document.addEventListener(\"DOMContentLoaded\",e)}},,function(o,e,t){\"use strict\";(function(e){var t;t=\"undefined\"!=typeof window?window:void 0!==e?e:\"undefined\"!=typeof self?self:{},o.exports=t}).call(this,t(5))},function(e,t,o){\"use strict\";var n,i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"===(\"undefined\"==typeof window?\"undefined\":i(window))&&(n=window)}e.exports=n},,,,,,function(e,t,o){e.exports=o(12)},function(e,t,o){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=l(o(2)),a=o(4),r=l(o(13));function l(e){return e&&e.__esModule?e:{default:e}}var s=a.window.jarallax;if(a.window.jarallax=r.default,a.window.jarallax.noConflict=function(){return a.window.jarallax=s,this},void 0!==a.jQuery){var c=function(){var e=arguments||[];Array.prototype.unshift.call(e,this);var t=r.default.apply(a.window,e);return\"object\"!==(void 0===t?\"undefined\":n(t))?t:this};c.constructor=r.default.constructor;var u=a.jQuery.fn.jarallax;a.jQuery.fn.jarallax=c,a.jQuery.fn.jarallax.noConflict=function(){return a.jQuery.fn.jarallax=u,this}}(0,i.default)(function(){(0,r.default)(document.querySelectorAll(\"[data-jarallax]\"))})},function(e,j,S){\"use strict\";(function(e){Object.defineProperty(j,\"__esModule\",{value:!0});var d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var r,l=e[Symbol.iterator]();!(n=(r=l.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},t=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=a(S(2)),n=a(S(14)),i=S(4);function a(e){return e&&e.__esModule?e:{default:e}}var s=-1<navigator.userAgent.indexOf(\"MSIE \")||-1<navigator.userAgent.indexOf(\"Trident/\")||-1<navigator.userAgent.indexOf(\"Edge/\"),r=function(){for(var e=\"transform WebkitTransform MozTransform\".split(\" \"),t=document.createElement(\"div\"),o=0;o<e.length;o++)if(t&&void 0!==t.style[e[o]])return e[o];return!1}(),b=void 0,v=void 0,l=void 0,c=!1,u=!1;function m(e){b=i.window.innerWidth||document.documentElement.clientWidth,v=i.window.innerHeight||document.documentElement.clientHeight,\"object\"!==(void 0===e?\"undefined\":p(e))||\"load\"!==e.type&&\"dom-loaded\"!==e.type||(c=!0)}m(),i.window.addEventListener(\"resize\",m),i.window.addEventListener(\"orientationchange\",m),i.window.addEventListener(\"load\",m),(0,o.default)(function(){m({type:\"dom-loaded\"})});var f=[],y=!1;function g(){if(f.length){l=void 0!==i.window.pageYOffset?i.window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;var t=c||!y||y.width!==b||y.height!==v,o=u||t||!y||y.y!==l;u=c=!1,(t||o)&&(f.forEach(function(e){t&&e.onResize(),o&&e.onScroll()}),y={width:b,height:v,y:l}),(0,n.default)(g)}}var h=!!e.ResizeObserver&&new e.ResizeObserver(function(e){e&&e.length&&(0,n.default)(function(){e.forEach(function(e){e.target&&e.target.jarallax&&(c||e.target.jarallax.onResize(),u=!0)})})}),x=0,w=function(){function u(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u);var o=this;o.instanceID=x++,o.$item=e,o.defaults={type:\"scroll\",speed:.5,imgSrc:null,imgElement:\".jarallax-img\",imgSize:\"cover\",imgPosition:\"50% 50%\",imgRepeat:\"no-repeat\",keepImg:!1,elementInViewport:null,zIndex:-100,disableParallax:!1,disableVideo:!1,automaticResize:!0,videoSrc:null,videoStartTime:0,videoEndTime:0,videoVolume:0,videoLoop:!0,videoPlayOnlyVisible:!0,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null};var n=o.$item.getAttribute(\"data-jarallax\"),i=JSON.parse(n||\"{}\");n&&console.warn(\"Detected usage of deprecated data-jarallax JSON options, you should use pure data-attribute options. See info here - https://github.com/nk-o/jarallax/issues/53\");var a=o.$item.dataset||{},r={};if(Object.keys(a).forEach(function(e){var t=e.substr(0,1).toLowerCase()+e.substr(1);t&&void 0!==o.defaults[t]&&(r[t]=a[e])}),o.options=o.extend({},o.defaults,i,r,t),o.pureOptions=o.extend({},o.options),Object.keys(o.options).forEach(function(e){\"true\"===o.options[e]?o.options[e]=!0:\"false\"===o.options[e]&&(o.options[e]=!1)}),o.options.speed=Math.min(2,Math.max(-1,parseFloat(o.options.speed))),(o.options.noAndroid||o.options.noIos)&&(console.warn(\"Detected usage of deprecated noAndroid or noIos options, you should use disableParallax option. See info here - https://github.com/nk-o/jarallax/#disable-on-mobile-devices\"),o.options.disableParallax||(o.options.noIos&&o.options.noAndroid?o.options.disableParallax=/iPad|iPhone|iPod|Android/:o.options.noIos?o.options.disableParallax=/iPad|iPhone|iPod/:o.options.noAndroid&&(o.options.disableParallax=/Android/))),\"string\"==typeof o.options.disableParallax&&(o.options.disableParallax=new RegExp(o.options.disableParallax)),o.options.disableParallax instanceof RegExp){var l=o.options.disableParallax;o.options.disableParallax=function(){return l.test(navigator.userAgent)}}if(\"function\"!=typeof o.options.disableParallax&&(o.options.disableParallax=function(){return!1}),\"string\"==typeof o.options.disableVideo&&(o.options.disableVideo=new RegExp(o.options.disableVideo)),o.options.disableVideo instanceof RegExp){var s=o.options.disableVideo;o.options.disableVideo=function(){return s.test(navigator.userAgent)}}\"function\"!=typeof o.options.disableVideo&&(o.options.disableVideo=function(){return!1});var c=o.options.elementInViewport;c&&\"object\"===(void 0===c?\"undefined\":p(c))&&void 0!==c.length&&(c=d(c,1)[0]);c instanceof Element||(c=null),o.options.elementInViewport=c,o.image={src:o.options.imgSrc||null,$container:null,useImgTag:!1,position:/iPad|iPhone|iPod|Android/.test(navigator.userAgent)?\"absolute\":\"fixed\"},o.initImg()&&o.canInitParallax()&&o.init()}return t(u,[{key:\"css\",value:function(t,o){return\"string\"==typeof o?i.window.getComputedStyle(t).getPropertyValue(o):(o.transform&&r&&(o[r]=o.transform),Object.keys(o).forEach(function(e){t.style[e]=o[e]}),t)}},{key:\"extend\",value:function(o){var n=arguments;return o=o||{},Object.keys(arguments).forEach(function(t){n[t]&&Object.keys(n[t]).forEach(function(e){o[e]=n[t][e]})}),o}},{key:\"getWindowData\",value:function(){return{width:b,height:v,y:l}}},{key:\"initImg\",value:function(){var e=this,t=e.options.imgElement;return t&&\"string\"==typeof t&&(t=e.$item.querySelector(t)),t instanceof Element||(t=null),t&&(e.options.keepImg?e.image.$item=t.cloneNode(!0):(e.image.$item=t,e.image.$itemParent=t.parentNode),e.image.useImgTag=!0),!!e.image.$item||(null===e.image.src&&(e.image.src=e.css(e.$item,\"background-image\").replace(/^url\\(['\"]?/g,\"\").replace(/['\"]?\\)$/g,\"\")),!(!e.image.src||\"none\"===e.image.src))}},{key:\"canInitParallax\",value:function(){return r&&!this.options.disableParallax()}},{key:\"init\",value:function(){var e=this,t={position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",overflow:\"hidden\",pointerEvents:\"none\"},o={};if(!e.options.keepImg){var n=e.$item.getAttribute(\"style\");if(n&&e.$item.setAttribute(\"data-jarallax-original-styles\",n),e.image.useImgTag){var i=e.image.$item.getAttribute(\"style\");i&&e.image.$item.setAttribute(\"data-jarallax-original-styles\",i)}}if(\"static\"===e.css(e.$item,\"position\")&&e.css(e.$item,{position:\"relative\"}),\"auto\"===e.css(e.$item,\"z-index\")&&e.css(e.$item,{zIndex:0}),e.image.$container=document.createElement(\"div\"),e.css(e.image.$container,t),e.css(e.image.$container,{\"z-index\":e.options.zIndex}),s&&e.css(e.image.$container,{opacity:.9999}),e.image.$container.setAttribute(\"id\",\"jarallax-container-\"+e.instanceID),e.$item.appendChild(e.image.$container),e.image.useImgTag?o=e.extend({\"object-fit\":e.options.imgSize,\"object-position\":e.options.imgPosition,\"font-family\":\"object-fit: \"+e.options.imgSize+\"; object-position: \"+e.options.imgPosition+\";\",\"max-width\":\"none\"},t,o):(e.image.$item=document.createElement(\"div\"),e.image.src&&(o=e.extend({\"background-position\":e.options.imgPosition,\"background-size\":e.options.imgSize,\"background-repeat\":e.options.imgRepeat,\"background-image\":'url(\"'+e.image.src+'\")'},t,o))),\"opacity\"!==e.options.type&&\"scale\"!==e.options.type&&\"scale-opacity\"!==e.options.type&&1!==e.options.speed||(e.image.position=\"absolute\"),\"fixed\"===e.image.position)for(var a=0,r=e.$item;null!==r&&r!==document&&0===a;){var l=e.css(r,\"-webkit-transform\")||e.css(r,\"-moz-transform\")||e.css(r,\"transform\");l&&\"none\"!==l&&(a=1,e.image.position=\"absolute\"),r=r.parentNode}o.position=e.image.position,e.css(e.image.$item,o),e.image.$container.appendChild(e.image.$item),e.onResize(),e.onScroll(!0),e.options.automaticResize&&h&&h.observe(e.$item),e.options.onInit&&e.options.onInit.call(e),\"none\"!==e.css(e.$item,\"background-image\")&&e.css(e.$item,{\"background-image\":\"none\"}),e.addToParallaxList()}},{key:\"addToParallaxList\",value:function(){f.push(this),1===f.length&&g()}},{key:\"removeFromParallaxList\",value:function(){var o=this;f.forEach(function(e,t){e.instanceID===o.instanceID&&f.splice(t,1)})}},{key:\"destroy\",value:function(){var e=this;e.removeFromParallaxList();var t=e.$item.getAttribute(\"data-jarallax-original-styles\");if(e.$item.removeAttribute(\"data-jarallax-original-styles\"),t?e.$item.setAttribute(\"style\",t):e.$item.removeAttribute(\"style\"),e.image.useImgTag){var o=e.image.$item.getAttribute(\"data-jarallax-original-styles\");e.image.$item.removeAttribute(\"data-jarallax-original-styles\"),o?e.image.$item.setAttribute(\"style\",t):e.image.$item.removeAttribute(\"style\"),e.image.$itemParent&&e.image.$itemParent.appendChild(e.image.$item)}e.$clipStyles&&e.$clipStyles.parentNode.removeChild(e.$clipStyles),e.image.$container&&e.image.$container.parentNode.removeChild(e.image.$container),e.options.onDestroy&&e.options.onDestroy.call(e),delete e.$item.jarallax}},{key:\"clipContainer\",value:function(){if(\"fixed\"===this.image.position){var e=this,t=e.image.$container.getBoundingClientRect(),o=t.width,n=t.height;if(!e.$clipStyles)e.$clipStyles=document.createElement(\"style\"),e.$clipStyles.setAttribute(\"type\",\"text/css\"),e.$clipStyles.setAttribute(\"id\",\"jarallax-clip-\"+e.instanceID),(document.head||document.getElementsByTagName(\"head\")[0]).appendChild(e.$clipStyles);var i=\"#jarallax-container-\"+e.instanceID+\" {\\n           clip: rect(0 \"+o+\"px \"+n+\"px 0);\\n           clip: rect(0, \"+o+\"px, \"+n+\"px, 0);\\n        }\";e.$clipStyles.styleSheet?e.$clipStyles.styleSheet.cssText=i:e.$clipStyles.innerHTML=i}}},{key:\"coverImage\",value:function(){var e=this,t=e.image.$container.getBoundingClientRect(),o=t.height,n=e.options.speed,i=\"scroll\"===e.options.type||\"scroll-opacity\"===e.options.type,a=0,r=o,l=0;return i&&(n<0?(a=n*Math.max(o,v),v<o&&(a-=n*(o-v))):a=n*(o+v),1<n?r=Math.abs(a-v):n<0?r=a/n+Math.abs(a):r+=(v-o)*(1-n),a/=2),e.parallaxScrollDistance=a,l=i?(v-r)/2:(o-r)/2,e.css(e.image.$item,{height:r+\"px\",marginTop:l+\"px\",left:\"fixed\"===e.image.position?t.left+\"px\":\"0\",width:t.width+\"px\"}),e.options.onCoverImage&&e.options.onCoverImage.call(e),{image:{height:r,marginTop:l},container:t}}},{key:\"isVisible\",value:function(){return this.isElementInViewport||!1}},{key:\"onScroll\",value:function(e){var t=this,o=t.$item.getBoundingClientRect(),n=o.top,i=o.height,a={},r=o;if(t.options.elementInViewport&&(r=t.options.elementInViewport.getBoundingClientRect()),t.isElementInViewport=0<=r.bottom&&0<=r.right&&r.top<=v&&r.left<=b,e||t.isElementInViewport){var l=Math.max(0,n),s=Math.max(0,i+n),c=Math.max(0,-n),u=Math.max(0,n+i-v),d=Math.max(0,i-(n+i-v)),p=Math.max(0,-n+v-i),m=1-2*(v-n)/(v+i),f=1;if(i<v?f=1-(c||u)/i:s<=v?f=s/v:d<=v&&(f=d/v),\"opacity\"!==t.options.type&&\"scale-opacity\"!==t.options.type&&\"scroll-opacity\"!==t.options.type||(a.transform=\"translate3d(0,0,0)\",a.opacity=f),\"scale\"===t.options.type||\"scale-opacity\"===t.options.type){var y=1;t.options.speed<0?y-=t.options.speed*f:y+=t.options.speed*(1-f),a.transform=\"scale(\"+y+\") translate3d(0,0,0)\"}if(\"scroll\"===t.options.type||\"scroll-opacity\"===t.options.type){var g=t.parallaxScrollDistance*m;\"absolute\"===t.image.position&&(g-=n),a.transform=\"translate3d(0,\"+g+\"px,0)\"}t.css(t.image.$item,a),t.options.onScroll&&t.options.onScroll.call(t,{section:o,beforeTop:l,beforeTopEnd:s,afterTop:c,beforeBottom:u,beforeBottomEnd:d,afterBottom:p,visiblePercent:f,fromViewportCenter:m})}}},{key:\"onResize\",value:function(){this.coverImage(),this.clipContainer()}}]),u}(),$=function(e){(\"object\"===(\"undefined\"==typeof HTMLElement?\"undefined\":p(HTMLElement))?e instanceof HTMLElement:e&&\"object\"===(void 0===e?\"undefined\":p(e))&&null!==e&&1===e.nodeType&&\"string\"==typeof e.nodeName)&&(e=[e]);for(var t=arguments[1],o=Array.prototype.slice.call(arguments,2),n=e.length,i=0,a=void 0;i<n;i++)if(\"object\"===(void 0===t?\"undefined\":p(t))||void 0===t?e[i].jarallax||(e[i].jarallax=new w(e[i],t)):e[i].jarallax&&(a=e[i].jarallax[t].apply(e[i].jarallax,o)),void 0!==a)return a;return e};$.constructor=w,j.default=$}).call(this,S(5))},function(e,t,o){\"use strict\";var n=o(4),i=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(e){var t=+new Date,o=Math.max(0,16-(t-a)),n=setTimeout(e,o);return a=t,n},a=+new Date;var r=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||clearTimeout;Function.prototype.bind&&(i=i.bind(n),r=r.bind(n)),(e.exports=i).cancel=r}]);","Magezon_Builder/js/form/element/dynamic-rows.js":"define([\n\t'angular'\n], function(angular) {\n\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.formOptions = {formState: $scope.formState};\n\t\t\t$scope.addNew = addNew;\n\n\t\t\tvar unique = 1;\n\n\t\t\tangular.forEach($scope.model[$scope.options.key], function(_item, index) {\n\t\t\t\t_item['position'] = index + 1;\n\t\t\t});\n\n\t\t\t$scope.copyFields = copyFields;\n\n\t\t\t$scope.$on('removeDynamicItem', function(event, item) {\n\t\t\t\tvar index = $scope.model[$scope.options.key].indexOf(item);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\t$scope.model[$scope.options.key].splice(index, 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.$on('radioDefaultDynamicItem', function(event, data) {\n\t\t\t\tvar index = $scope.model[$scope.options.key].indexOf(data.item);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tangular.forEach($scope.model[$scope.options.key], function(_item, index) {\n\t\t\t\t\t\tif (_item===data.item) {\n\t\t\t\t\t\t\t_item[data.key] = 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_item[data.key] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.$on('sortDynamicItems', function(event, data) {\n\t\t\t\t$scope.model[$scope.options.key] = _.sortBy($scope.model[$scope.options.key], data.key);\n\t\t\t});\n\n\t\t\tfunction copyFields(fields) {\n\t\t\t\tfields = angular.copy(fields);\n\t\t\t\taddRandomIds(fields);\n\t\t\t\treturn fields;\n\t\t\t}\n\n\t\t\tfunction addNew() {\n\t\t\t\t$scope.model[$scope.options.key] = $scope.model[$scope.options.key] || [];\n\t\t\t\tvar repeatsection = $scope.model[$scope.options.key];\n\t\t\t\tvar lastSection   = repeatsection[repeatsection.length - 1];\n\t\t\t\tvar newsection    = {};\n\t\t\t\tif (lastSection) {\n\t\t\t\t\tnewsection = angular.copy(lastSection);\n\t\t\t\t}\n\t\t\t\tvar newsection = {};\n\t\t\t\tnewsection['position'] = repeatsection.length + 1;\n\t\t\t\trepeatsection.push(newsection);\n\t\t\t}\n\n\t\t\tfunction addRandomIds(fields) {\n\t\t\t\tunique++;\n\t\t\t\tangular.forEach(fields, function(field, index) {\n\t\t\t\t\tif (field.fieldGroup) {\n\t\t\t\t\t\taddRandomIds(field.fieldGroup);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (field.children) {\n\t\t\t\t\t\taddRandomIds(field.children);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (field.templateOptions && field.templateOptions.children) {\n\t\t\t\t\t\taddRandomIds(field.templateOptions.children);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (field.key) {\n\t\t\t\t\t\tfield.id = field.key.replace(/\\./g,'_') + '_' + index + '_' + unique + getRandomInt(0, 9999);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction getRandomInt(min, max) {\n\t\t\t\treturn Math.floor(Math.random() * (max - min)) + min;\n\t\t\t}\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/color.js":"define([\n\t'jquery',\n\t'mgzspectrum',\n    'mgztinycolor',\n    'Magezon_Builder/js/ui/form/element/color-picker-palette'\n], function($, spectrum, tinycolor, palette) {\n\n\treturn {\n\t\tcontroller: function($scope, $timeout) {\n\n\t\t\t$scope.value = $scope.model[$scope.options.key];\n\t\t\tvar element = $('#' + $scope.id);\n\n\t\t\tvar getColor = function(color) {\n\t\t\t\tif (!color) color = $('#' + $scope.id).spectrum('get').toString();\n\t\t\t\treturn $scope.to.hex ? tinycolor(color).toHexString() : tinycolor(color).toString();\n\t\t\t}\n\n\t\t\tvar config = {\n\t\t\t\tcontainerClassName: 'mgz-spectrum',\n                chooseText: 'Apply',\n                cancelText: 'Cancel',\n                maxSelectionSize: 8,\n                clickoutFiresChange: true,\n                allowEmpty: true,\n                localStorageKey: 'magezon.spectrum',\n                palette: palette,\n                showInput: true,\n                showInitial: false,\n                showPalette: true,\n                showAlpha: $scope.to.hex ? false : true,\n                showSelectionPalette: true,\n                preferredFormat: 'hex',\n                color: $scope.value,\n                hide : function(c) {\n            \t\t$timeout(function() {\n                \t\tif ($('#' + $scope.id).spectrum('get')) {\n                \t\t\t$scope.model[$scope.options.key] = $scope.value = getColor();\n                \t\t\t$('#' + $scope.id).spectrum('set', $scope.value);\n                \t\t} else {\n                \t\t\t$scope.model[$scope.options.key] = $scope.value = '';\n                \t\t}\n                \t});\n                }\n            };\n            config = angular.extend(config, $scope.to.colorPickerConfig);\n\n\t\t\t$timeout(function() {\n\t\t\t\t$('#' + $scope.id).spectrum(config);\n\t\t\t\t$('#' + $scope.id + '-input').change(function(event) {\n\t\t\t\t\tvar value = $(this).val();\n\t\t\t\t\tif (value) {\n                        if (tinycolor(value).isValid()) {\n    \t\t\t\t\t\tvalue = getColor(value);\n    \t\t\t\t\t\t$('#' + $scope.id).spectrum('set', value);\n    \t\t\t\t\t\t$scope.model[$scope.options.key] = $scope.value = getColor();\n    \t\t\t\t\t\t$(this).val(value);\n                        }\n\t\t\t\t\t} else {\n                        $scope.model[$scope.options.key] = '';\n                    }\n\t\t\t\t});\n\t\t\t}, 200);\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/hide_on.js":"define([\n\t'jquery'\n], function($) {\n\n\treturn {\n\t\tcontroller: function($scope) {\n\t\t\t$scope.toggleHide = function(type) {\n\t\t\t\t$scope.model[type + '_hide'] = !$scope.model[type + '_hide'];\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/condition.js":"define([\n\t'jquery'\n], function($) {\n\n\t$(document).on('click', '.rule-param-remove', function() {\n\t\t$('.rule-tree').trigger('change');\n\t});\n\n\treturn {\n\t\tcontroller: function($rootScope, $scope, $sce, magezonBuilderService) {\n\t\t\t$scope.to.loading = true;\n\t\t\t$scope.id         = magezonBuilderService.uniqueid();\n\t\t\t$scope.status     = true;\n\n\t\t\t$scope.loadConditionsValue = function() {\n\t\t\t\tif ($scope.status) {\n\t\t\t\t\t$scope.status = false;\n\t\t\t\t\t$rootScope.$broadcast('disableSaveBtn');\n\t\t\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/conditionsValue', {\n\t\t\t\t\t\tvalues: $('.mgz-modal-form form').serialize(),\n\t\t\t\t\t\tfield: $scope.options.key\n\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\tif (res.status) {\n\t\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t\t$scope.model[$scope.options.key] = res.value;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$rootScope.$broadcast('enableSaveBtn');\n\t\t\t\t\t\t$scope.status = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/conditions', {\n\t\t\t\tconditions: $scope.model[$scope.options.key],\n\t\t\t\tid: $scope.id\n\t\t\t}, true, function(res) {\n\t\t\t\tif (res.message) {\n\t\t\t\t\talert(res.message);\n\t\t\t\t}\n\t\t\t\tif (res.status) {\n\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t$scope.html       = $sce.trustAsHtml(res.html);\n\t\t\t\t\t\t$scope.to.loading = false;\n\n\t\t\t\t\t\t$('#' + $scope.id).on('click', '.rule-param-remove,.rule-param-apply,.data-grid ._clickable,#select_widget_type', function() {\n\t\t\t\t\t\t\t$scope.loadConditionsValue();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$('#' + $scope.id).on('change', '.element-value-changer,.rule-tree', function() {\n\t\t\t\t\t\t\t$scope.loadConditionsValue();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/code.js":"define([\n\t'jquery'\n], function($) {\n\n\treturn {\n\t\tcontroller: function($scope, $timeout) {\n\t\t\t$timeout(function() {\n\t\t\t\t$scope.refreshEditor = true;\n\t\t\t}, 200);\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/magento-widget.js":"define([\n\t'jquery'\n], function($) {\n\n\treturn {\n\t\tcontroller: function($rootScope, $scope, magezonBuilderService, magezonBuilderFilter, $sce) {\n\t\t\t$scope.ajax = true;\n\t\t\t$rootScope.$broadcast('disableSaveBtn');\n\t\t\tmagezonBuilderService.post('mgzbuilder/widget/index', {}, false, function(res) {\n\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t$scope.html = $sce.trustAsHtml(res);\n\t\t\t\t\t$rootScope.$broadcast('enableSaveBtn');\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$scope.$watch('html', function(value) {\n\t\t\t\tif ($scope.model[$scope.options.key] && value) {\n\t\t\t\t\tvar widgetCode   = angular.copy($scope.model[$scope.options.key]);\n\t\t\t\t\tvar optionValues = new Hash({});\n\t\t\t\t\tvar widgetValue;\n\n\t\t\t\t\t// mage/adminhtml/wysiwyg/widget.js - line 287\n\t                widgetCode.gsub(/([a-z0-9\\_]+)\\s*\\=\\s*[\\\"]{1}([^\\\"]+)[\\\"]{1}/i, function (match) {\n\t                    if (match[1] == 'type') { //eslint-disable-line eqeqeq\n\t                        widgetValue = match[2];\n\t                    } else {\n\t                        optionValues.set(match[1], match[2]);\n\t                    }\n\t                });\n\n\t                if (widgetValue) {\n\t                \t$rootScope.$broadcast('disableSaveBtn');\n\t                \tvar params = {\n\t\t\t                'widget_type': widgetValue,\n\t\t\t                values: optionValues\n\t\t\t            };\n\t\t\t            magezonBuilderService.post('mgzbuilder/widget/loadOptions', {\n\t\t\t            \twidget: Object.toJSON(params)\n\t\t\t            }, false, function(res) {\n\t\t\t            \t$rootScope.$broadcast('enableSaveBtn');\n\t\t\t            \tvar widgetCode = widgetValue.gsub(/\\//, '_');\n\t\t\t            \t$('#select_widget_type').val(widgetCode);\n\t\t\t            \tvar optionsContainerId = 'widget_options_' + widgetCode;\n\t\t\t            \tvar optionsContainer   = $('#' + optionsContainerId);\n\t\t\t            \tif (optionsContainer.length) {\n\t\t\t            \t\toptionsContainer.html(res);\n\t\t\t            \t} else {\n\t\t\t            \t\tvar html = '<div id=\"' + optionsContainerId + '\">';\n\t\t\t            \t\thtml += res;\n\t\t\t            \t\thtml += '</div>';\n\t\t\t            \t\t$('#widget_options').append(html);\n\t\t\t            \t}\n\t\t\t            });\n\t                }\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.updateValue = function() {\n\t\t\t\tvar form  = $('#widget_options_form');\n\t\t\t\tvar valid = true;\n\t\t\t\tform.find('.error').each(function(index, el) {\n\t\t\t\t\tif ($(this).is(':visible')) {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (form.valid() && $scope.ajax) {\n\t\t\t\t\t$scope.ajax = false;\n\t\t\t\t\t$rootScope.$broadcast('disableSaveBtn');\n\t\t\t\t\tmagezonBuilderService.post('mgzbuilder/widget/buildWidget', form.serialize(), false, function(res) {\n\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t$scope.ajax = true;\n\t\t\t\t\t\t\t$rootScope.$broadcast('enableSaveBtn');\n\t\t\t\t\t\t\t$scope.model[$scope.options.key] = magezonBuilderFilter.decodeContent(res);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$(document).on('click', '.rule-param-apply,.rule-param-remove,.data-grid ._clickable,#select_widget_type,.x-tree-node-el', function() {\n\t\t\t\t$scope.updateValue();\n\t\t\t});\n\n\t\t\t$(document).on('change', \"#widget_options_form *[name^='parameters'],#select_widget_type\", function() {\n\t\t\t\tif ($(this).parents('.mgz-modal-form').length) {\n\t               $scope.updateValue();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/link_entity.js":"define([\n\t'angular',\n\t'underscore',\n], function(angular, _) {\n\n\treturn {\n\t\tcontroller: function($scope, magezonBuilderService, $timeout) {\n\t\t\tvar initializing = true;\n\t\t\t$scope.to.options = [];\n\n\t\t\t$scope.$watch('model.type', function(type) {\n\t\t\t\tif (type !== 'custom') {\n\t\t\t\t\t$scope.to.label = magezonBuilderService.capitalize(type);\n\t\t\t\t}\n\t\t\t\tif (initializing) {\n\t\t\t\t\t$timeout(function() { initializing = false; });\n\t\t\t\t} else {\n\t\t\t\t\t$scope.model.id = '';\n\t\t\t\t\t$scope.to.options = [];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.$watch('model.id', function(id) {\n\t\t\t\tif (id) {\n\t\t\t\t\tvar item = _.findWhere($scope.to.options, {value: id});\n\t\t\t\t\tif (!$scope.model.title) $scope.model.title = item.label;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.refresh = function($select) {\n\t\t\t\tvar type = $scope.model.type;\n\t\t\t\tvar search = $select.search ? $select.search : $scope.model[$scope.options.key];\n\t\t\t\tif (search && ($select.search.length >= 2 || $scope.model[$scope.options.key])) {\n\t\t\t\t\t$scope.to.loading = true;\n\t\t\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/itemList', {\n\t\t\t\t\t\ttype: $scope.model.type,\n\t\t\t\t\t\tq: search\n\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/tab.js":"define([\n\t'angular',\n    'jquery'\n], function(angular, $) {\n\n    return {\n        controller: function($scope) {\n\n\t\t\t$scope.tabs   = $scope.to.children;\n\t\t\t$scope.length = $scope.tabs.length;\n\n\t\t\t// Copy from forly.js\n        \tfunction formlyEval(scope, expression, $modelValue, $viewValue, extraLocals) {\n        \t\tif (angular.isFunction(expression)) {\n        \t\t\treturn expression($viewValue, $modelValue, scope, extraLocals);\n        \t\t} else {\n        \t\t\treturn scope.$eval(expression, angular.extend({ $viewValue: $viewValue, $modelValue: $modelValue }, extraLocals));\n        \t\t}\n        \t}\n\n        \t// Copy from forly.js\n        \tfunction getFormlyFieldLikeLocals(field, index) {\n        \t\treturn {\n        \t\t\tmodel: field.model,\n        \t\t\toptions: field,\n        \t\t\tindex: index,\n        \t\t\tformState: $scope.options.formState,\n        \t\t\toriginalModel: $scope.model,\n        \t\t\tformOptions: $scope.options,\n        \t\t\tformId: $scope.formId\n        \t\t};\n        \t}\n\n        \t// Copy from forly.js\n        \tfunction evalCloseToFormlyExpression(expression, val, field, index) {\n        \t\tvar extraLocals = arguments.length <= 4 || arguments[4] === undefined ? {} : arguments[4];\n        \t\textraLocals = angular.extend(getFormlyFieldLikeLocals(field, index), extraLocals);\n        \t\treturn formlyEval($scope, expression, val, val, extraLocals);\n        \t}\n\n\t\t\t$scope.$watch('model', function() {\n\t\t\t\tvar length = $scope.tabs.length;\n\t\t\t\tangular.forEach($scope.tabs, function (field, index) {\n\t\t\t\t\t// Copy from forly.js\n\t\t\t\t\tvar model = field.model || $scope.model;\n\t\t\t\t\tvar promise = field.runExpressions && field.runExpressions();\n\t\t\t\t\tif (field.hideExpression) {\n\t\t\t\t\t\tvar val = model[field.key];\n\t\t\t\t\t\tfield.hide = evalCloseToFormlyExpression(field.hideExpression, val, field, index, { model: model });\n\t\t\t\t\t\tif (field.hide) {\n\t\t\t\t\t\t\tlength--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$scope.length = length;\n\t\t\t}, true);\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/animation-out.js":"define(function() {\n\n\treturn {\n\t\tcontroller: function($scope, $timeout, magezonBuilderService) {\n\t\t\t$scope.to.loading = true;\n\t\t\tmagezonBuilderService.getBuilderConfig('animationOut', function(options) {\n\t\t\t\t$scope.styles = angular.copy(options);\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t})\n\t\t\t});\n\t\t\t$scope.loadAnimate = function() {\n\t\t\t\t$scope.animateClass = $scope.fc.$viewValue + ' animated';\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t$scope.animateClass = '';\n\t\t\t\t}, 1000);\n\t\t\t};\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/select.js":"define([\n\t'angular'\n], function(angular) {\n\n\treturn {\n\t\ttemplateOptions: {\n\t\t\tlabelProp: 'label',\n\t\t\tvalueProp: 'value'\n\t\t},\n\t\tcontroller: function($scope, $timeout, magezonBuilderService) {\n\t\t\t$scope.to.loading = false;\n\t\t\tif ($scope.to.lazyOptions) {\n\t\t\t\t$scope.to.options = eval($scope.to.lazyOptions);\n\t\t\t}\n\t\t\tif ($scope.to.builderConfig) {\n\t\t\t\t$scope.to.loading = true;\n\t\t\t\tmagezonBuilderService.getBuilderConfig($scope.to.builderConfig, function(options) {\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t$scope.to.options = options;\n\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ($scope.to.url) {\n\t\t\t\t$scope.to.loading = true;\n\t\t\t\tmagezonBuilderService.post($scope.to.url, {\n\t\t\t\t\tfield: $scope.options.key\n\t\t\t\t}, true, function(res) {\n\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else if ($scope.to.source) {\n\t\t\t\t$scope.to.loading = true;\n\t\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/itemList', {\n\t\t\t\t\ttype: $scope.to.source,\n\t\t\t\t\tfield: $scope.options.key\n\t\t\t\t}, true, function(res) {\n\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/dependency.js":"define([\n\t'angular',\n\t'jquery'\n], function(angular, $) {\n\n\treturn {\n\t\tcontroller: function($scope, $timeout) {\n\t\t\tvar initializing = true;\n\t\t\t$scope.$watch('model.' + $scope.options.key, function(value) {\n\t\t\t\tif (initializing) {\n\t\t\t\t\t$timeout(function() { initializing = false; });\n\t\t\t\t} else {\n\t\t\t\t\tif ($scope.to.values && $scope.to.values.hasOwnProperty(value)) {\n\t\t\t\t\t\tangular.forEach($scope.to.values[value], function(value, key) {\n\t\t\t\t\t\t\t$scope.model[key] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/multicheckbox.js":"define([\n\t'underscore'\n\t], function(_) {\n\n\t\treturn {\n\t\t\ttemplateOptions: {\n\t\t\t\tlabelProp: 'label',\n\t\t\t\tvalueProp: 'value'\n\t\t\t},\n\t\t\tcontroller: function($scope) {\n\t\t\t\tconst to = $scope.to;\n\t\t\t\tconst opts = $scope.options;\n\t\t\t\t$scope.multiCheckbox = {\n\t\t\t\t\tchecked: [],\n\t\t\t\t\tchange: setModel\n\t\t\t\t};\n\n        // initialize the checkboxes check property\n        $scope.$watch('model', function modelWatcher(newModelValue) {\n        \tvar modelValue, valueProp;\n\n        \tif (Object.keys(newModelValue).length) {\n        \t\tmodelValue = newModelValue[opts.key];\n\n        \t\t$scope.$watch('to.options', function optionsWatcher(newOptionsValues) {\n        \t\t\tif (newOptionsValues && Array.isArray(newOptionsValues) && Array.isArray(modelValue)) {\n        \t\t\t\tvalueProp = to.valueProp || 'value';\n        \t\t\t\tfor (var index = 0; index < newOptionsValues.length; index++) {\n        \t\t\t\t\t$scope.multiCheckbox.checked[index] = modelValue.indexOf(newOptionsValues[index][valueProp]) !== -1;\n        \t\t\t\t}\n        \t\t\t}\n        \t\t});\n        \t}\n        }, true);\n\n        function checkValidity(expressionValue) {\n        \tvar valid;\n\n        \tif ($scope.to.required) {\n        \t\tvalid = angular.isArray($scope.model[opts.key]) &&\n        \t\t$scope.model[opts.key].length > 0 &&\n        \t\texpressionValue;\n\n        \t\t$scope.fc.$setValidity('required', valid);\n        \t}\n        }\n\n        function setModel() {\n        \t$scope.model[opts.key] = [];\n        \tangular.forEach($scope.multiCheckbox.checked, (checkbox, index) => {\n        \t\tif (checkbox) {\n        \t\t\t$scope.model[opts.key].push(to.options[index][to.valueProp || 'value']);\n        \t\t}\n        \t});\n\n          // Must make sure we mark as touched because only the last checkbox due to a bug in angular.\n          $scope.fc.$setTouched();\n          checkValidity(true);\n          \n          if ($scope.to.onChange) {\n          \t$scope.to.onChange();\n          }\n      }\n\n      if (opts.expressionProperties && opts.expressionProperties['templateOptions.required']) {\n      \t$scope.$watch(function() {\n      \t\treturn $scope.to.required;\n      \t}, function(newValue) {\n      \t\tcheckValidity(newValue);\n      \t});\n      }\n\n      if ($scope.to.required) {\n      \tvar unwatchFormControl = $scope.$watch('fc', function(newValue) {\n      \t\tif (!newValue) {\n      \t\t\treturn;\n      \t\t}\n      \t\tcheckValidity(true);\n      \t\tunwatchFormControl();\n      \t});\n      }\n  }\n}\n})","Magezon_Builder/js/form/element/simply.js":"define([\n\t'jquery'\n], function($) {\n\n\treturn {\n\t\texpressionProperties: {\n\t\t\t'templateOptions.disabled': function(viewValue, modelValue, scope) {\n\t\t\t\tif (viewValue) {\n\t\t\t\t\tvar prefix = scope.to.prefix;\n\t\t\t\t\t$('.mgz-design-layout').addClass('mgz-design-simply');\n\t\t\t\t\tscope.model[prefix + 'border_top_left_radius'] = scope.model[prefix + 'border_bottom_right_radius'] = scope.model[prefix + 'border_bottom_left_radius'] = scope.model[prefix + 'border_top_right_radius'];\n\t\t\t\t\tscope.model[prefix + 'margin_right'] = scope.model[prefix + 'margin_bottom'] = scope.model[prefix + 'margin_left'] = scope.model[prefix + 'margin_top'];\n\t\t\t\t\tscope.model[prefix + 'border_right_width'] = scope.model[prefix + 'border_bottom_width'] = scope.model[prefix + 'border_left_width'] = scope.model[prefix + 'border_top_width'];\n\t\t\t\t\tscope.model[prefix + 'padding_right'] = scope.model[prefix + 'padding_bottom'] = scope.model[prefix + 'padding_left'] = scope.model[prefix + 'padding_top'];\n\t\t\t\t} else {\n\t\t\t\t\t$('.mgz-design-layout').removeClass('mgz-design-simply');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/image.js":"define([\n\t'angular',\n\t'Magezon_Core/js/mage/browser'\n], function(angular) {\n\n\treturn {\n\t\tcontroller: function($scope, $rootScope) {\n\t\t\t$scope.openFileManager =  function() {\n\t            var fileManagerUrl = $rootScope.builderConfig.fileManagerUrl.replace('UID', $scope.id);\n\t            MgzMediabrowserUtility.openDialog(fileManagerUrl);\n\t        }\n\n\t        $scope.getSrc = function() {\n\t        \tif ($scope.model[$scope.options.key]) {\n\t\t\t\t\treturn $rootScope.builderConfig.mediaUrl + $scope.model[$scope.options.key];\n\t\t\t\t}\n\t        }\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/ui-select.js":"define([\n\t'angular',\n\t'jquery'\n], function(angular, $) {\n\n\treturn {\n\t\ttemplateOptions: {\n\t\t\tlabelProp: 'label',\n\t\t\tvalueProp: 'value'\n\t\t},\n\t\tcontroller: function($scope, $timeout, magezonBuilderService) {\n\t\t\t$scope.to.loading = false;\n\n\t\t\tif ($scope.to.builderConfig) {\n\t\t\t\t$scope.to.loading = true;\n\t\t\t\tmagezonBuilderService.getBuilderConfig($scope.to.builderConfig, function(options) {\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t$scope.to.options = options;\n\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$scope.refresh = function($select) {\n\t\t\t\tvar search = $select.search ? $select.search : $scope.model[$scope.options.key];\n\t\t\t\tif (search && (search.length >= 2 || !isNaN(search))) {\n\t\t\t\t\tif ($scope.to.url) {\n\t\t\t\t\t\t$scope.to.loading = true;\n\t\t\t\t\t\tmagezonBuilderService.post($scope.to.url, {\n\t\t\t\t\t\t\tfield: $scope.options.key,\n\t\t\t\t\t\t\tq: search\n\t\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if ($scope.to.source) {\n\t\t\t\t\t\t$scope.to.loading = true;\n\t\t\t\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/itemList', {\n\t\t\t\t\t\t\ttype: $scope.to.source,\n\t\t\t\t\t\t\tfield: $scope.options.key,\n\t\t\t\t\t\t\tq: search\n\t\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/link.js":"define([\n\t'jquery',\n\t'underscore',\n    'uiRegistry'\n], function($, _, registry) {\n\n\treturn {\n\t\tcontroller: function($scope, magezonBuilderModal, magezonBuilderService, magezonBuilderFilter) {\n\t\t\t$scope.type = 'Custom';\n\n            $scope.getLinkParams = function(link) {\n\t\t\t\tvar params = {\n\t\t\t\t\ttype: 'custom',\n\t\t\t\t\turl: '',\n\t\t\t\t\tid: 0,\n\t\t\t\t\ttitle: '',\n\t\t\t\t\textra: '',\n\t\t\t\t\tnofollow: 0,\n\t\t\t\t\tblank: 0\n\t\t    \t};\n\t\t    \tif (link) {\n\t\t\t\t\tif (link.indexOf('{{mgzlink') === -1) {\n\t\t\t\t\t\tparams['url']  = link;\n\t\t\t\t\t\tparams['type'] = 'custom';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlink.gsub(/\\{\\{mgzlink(.*?)\\}\\}/i, function (match) {\n\t\t\t\t\t\t\tparams = magezonBuilderFilter.parseAttributesString(match[1]);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (params['url']) params['url'] = magezonBuilderService.removeslashes(params['url']);\n\t\t\t\treturn params;\n            }\n\n\t\t\t$scope.selectUrl = function() {\n\t\t\t\tmagezonBuilderModal.open('link', {\n\t\t\t\t\tbackdrop: true,\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tform: {\n\t\t\t\t\t\t\tmodel: $scope.getLinkParams($scope.model[$scope.options.key])\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, function(model) {\n\t\t\t\t\tvar link = '{{mgzlink';\n\t\t\t\t\tangular.forEach(model, function (value, key) {\n\t\t\t\t\t\tif (angular.isString(value)) {\n\t\t\t\t\t\t\tlink += ' ' + key + '=\"' + magezonBuilderService.addslashes(value) + '\"';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlink += ' ' + key + '=' + value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlink += '}}';\n\t\t\t\t\t$scope.model[$scope.options.key] = link;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$scope.$watch('model.' + $scope.options.key, function(link) {\n\t\t\t\tvar params = $scope.getLinkParams(link);\n\t\t\t\tvar type = params.type;\n\t\t\t\tif (type == 'custom') {\n\t\t\t\t\t$scope.type = 'Custom Url';\n\t\t\t\t\t$scope.linkName = params.url;\n\t\t\t\t} else {\n\t\t\t\t\t$scope.to.loading = true;\n\t\t\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/itemInfo', {\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\tq: params.id\n\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t$scope.title      = params.title;\n\t\t\t\t\t\t\t$scope.type       = magezonBuilderService.capitalize(type);\n\t\t\t\t\t\t\t$scope.linkName   = res.label;\n\t\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t\t})\n\t\t\t\t\t});\t\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/animation-in.js":"define(['angular'], function(angular) {\n\n\treturn {\n\t\tcontroller: function($scope, magezonBuilderService, $timeout) {\n\t\t\t$scope.to.loading = true;\n\t\t\tmagezonBuilderService.getBuilderConfig('animationIn', function(options) {\n\t\t\t\t$scope.styles = angular.copy(options);\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t})\n\t\t\t});\n\n\t\t\t$scope.loadAnimate = function() {\n\t\t\t\t$scope.animateClass = $scope.fc.$viewValue + ' animated';\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t$scope.animateClass = '';\n\t\t\t\t}, 1000);\n\t\t\t};\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/icon.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateOptions: {\n\t\t\tlabelProp: 'label',\n\t\t\tvalueProp: 'value'\n\t\t},\n\t\tcontroller: function($rootScope, $scope, magezonBuilderService) {\n\t\t\t$scope.font  = $scope.to.defaultFont ? $scope.to.defaultFont : 'awesome';\n\t\t\t$scope.fonts = [];\n\t\t\tangular.forEach($rootScope.builderConfig.fonts, function(font) {\n\t\t\t\t$scope.fonts.push(font);\n\t\t\t});\n\n\t\t\t$scope.onSuccess = function(data) {\n\t\t\t\t$scope.to.loading = false;\n\t\t\t\t$scope.to.options = data;\n\t\t\t};\n\n\t\t\t$scope.to.loading = true;\n\t\t\tmagezonBuilderService.getBuilderConfig('fonts.' + $scope.font, $scope.onSuccess);\n\t\t\t$scope.listVisible = false;\n\n\t\t\t$scope.$watch('model.' + $scope.options.key, function(value) {\n\t\t\t\t$scope.listVisible = false;\n\t\t\t});\n\n\t\t\t$scope.$watch('font', function(value) {\n\t\t\t\t$scope.to.loading = true;\n\t\t\t\tif (value) magezonBuilderService.getBuilderConfig('fonts.' + value, $scope.onSuccess);\n\t\t\t});\n\n\t\t\t$scope.tagHandler = function (tag) {\n\t\t\t    return null;\n\t\t\t}\n\n\t\t\t$scope.outsideClick = function() {\n\t\t\t\t$scope.listVisible = false;\n\t\t\t}\n\n\t\t\t$scope.removeIcon = function() {\n\t\t\t\t$scope.model[$scope.options.key] = '';\n\t\t\t}\n\t\t},\n\t\tlink: function(scope, element, attrs, $select) {\n            element.find('.mgz-selector-button').click(function(event) {\n            \tif (scope.listVisible) {\n            \t\tsetTimeout(function () {\n            \t\t\t$(element).find('.ui-select-toggle').first().trigger('click');\n            \t\t}, 300);\n            \t}\n            });        \n        }\n\t}\n});","Magezon_Builder/js/form/element/editor.js":"define([\n    'jquery',\n    'angular'\n], function($, angular) {\n\n    return {\n        controller: function($rootScope, $scope, magezonBuilderService, magezonBuilderEditor, magezonBuilderFilter) {\n            $scope.to.loading = true;\n            var config = Object.extend(angular.copy($rootScope.builderConfig.wysiwyg), $scope.to.wysiwyg);\n            $scope.id = magezonBuilderService.uniqueid();\n            $scope.content = $scope.model[$scope.options.key];\n            magezonBuilderEditor.initTinymce($scope.id, config, function(value) {\n                $scope.content = $scope.model[$scope.options.key] = magezonBuilderFilter.decodeContent(value);\n            }, function() {\n                $scope.to.loading = false;\n            });\n        }\n    }\n})","Magezon_Builder/js/form/element/date.js":"define([\n\t'jquery',\n\t'mage/calendar'\n], function($) {\n\n\treturn {\n\t\tlink: function(scope, element) {\n\t\t\tsetTimeout(function() {\n\t\t\t\t$('#' + scope.id).calendar({\n\t\t\t\t\tdateFormat: \"mm/dd/yy\"\n\t\t\t\t});\n\t\t\t}, 100);\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/save-templates.js":"define([\n\t'jquery'\n], function($) {\n\n\treturn {\n\t\tcontroller: function($rootScope, $scope, $timeout, magezonBuilderUrl, profileManager) {\n\t\t\t$scope.text     = 'Save Template';\n\t\t\t$scope.disabled = false;\n\n\t\t\t$scope.saveTemplate = function() {\n\t\t\t\tif ($scope.to.saveTemplateUrl) {\n\t\t\t\t\tvar name = $scope.model[$scope.options.key];\n\t\t\t\t\tif (name && !$scope.disabled) {\n\t\t\t\t\t\t$scope.disabled = true;\n\t\t\t\t\t\t$scope.text     = 'Saving';\n\n\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tprofile: profileManager.getShortCode(),\n\t\t\t\t\t\t\tis_active: 1\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t$.ajax({\n\t\t\t                url: magezonBuilderUrl.getUrl($scope.to.saveTemplateUrl),\n\t\t\t                type:'POST',\n\t\t\t                data: data,\n\t\t\t                success: function(res) {\n\t\t\t\t\t\t\t\tif (res.message) {\n\t\t\t\t\t\t\t\t\talert(res.message);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t\t\t$scope.text = 'Saved';\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\t\t\t$scope.model[$scope.options.key] = '';\n\t\t\t\t\t\t\t\t\t$scope.text                      = 'Save Template';\n\t\t\t\t\t\t\t\t\t$scope.disabled                  = false;\n\t\t\t\t\t\t\t\t\t$rootScope.$broadcast('loadTemplates');\n\t\t\t\t\t\t\t\t}, 1000);\n\t\t\t                }\n\t\t\t            });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/templates.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\ttemplateOptions: {\n\t\t\tlabelProp: 'label',\n\t\t\tvalueProp: 'value'\n\t\t},\n\t\tcontroller: function($rootScope, $scope, magezonBuilderService, elementManager, magezonBuilderModal, profileManager) {\n\t\t\t$scope.loadTemplates = function() {\n\t\t\t\t$rootScope.$broadcast('enableModalSpinner');\n\t\t\t\t$scope.to.loading = true;\n\t\t\t\tif ($scope.to.url) {\n\t\t\t\t\t$scope.to.loading = true;\n\t\t\t\t\tmagezonBuilderService.post($scope.to.url, {\n\t\t\t\t\t\tfield: $scope.options.key,\n\t\t\t\t\t\turl: $rootScope.builderConfig.profile.templateUrl\n\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\tangular.forEach(res, function(item, key) {\n\t\t\t\t\t\t\t\tif (item.profile) {\n\t\t\t\t\t\t\t\t\tvar profile = profileManager.prepareProfile(item.profile, true);\n\t\t\t\t\t\t\t\t\titem.elements = profile.elements;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (item.label) item.name = item.label;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t\t\t$rootScope.$broadcast('disableModalSpinner');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else if ($scope.to.source) {\n\t\t\t\t\t$scope.to.loading = true;\n\t\t\t\t\tmagezonBuilderService.post('mgzbuilder/ajax/itemList', {\n\t\t\t\t\t\ttype: $scope.to.source,\n\t\t\t\t\t\turl: $rootScope.builderConfig.profile.templateUrl\n\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\tangular.forEach(res, function(item, key) {\n\t\t\t\t\t\t\t\tif (item.profile) {\n\t\t\t\t\t\t\t\t\tvar profile = profileManager.prepareProfile(item.profile, true);\n\t\t\t\t\t\t\t\t\titem.elements = profile.elements;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (item.label) item.name = item.label;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$scope.to.options = res;\n\t\t\t\t\t\t\t$scope.to.loading = false;\n\t\t\t\t\t\t\t$rootScope.$broadcast('disableModalSpinner');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t$scope.loadTemplates();\n\n\t\t\t$scope.$on('loadTemplates', function() {\n\t\t\t\t$scope.loadTemplates();\n\t\t\t});\n\n\t\t\t$scope.openElements = function(item) {\n\t\t\t\titem['active'] = !item['active'];\n\t\t\t}\n\n\t\t    $scope.importItem = function(item) {\n\t\t    \tif (item.file || item.elements.length) {\n\t\t\t    \tvar elements;\n\t\t\t    \tif (item.elements && item.elements.length) {\n\t\t\t    \t\telements = angular.copy(elementManager.prepareElements(item.elements, true));\n\t\t\t\t\t\tangular.forEach(elements, function(elem, index) {\n\t\t\t\t\t\t\t$rootScope.profile.elements.push(angular.copy(elem));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmagezonBuilderModal.closeModal();\n\t\t\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\t\t\ttype: 'imported_template',\n\t\t\t\t\t\t\ttitle: item.name\n\t\t\t\t\t\t});\n\t\t\t\t\t\titem.importing = false;\n\t\t\t    \t}\n\t\t\t    \tif (item.file) {\n\t\t\t    \t\titem.importing = true;\n\t\t\t    \t\tmagezonBuilderService.post('mgzbuilder/ajax/template', {\n\t\t\t\t\t\t\titem: item\n\t\t\t\t\t\t}, true, function(res) {\n\t\t\t\t\t\t\telements = elementManager.prepareElements(res.elements, true);\n\t\t\t\t\t\t\tangular.forEach(elements, function(elem, index) {\n\t\t\t\t\t\t\t\t$rootScope.profile.elements.push(angular.copy(elem));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tmagezonBuilderModal.closeModal();\n\t\t\t\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\t\t\t\ttype: 'imported_template',\n\t\t\t\t\t\t\t\ttitle: item.name\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t$scope.$apply(function() {\n\t\t\t\t\t\t\t\titem.importing = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t    \t}\n\t\t\t\t}\n\t\t    }\n\t\t}\n\t}\n})","Magezon_Builder/js/form/element/dynamic-rows/radio.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\tlink: function(scope, element, attrs, ctrl) {\n\t\t\t$(element).find('input').click(function(event) {\n\t\t\t\tscope.$emit('radioDefaultDynamicItem', {\n\t\t\t\t\titem: scope.model,\n\t\t\t\t\tkey: scope.options.key\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/dynamic-rows/position.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\tlink: function(scope, element, attrs, ctrl) {\n\t\t\t$(element).find('input').change(function(event) {\n\t\t\t\tscope.$emit('sortDynamicItems', {\n\t\t\t\t\tkey: scope.options.key\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n});","Magezon_Builder/js/form/element/dynamic-rows/action-delete.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\treturn {\n\t\tlink: function(scope, element, attrs) {\n\t\t\tscope.removeItem = function() {\n\t\t\t\tscope.$emit('removeDynamicItem', scope.model);\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/cm/mode/javascript/javascript.js":"// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d+(?:[eE][+\\-]?\\d+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(/^(?:x[\\da-f]+|o[0-7]+|b[01]+)n?/i)) {\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^\\d*(?:n|(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return ret(\"error\", \"error\");\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (/[<>*+\\-]/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*.*?\\*\\/)*[\\[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/]/.test(ch)) {\n        return;\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true, \"this\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        // FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    // Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  // Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), forspec, statement, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), className, poplex); }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typeexpr, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, block, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), expression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    if (type == \"import\") return cont(expression);\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(expression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^>]|<.*?>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"keyof\" ? typeexpr : expressionNoComma)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), commasep(typeprop, \"}\", \",;\"), poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), typeprop)\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(pattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, expect(\")\"), poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, expect(\";\"), forspec2);\n    if (type == \";\") return cont(forspec2);\n    if (type == \"variable\") return cont(formaybeinof);\n    return pass(expression, expect(\";\"), forspec2);\n  }\n  function formaybeinof(_type, value) {\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return cont(maybeoperatorComma, forspec2);\n  }\n  function forspec2(type, value) {\n    if (type == \";\") return cont(forspec3);\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return pass(expression, expect(\";\"), forspec3);\n  }\n  function forspec3(type) {\n    if (type != \")\") cont(expression);\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(isTS ? classfield : functiondef, classBody);\n    }\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), isTS ? classfield : functiondef, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \";\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    return pass(functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      var top = state.cc[state.cc.length - 1]\n      if (top == expression || top == expressionNoComma) state.cc.pop()\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/x-json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/ld+json\", {name: \"javascript\", jsonld: true});\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n","Magezon_Builder/js/cm/mode/css/css.js":"// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n  var inline = parserConfig.inline\n  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text/css\");\n\n  var indentUnit = config.indentUnit,\n      tokenHooks = parserConfig.tokenHooks,\n      documentTypes = parserConfig.documentTypes || {},\n      mediaTypes = parserConfig.mediaTypes || {},\n      mediaFeatures = parserConfig.mediaFeatures || {},\n      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n      propertyKeywords = parserConfig.propertyKeywords || {},\n      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n      fontProperties = parserConfig.fontProperties || {},\n      counterDescriptors = parserConfig.counterDescriptors || {},\n      colorKeywords = parserConfig.colorKeywords || {},\n      valueKeywords = parserConfig.valueKeywords || {},\n      allowNested = parserConfig.allowNested,\n      lineComment = parserConfig.lineComment,\n      supportsAtComponent = parserConfig.supportsAtComponent === true;\n\n  var type, override;\n  function ret(style, tp) { type = tp; return style; }\n\n  // Tokenizers\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (tokenHooks[ch]) {\n      var result = tokenHooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == \"@\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"def\", stream.current());\n    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n      return ret(null, \"compare\");\n    } else if (ch == \"\\\"\" || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \"#\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"atom\", \"hash\");\n    } else if (ch == \"!\") {\n      stream.match(/^\\s*\\w*/);\n      return ret(\"keyword\", \"important\");\n    } else if (/\\d/.test(ch) || ch == \".\" && stream.eat(/\\d/)) {\n      stream.eatWhile(/[\\w.%]/);\n      return ret(\"number\", \"unit\");\n    } else if (ch === \"-\") {\n      if (/[\\d.]/.test(stream.peek())) {\n        stream.eatWhile(/[\\w.%]/);\n        return ret(\"number\", \"unit\");\n      } else if (stream.match(/^-[\\w\\\\\\-]+/)) {\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return ret(\"variable-2\", \"variable-definition\");\n        return ret(\"variable-2\", \"variable\");\n      } else if (stream.match(/^\\w+-/)) {\n        return ret(\"meta\", \"meta\");\n      }\n    } else if (/[,+>*\\/]/.test(ch)) {\n      return ret(null, \"select-op\");\n    } else if (ch == \".\" && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {\n      return ret(\"qualifier\", \"qualifier\");\n    } else if (/[:;{}\\[\\]\\(\\)]/.test(ch)) {\n      return ret(null, ch);\n    } else if (((ch == \"u\" || ch == \"U\") && stream.match(/rl(-prefix)?\\(/i)) ||\n               ((ch == \"d\" || ch == \"D\") && stream.match(\"omain(\", true, true)) ||\n               ((ch == \"r\" || ch == \"R\") && stream.match(\"egexp(\", true, true))) {\n      stream.backUp(1);\n      state.tokenize = tokenParenthesized;\n      return ret(\"property\", \"word\");\n    } else if (/[\\w\\\\\\-]/.test(ch)) {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"property\", \"word\");\n    } else {\n      return ret(null, null);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          if (quote == \")\") stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenParenthesized(stream, state) {\n    stream.next(); // Must be '('\n    if (!stream.match(/\\s*[\\\"\\')]/, false))\n      state.tokenize = tokenString(\")\");\n    else\n      state.tokenize = null;\n    return ret(null, \"(\");\n  }\n\n  // Context management\n\n  function Context(type, indent, prev) {\n    this.type = type;\n    this.indent = indent;\n    this.prev = prev;\n  }\n\n  function pushContext(state, stream, type, indent) {\n    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n    return type;\n  }\n\n  function popContext(state) {\n    if (state.context.prev)\n      state.context = state.context.prev;\n    return state.context.type;\n  }\n\n  function pass(type, stream, state) {\n    return states[state.context.type](type, stream, state);\n  }\n  function popAndPass(type, stream, state, n) {\n    for (var i = n || 1; i > 0; i--)\n      state.context = state.context.prev;\n    return pass(type, stream, state);\n  }\n\n  // Parser\n\n  function wordAsValue(stream) {\n    var word = stream.current().toLowerCase();\n    if (valueKeywords.hasOwnProperty(word))\n      override = \"atom\";\n    else if (colorKeywords.hasOwnProperty(word))\n      override = \"keyword\";\n    else\n      override = \"variable\";\n  }\n\n  var states = {};\n\n  states.top = function(type, stream, state) {\n    if (type == \"{\") {\n      return pushContext(state, stream, \"block\");\n    } else if (type == \"}\" && state.context.prev) {\n      return popContext(state);\n    } else if (supportsAtComponent && /@component/i.test(type)) {\n      return pushContext(state, stream, \"atComponentBlock\");\n    } else if (/^@(-moz-)?document$/i.test(type)) {\n      return pushContext(state, stream, \"documentTypes\");\n    } else if (/^@(media|supports|(-moz-)?document|import)$/i.test(type)) {\n      return pushContext(state, stream, \"atBlock\");\n    } else if (/^@(font-face|counter-style)/i.test(type)) {\n      state.stateArg = type;\n      return \"restricted_atBlock_before\";\n    } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type)) {\n      return \"keyframes\";\n    } else if (type && type.charAt(0) == \"@\") {\n      return pushContext(state, stream, \"at\");\n    } else if (type == \"hash\") {\n      override = \"builtin\";\n    } else if (type == \"word\") {\n      override = \"tag\";\n    } else if (type == \"variable-definition\") {\n      return \"maybeprop\";\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    } else if (type == \":\") {\n      return \"pseudo\";\n    } else if (allowNested && type == \"(\") {\n      return pushContext(state, stream, \"parens\");\n    }\n    return state.context.type;\n  };\n\n  states.block = function(type, stream, state) {\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (propertyKeywords.hasOwnProperty(word)) {\n        override = \"property\";\n        return \"maybeprop\";\n      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n        override = \"string-2\";\n        return \"maybeprop\";\n      } else if (allowNested) {\n        override = stream.match(/^\\s*:(?:\\s|$)/, false) ? \"property\" : \"tag\";\n        return \"block\";\n      } else {\n        override += \" error\";\n        return \"maybeprop\";\n      }\n    } else if (type == \"meta\") {\n      return \"block\";\n    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n      override = \"error\";\n      return \"block\";\n    } else {\n      return states.top(type, stream, state);\n    }\n  };\n\n  states.maybeprop = function(type, stream, state) {\n    if (type == \":\") return pushContext(state, stream, \"prop\");\n    return pass(type, stream, state);\n  };\n\n  states.prop = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n    if (type == \"hash\" && !/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())) {\n      override += \" error\";\n    } else if (type == \"word\") {\n      wordAsValue(stream);\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    }\n    return \"prop\";\n  };\n\n  states.propBlock = function(type, _stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n    return state.context.type;\n  };\n\n  states.parens = function(type, stream, state) {\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \")\") return popContext(state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n    if (type == \"word\") wordAsValue(stream);\n    return \"parens\";\n  };\n\n  states.pseudo = function(type, stream, state) {\n    if (type == \"meta\") return \"pseudo\";\n\n    if (type == \"word\") {\n      override = \"variable-3\";\n      return state.context.type;\n    }\n    return pass(type, stream, state);\n  };\n\n  states.documentTypes = function(type, stream, state) {\n    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n      override = \"tag\";\n      return state.context.type;\n    } else {\n      return states.atBlock(type, stream, state);\n    }\n  };\n\n  states.atBlock = function(type, stream, state) {\n    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n        override = \"keyword\";\n      else if (mediaTypes.hasOwnProperty(word))\n        override = \"attribute\";\n      else if (mediaFeatures.hasOwnProperty(word))\n        override = \"property\";\n      else if (mediaValueKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else if (propertyKeywords.hasOwnProperty(word))\n        override = \"property\";\n      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n        override = \"string-2\";\n      else if (valueKeywords.hasOwnProperty(word))\n        override = \"atom\";\n      else if (colorKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else\n        override = \"error\";\n    }\n    return state.context.type;\n  };\n\n  states.atComponentBlock = function(type, stream, state) {\n    if (type == \"}\")\n      return popAndPass(type, stream, state);\n    if (type == \"{\")\n      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n    if (type == \"word\")\n      override = \"error\";\n    return state.context.type;\n  };\n\n  states.atBlock_parens = function(type, stream, state) {\n    if (type == \")\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n    return states.atBlock(type, stream, state);\n  };\n\n  states.restricted_atBlock_before = function(type, stream, state) {\n    if (type == \"{\")\n      return pushContext(state, stream, \"restricted_atBlock\");\n    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n      override = \"variable\";\n      return \"restricted_atBlock_before\";\n    }\n    return pass(type, stream, state);\n  };\n\n  states.restricted_atBlock = function(type, stream, state) {\n    if (type == \"}\") {\n      state.stateArg = null;\n      return popContext(state);\n    }\n    if (type == \"word\") {\n      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n        override = \"error\";\n      else\n        override = \"property\";\n      return \"maybeprop\";\n    }\n    return \"restricted_atBlock\";\n  };\n\n  states.keyframes = function(type, stream, state) {\n    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n    if (type == \"{\") return pushContext(state, stream, \"top\");\n    return pass(type, stream, state);\n  };\n\n  states.at = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"tag\";\n    else if (type == \"hash\") override = \"builtin\";\n    return \"at\";\n  };\n\n  states.interpolation = function(type, stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"variable\";\n    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n    return \"interpolation\";\n  };\n\n  return {\n    startState: function(base) {\n      return {tokenize: null,\n              state: inline ? \"block\" : \"top\",\n              stateArg: null,\n              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n    },\n\n    token: function(stream, state) {\n      if (!state.tokenize && stream.eatSpace()) return null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style && typeof style == \"object\") {\n        type = style[1];\n        style = style[0];\n      }\n      override = style;\n      if (type != \"comment\")\n        state.state = states[state.state](type, stream, state);\n      return override;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n      var indent = cx.indent;\n      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n      if (cx.prev) {\n        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n          // Resume indentation from parent context.\n          cx = cx.prev;\n          indent = cx.indent;\n        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n          // Dedent relative to current context.\n          indent = Math.max(0, cx.indent - indentUnit);\n        }\n      }\n      return indent;\n    },\n\n    electricChars: \"}\",\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: lineComment,\n    fold: \"brace\"\n  };\n});\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) {\n      keys[array[i].toLowerCase()] = true;\n    }\n    return keys;\n  }\n\n  var documentTypes_ = [\n    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n  ], documentTypes = keySet(documentTypes_);\n\n  var mediaTypes_ = [\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n    \"tty\", \"tv\", \"embossed\"\n  ], mediaTypes = keySet(mediaTypes_);\n\n  var mediaFeatures_ = [\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\"\n  ], mediaFeatures = keySet(mediaFeatures_);\n\n  var mediaValueKeywords_ = [\n    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n    \"interlace\", \"progressive\"\n  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n  var propertyKeywords_ = [\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n    \"alignment-baseline\", \"anchor-point\", \"animation\", \"animation-delay\",\n    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backface-visibility\",\n    \"background\", \"background-attachment\", \"background-blend-mode\", \"background-clip\",\n    \"background-color\", \"background-image\", \"background-origin\", \"background-position\",\n    \"background-repeat\", \"background-size\", \"baseline-shift\", \"binding\",\n    \"bleed\", \"bookmark-label\", \"bookmark-level\", \"bookmark-state\",\n    \"bookmark-target\", \"border\", \"border-bottom\", \"border-bottom-color\",\n    \"border-bottom-left-radius\", \"border-bottom-right-radius\",\n    \"border-bottom-style\", \"border-bottom-width\", \"border-collapse\",\n    \"border-color\", \"border-image\", \"border-image-outset\",\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n    \"border-image-width\", \"border-left\", \"border-left-color\",\n    \"border-left-style\", \"border-left-width\", \"border-radius\", \"border-right\",\n    \"border-right-color\", \"border-right-style\", \"border-right-width\",\n    \"border-spacing\", \"border-style\", \"border-top\", \"border-top-color\",\n    \"border-top-left-radius\", \"border-top-right-radius\", \"border-top-style\",\n    \"border-top-width\", \"border-width\", \"bottom\", \"box-decoration-break\",\n    \"box-shadow\", \"box-sizing\", \"break-after\", \"break-before\", \"break-inside\",\n    \"caption-side\", \"caret-color\", \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\",\n    \"column-fill\", \"column-gap\", \"column-rule\", \"column-rule-color\",\n    \"column-rule-style\", \"column-rule-width\", \"column-span\", \"column-width\",\n    \"columns\", \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\",\n    \"cue-after\", \"cue-before\", \"cursor\", \"direction\", \"display\",\n    \"dominant-baseline\", \"drop-initial-after-adjust\",\n    \"drop-initial-after-align\", \"drop-initial-before-adjust\",\n    \"drop-initial-before-align\", \"drop-initial-size\", \"drop-initial-value\",\n    \"elevation\", \"empty-cells\", \"fit\", \"fit-position\", \"flex\", \"flex-basis\",\n    \"flex-direction\", \"flex-flow\", \"flex-grow\", \"flex-shrink\", \"flex-wrap\",\n    \"float\", \"float-offset\", \"flow-from\", \"flow-into\", \"font\", \"font-feature-settings\",\n    \"font-family\", \"font-kerning\", \"font-language-override\", \"font-size\", \"font-size-adjust\",\n    \"font-stretch\", \"font-style\", \"font-synthesis\", \"font-variant\",\n    \"font-variant-alternates\", \"font-variant-caps\", \"font-variant-east-asian\",\n    \"font-variant-ligatures\", \"font-variant-numeric\", \"font-variant-position\",\n    \"font-weight\", \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\",\n    \"grid-auto-rows\", \"grid-column\", \"grid-column-end\", \"grid-column-gap\",\n    \"grid-column-start\", \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\",\n    \"grid-row-start\", \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\",\n    \"icon\", \"image-orientation\", \"image-rendering\", \"image-resolution\",\n    \"inline-box-align\", \"justify-content\", \"justify-items\", \"justify-self\", \"left\", \"letter-spacing\",\n    \"line-break\", \"line-height\", \"line-stacking\", \"line-stacking-ruby\",\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\",\n    \"marks\", \"marquee-direction\", \"marquee-loop\",\n    \"marquee-play-count\", \"marquee-speed\", \"marquee-style\", \"max-height\",\n    \"max-width\", \"min-height\", \"min-width\", \"move-to\", \"nav-down\", \"nav-index\",\n    \"nav-left\", \"nav-right\", \"nav-up\", \"object-fit\", \"object-position\",\n    \"opacity\", \"order\", \"orphans\", \"outline\",\n    \"outline-color\", \"outline-offset\", \"outline-style\", \"outline-width\",\n    \"overflow\", \"overflow-style\", \"overflow-wrap\", \"overflow-x\", \"overflow-y\",\n    \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\",\n    \"page\", \"page-break-after\", \"page-break-before\", \"page-break-inside\",\n    \"page-policy\", \"pause\", \"pause-after\", \"pause-before\", \"perspective\",\n    \"perspective-origin\", \"pitch\", \"pitch-range\", \"place-content\", \"place-items\", \"place-self\", \"play-during\", \"position\",\n    \"presentation-level\", \"punctuation-trim\", \"quotes\", \"region-break-after\",\n    \"region-break-before\", \"region-break-inside\", \"region-fragment\",\n    \"rendering-intent\", \"resize\", \"rest\", \"rest-after\", \"rest-before\", \"richness\",\n    \"right\", \"rotation\", \"rotation-point\", \"ruby-align\", \"ruby-overhang\",\n    \"ruby-position\", \"ruby-span\", \"shape-image-threshold\", \"shape-inside\", \"shape-margin\",\n    \"shape-outside\", \"size\", \"speak\", \"speak-as\", \"speak-header\",\n    \"speak-numeral\", \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\",\n    \"tab-size\", \"table-layout\", \"target\", \"target-name\", \"target-new\",\n    \"target-position\", \"text-align\", \"text-align-last\", \"text-decoration\",\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n    \"text-decoration-style\", \"text-emphasis\", \"text-emphasis-color\",\n    \"text-emphasis-position\", \"text-emphasis-style\", \"text-height\",\n    \"text-indent\", \"text-justify\", \"text-outline\", \"text-overflow\", \"text-shadow\",\n    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\", \"text-underline-position\",\n    \"text-wrap\", \"top\", \"transform\", \"transform-origin\", \"transform-style\",\n    \"transition\", \"transition-delay\", \"transition-duration\",\n    \"transition-property\", \"transition-timing-function\", \"unicode-bidi\",\n    \"user-select\", \"vertical-align\", \"visibility\", \"voice-balance\", \"voice-duration\",\n    \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\", \"voice-stress\",\n    \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\", \"will-change\", \"word-break\",\n    \"word-spacing\", \"word-wrap\", \"z-index\",\n    // SVG-specific\n    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n    \"color-interpolation\", \"color-interpolation-filters\",\n    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"shape-rendering\", \"stroke\",\n    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\"\n  ], propertyKeywords = keySet(propertyKeywords_);\n\n  var nonStandardPropertyKeywords_ = [\n    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n    \"scrollbar-3d-light-color\", \"scrollbar-track-color\", \"shape-inside\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\", \"searchfield-results-button\",\n    \"searchfield-results-decoration\", \"zoom\"\n  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n  var fontProperties_ = [\n    \"font-family\", \"src\", \"unicode-range\", \"font-variant\", \"font-feature-settings\",\n    \"font-stretch\", \"font-weight\", \"font-style\"\n  ], fontProperties = keySet(fontProperties_);\n\n  var counterDescriptors_ = [\n    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n  ], counterDescriptors = keySet(counterDescriptors_);\n\n  var colorKeywords_ = [\n    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n    \"darkgray\", \"darkgreen\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n    \"darkslateblue\", \"darkslategray\", \"darkturquoise\", \"darkviolet\",\n    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dodgerblue\", \"firebrick\",\n    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightpink\",\n    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\",\n    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n    \"slateblue\", \"slategray\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ], colorKeywords = keySet(colorKeywords_);\n\n  var valueKeywords_ = [\n    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\", \"avoid-page\",\n    \"avoid-region\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n    \"bengali\", \"blink\", \"block\", \"block-axis\", \"bold\", \"bolder\", \"border\", \"border-box\",\n    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"bullets\", \"button\", \"button-bevel\",\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n    \"compact\", \"condensed\", \"contain\", \"content\", \"contents\",\n    \"content-box\", \"context-menu\", \"continuous\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n    \"cross\", \"crosshair\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n    \"dot-dash\", \"dot-dot-dash\",\n    \"dotted\", \"double\", \"down\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"graytext\", \"grid\", \"groove\",\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"icon\", \"ignore\",\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"match\", \"matrix\", \"matrix3d\",\n    \"media-controls-background\", \"media-current-time-display\",\n    \"media-fullscreen-button\", \"media-mute-button\", \"media-play-button\",\n    \"media-return-to-realtime-button\", \"media-rewind-button\",\n    \"media-seek-back-button\", \"media-seek-forward-button\", \"media-slider\",\n    \"media-sliderthumb\", \"media-time-remaining-display\", \"media-volume-slider\",\n    \"media-volume-slider-container\", \"media-volume-sliderthumb\", \"medium\",\n    \"menu\", \"menulist\", \"menulist-button\", \"menulist-text\",\n    \"menulist-textfield\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiply\", \"myanmar\", \"n-resize\",\n    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"opacity\", \"open-quote\",\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"plus-darker\", \"plus-lighter\",\n    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n    \"relative\", \"repeat\", \"repeating-linear-gradient\",\n    \"repeating-radial-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n    \"s-resize\", \"sans-serif\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n    \"scroll\", \"scrollbar\", \"scroll-position\", \"se-resize\", \"searchfield\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"self-start\", \"self-end\",\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"serif\", \"show\", \"sidama\",\n    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\",\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"sub\",\n    \"subpixel-antialiased\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\",\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n    \"tamil\",\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n    \"trad-chinese-formal\", \"trad-chinese-informal\", \"transform\",\n    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unset\", \"up\",\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n    \"var\", \"vertical\", \"vertical-text\", \"visible\", \"visibleFill\", \"visiblePainted\",\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n    \"xx-large\", \"xx-small\"\n  ], valueKeywords = keySet(valueKeywords_);\n\n  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n    .concat(valueKeywords_);\n  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n  function tokenCComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == \"/\") {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return [\"comment\", \"comment\"];\n  }\n\n  CodeMirror.defineMIME(\"text/css\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-scss\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \":\": function(stream) {\n        if (stream.match(/\\s*\\{/, false))\n          return [null, null]\n        return false;\n      },\n      \"$\": function(stream) {\n        stream.match(/^[\\w-]+/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"#\": function(stream) {\n        if (!stream.eat(\"{\")) return false;\n        return [null, \"interpolation\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"scss\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-less\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \"@\": function(stream) {\n        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i, false)) return false;\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"&\": function() {\n        return [\"atom\", \"atom\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"less\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-gss\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    supportsAtComponent: true,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\",\n    helperType: \"gss\"\n  });\n\n});\n","Magezon_Builder/js/services/element.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar elementManagerService = function($rootScope) {\n\t\tvar self = this;\n\t\tthis.elements = {};\n\t\tthis.groups   = {};\n\n\t\tthis.registerElements = function(elements) {\n\t\t\tvar newElements = {};\n\t\t\tangular.forEach(elements, function(element, index) {\n\t\t\t\tif (!element.hasOwnProperty('disabled') || !element['disabled']) {\n\t\t\t\t\tnewElements[index] = element;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.elements = newElements;\n\t\t}\n\n\t\tthis.getElement = function(type) {\n\t\t\tif (angular.isObject(type)) {\n\t\t\t\ttype = type.type;\n\t\t\t}\n\t\t\treturn this.elements[type];\n\t\t}\n\n\t\tthis.prepareElements = function(elements, force) {\n\t\t\tvar newElements = [];\n\t\t\tangular.forEach(elements, function(_element) {\n\t\t\t\tif (self.getElement(_element.type)) {\n\t\t\t\t\tnewElements.push(self.prepareElement(_element, force));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn newElements;\n\t\t}\n\n\t\tthis.prepareElement = function(element, force) {\n\t\t\tvar oldId;\n\t\t\telement['builder'] = self.getBuilderConfig(element.type);\n\t\t\tif (element['id'] && force) {\n\t\t\t\toldId = element['id'];\n\t\t\t}\n\t\t\tif (!element['id'] || force) element['id'] = self.getUniqueId(7);\n\t\t\t\n\t\t\tif (element.builderName && element.builderName!=element['builder'].name) {\n\t\t\t\telement['builder'].name = element.builderName;\n\t\t\t}\n\t\t\tif (element.hasOwnProperty('elements')) {\n\t\t\t\telement['elements'] = self.prepareElements(element.elements, force);\n\t\t\t}\n\t\t\tif (force && oldId) {\n\t\t\t\tvar _elem = $('#' + oldId + '-style');\n\t\t\t\tif (_elem.length) {\n\t\t\t\t\tvar oldId = '\\\\.' + oldId;\n\t\t\t\t\tvar newId = '.' + element.id;\n\t\t\t\t\tvar regex = new RegExp(oldId, 'g');\n\t\t\t\t\tvar styleHtml = _elem[0].outerHTML.replace(regex, newId);\n\t\t\t\t\tstyleHtml = styleHtml.replace(oldId + '-style', element.id + '-style');\n\t\t\t\t\t_elem.after(styleHtml);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn element;\n\t\t}\n\n\t\tthis.getNewElement = function(type) {\n\t\t\tvar builderElement = this.getElement(type);\n\t\t\tvar element = angular.copy(builderElement.defaultValues);\n\t\t\telement['type'] = type;\n\t\t\tthis.prepareElement(element, true);\n\t\t\tif (builderElement.is_collection) {\n\t\t\t\telement['elements'] = [];\n\t\t\t}\n\t\t\treturn element;\n\t\t}\n\n\t\tthis.getBuilderConfig = function(type) {\n\t\t\tif (type=='profile') {\n\t\t\t\treturn {\n\t\t\t\t\tis_collection: true\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar config = angular.copy(this.getElement(type));\n\t\t\tconfig = angular.merge(config, {\n\t\t\t\tactive: false,\n\t\t\t\tvisible: true,\n\t\t\t\tcontrol: true,\n\t\t\t\tactived: false,\n\t\t\t\tadditionalClasses: [],\n\t\t\t\tnavigator: {}\n\t\t\t});\n\t\t\treturn config;\n\t    }\n\n\t    this.updateElementConfig = function(type) {\n\t    \tif (!self.elements[type]['loadConfig']) {\n\t\t    \tvar requestKey = 'elements.' + type;\n\t\t    \t$.ajax({\n\t                url: this.getUrl('mgzbuilder/ajax/loadConfig'),\n\t                type:'POST',\n\t                data: {\n\t                \tkey: requestKey,\n\t                \tclass: $rootScope.builderConfig.profile.builder\n\t                },\n\t            \tdataType: 'json',\n\t                success: function(data) {\n\t            \t\tself.elements[type]['fields'] = data.config.fields;\n\t            \t\tself.elements[type]['loadConfig'] = true;\n\t                }\n\t            });\n\t\t    }\n\t    }\n\n\t\tthis.getUrl = function(url) {\n\t\t\treturn $rootScope.builderConfig.baseUrl + url;\n\t\t}\n\n\t\tthis.getUniqueId = function (size) {\n\t        var code = Math.random() * 25 + 65 | 0,\n\t            idstr = String.fromCharCode(code);\n\n\t        size = size || 12;\n\n\t        while (idstr.length < size) {\n\t            code = Math.floor(Math.random() * 42 + 48);\n\n\t            if (code < 58 || code > 64) {\n\t                idstr += String.fromCharCode(code);\n\t            }\n\t        }\n\n\t        return idstr.toLowerCase();\n\t    }\n\n\t    this.canReplace = function(elem) {\n\t\t\tif (!elem.builder.modalVisible) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.isVisibleElement = function(elem) {\n\t\t\tif (elem.hasOwnProperty('modalVisible') && !elem['modalVisible']) return false;\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.getElementType = function(eleType) {\n\t\t\tvar _types = eleType.split('-');\n\t\t\tvar type = '';\n\t\t\tfor (var i = 0; i < _types.length; i++) {\n\t\t\t\tvar _types1 = _types[i].split('_');\n\t\t\t\tfor (var x = 0; x < _types1.length; x++) {\n\t\t\t\t\ttype += (_types1[x].charAt(0).toUpperCase() + _types1[x].substr(1));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn type;\n\t\t}\n\n\t\tthis.getEl = function(elem) {\n\t\t\treturn $('.mgz-builder .' + elem.id);\n\t\t}\n\n\t\t// Clone parent styles\n\t\tthis.previewStyles = function(elem) {\n\t\t\tvar _elem = $('#' + elem.builder.oldId + '-style');\n\t\t\tvar oldId = '\\\\.' + elem.builder.oldId;\n\t\t\tvar newId = '.' + elem.id;\n\t\t\tvar regex = new RegExp(oldId, 'g');\n\t\t\tvar styleHtml = _elem[0].outerHTML.replace(regex, newId);\n\t\t\tstyleHtml = styleHtml.replace(elem.builder.oldId + '-style', elem.id + '-style');\n\t\t\t$('#' + elem.builder.oldId + '-style').after(styleHtml);\n\t\t\tif (elem.elements) {\n\t\t\t\tangular.forEach(elem.elements, function(_elem, index) {\n\t\t\t\t\tself.previewStyles(_elem);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn elementManagerService;\n});","Magezon_Builder/js/services/magezonBuilder.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar magezonBuilderService = function($rootScope, magezonBuilderUrl, elementManager) {\n\t\tvar self = this;\n\t\tself.data = {};\n\t\tself.cacheRequests = {};\n\n\t\tthis.viewMode = 'xl';\n\n\t\tthis.setViewMode = function(viewMode) {\n\t\t\tthis.viewMode = viewMode;\n\t\t}\n\n\t\tthis.getViewMode = function(viewMode) {\n\t\t\treturn this.viewMode;\n\t\t}\n\n\t\tthis.getBuilderConfig = function(requestKey, callbackFunction) {\n\t\t\tvar self = this;\n\t\t\tif (!self.data.hasOwnProperty(requestKey)) {\n\t\t\t\tif (!self.cacheRequests.hasOwnProperty(requestKey)) {\n\t\t\t\t\t$.ajax({\n\t\t                url: magezonBuilderUrl.getUrl('mgzbuilder/ajax/loadConfig'),\n\t\t                type:'POST',\n\t\t                data: {\n\t\t                \tarea: $rootScope.builderConfig.area,\n\t\t                \thandle: $rootScope.builderConfig.handle,\n\t\t                \tkey: requestKey,\n\t\t                \tclass: $rootScope.builderConfig.profile.builder\n\t\t                },\n\t\t            \tdataType: 'json',\n\t\t                success: function(data) {\n\t                \t\tself.data[requestKey] = data.config;\n\t                \t\tself.processBuilderConfig(requestKey, data.config);\n\t\t                }\n\t\t            });\n\t\t\t\t}\n\t\t\t\tif (!self.cacheRequests.hasOwnProperty(requestKey)) self.cacheRequests[requestKey] = [];\n\t\t\t\tself.cacheRequests[requestKey].push(callbackFunction);\n\t\t\t} else if (typeof callbackFunction === 'function') {\n\t\t\t\tcallbackFunction(self.data[requestKey]);\n\t\t\t}\n\t\t}\n\n\t\tthis.processBuilderConfig = function(requestKey, result) {\n\t\t    angular.forEach(self.cacheRequests[requestKey], function(callbackFunction) {\n\t\t    \tif (angular.isFunction(callbackFunction)) {\n\t\t    \t\tcallbackFunction(result);\n\t\t    \t} else {\n\t\t    \t\tcallbackFunction = result;\n\t\t    \t}\n\t\t    });\n\t\t}\n\n\t\tthis.saveToCache = function(key, data) {\n\t\t\tthis.data[key] = data;\n\t\t}\n\n\t\tthis.getFromCache = function(key) {\n\t\t\tif (this.data.hasOwnProperty(key)) {\n\t\t\t\treturn this.data[key];\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.getData = function() {\n\t\t\treturn this.data;\n\t\t}\n\n\t    /**\n\t     * Processing options list\n\t     *\n\t     * @param {Array} array - Property array\n\t     * @param {String} separator - Level separator\n\t     * @param {Array} created - list to add new options\n\t     *\n\t     * @return {Array} Plain options list\n\t     */\n\t    this.flattenCollection = function(array, separator, created) {\n\t        var i = 0,\n\t            length,\n\t            childCollection;\n\n\t        array = _.compact(array);\n\t        length = array.length;\n\t        created = created || [];\n\n\t        for (i; i < length; i++) {\n\t            created.push(array[i]);\n\n\t            if (array[i].hasOwnProperty(separator)) {\n\t                childCollection = array[i][separator];\n\t                delete array[i][separator];\n\t                this.flattenCollection.call(this, childCollection, separator, created);\n\t            }\n\t        }\n\n\t        return created;\n\t    }\n\n\t    /**\n\t     * Set levels to options list\n\t     *\n\t     * @param {Array} array - Property array\n\t     * @param {String} separator - Level separator\n\t     * @param {Number} level - Starting level\n\t     * @param {String} path - path to root\n\t     *\n\t     * @returns {Array} Array with levels\n\t     */\n\t    this.setProperty = function(array, separator, level, path) {\n\t        var i = 0,\n\t            length,\n\t            nextLevel,\n\t            nextPath;\n\n\t        array = _.compact(array);\n\t        length = array.length;\n\t        level = level || 0;\n\t        path = path || '';\n\n\t        for (i; i < length; i++) {\n\t            if (array[i]) {\n\t                _.extend(array[i], {\n\t                    level: level,\n\t                    path: path\n\t                });\n\t            }\n\n\t            if (array[i].hasOwnProperty(separator)) {\n\t                nextLevel = level + 1;\n\t                nextPath = path ? path + '.' + array[i].label : array[i].label;\n\t                this.setProperty.call(this, array[i][separator], separator, nextLevel, nextPath);\n\t            }\n\t        }\n\n\t        return array;\n\t    }\n\n\t    /**\n\t     * Preprocessing options list\n\t     *\n\t     * @param {Array} nodes - Options list\n\t     *\n\t     * @return {Object} Object with property - options(options list)\n\t     *      and cache options with plain and tree list\n\t     */\n\t    this.parseOptions = function(nodes) {\n\t        var caption,\n\t            value,\n\t            cacheNodes,\n\t            copyNodes;\n\n\t        nodes = this.setProperty(nodes, 'elements');\n\t        copyNodes = JSON.parse(JSON.stringify(nodes));\n\t        cacheNodes = this.flattenCollection(copyNodes, 'elements');\n\n\t        nodes = _.map(nodes, function (node) {\n\t            value = node.value;\n\n\t            if (value == null || value === '') {\n\t                if (_.isUndefined(caption)) {\n\t                    caption = node.label;\n\t                }\n\t            } else {\n\t                return node;\n\t            }\n\t        });\n\n\t        return {\n\t            options: _.compact(nodes),\n\t            cacheOptions: {\n\t                plain: _.compact(cacheNodes),\n\t                tree: _.compact(nodes)\n\t            }\n\t        };\n\t    }\n\n\t    this.uniqueid = function (size) {\n\t        var code = Math.random() * 25 + 65 | 0,\n\t            idstr = String.fromCharCode(code);\n\n\t        size = size || 12;\n\n\t        while (idstr.length < size) {\n\t            code = Math.floor(Math.random() * 42 + 48);\n\n\t            if (code < 58 || code > 64) {\n\t                idstr += String.fromCharCode(code);\n\t            }\n\t        }\n\n\t        return idstr.toLowerCase();\n\t    }\n\n\t\tthis.isBackend = function () {\n\t\t\treturn $('#html-body').length ? true : false;\n\t\t}\n\n\t\tthis.isJSON = function (str) {\n\t\t\ttry {\n\t\t\t\tvar result = JSON.parse(str);\n\t\t\t\tif (angular.isNumber(result)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.getDesignValue = function(elem, key) {\n\t\t\tvar viewMode = this.getViewMode();\n\t\t\tvar result = elem[key];\n\t\t\tvar start = false;\n\t\t\tvar sizes = ['lg', 'md', 'sm', 'xs'];\n\t\t\tif (elem.device_type == 'all') return result;\n\t\t\tangular.forEach(sizes, function(v, k) {\n\t\t\t\tif (v == viewMode) {\n\t\t\t\t\tstart = true;\n\t\t\t\t}\n\t\t\t\tif (start &&  elem[v + '_' + key]) {\n\t\t\t\t\tresult = elem[v + '_' + key];\n\t\t\t\t\tstart = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\n\t\tthis.setDesignValue = function(elem, key, value) {\n\t\t\tvar viewMode = this.getViewMode();\n\t\t\tvar start    = false;\n\t\t\tvar sizes    = ['lg', 'md', 'sm', 'xs'];\n\t\t\tvar _key;\n\t\t\tif (elem.device_type == 'all') {\n\t\t\t\telem[_key] = value;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tangular.forEach(sizes, function(v, k) {\n\t\t\t\tif (v == viewMode) {\n\t\t\t\t\tstart = true;\n\t\t\t\t}\n\t\t\t\tif (start &&  elem[v + '_' + key]) {\n\t\t\t\t\t_key = v + '_' + key;\n\t\t\t\t\tstart = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!_key) _key = 'md';\n\t\t\telem[_key] = value;\n\t\t}\n\n\t\tthis.getResponiveValue = function(elem, key) {\n\t\t\tvar viewMode = this.getViewMode();\n\t\t\tvar result = elem[key];\n\t\t\tvar start = false;\n\t\t\tvar sizes = ['xl', 'lg', 'md', 'sm', 'xs'];\n\t\t\tangular.forEach(sizes, function(v, k) {\n\t\t\t\tif (v == viewMode) {\n\t\t\t\t\tstart = true;\n\t\t\t\t}\n\t\t\t\tif (start &&  elem[v + '_' + key]) {\n\t\t\t\t\tresult = elem[v + '_' + key];\n\t\t\t\t\tstart = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\n\t\tthis.setResponiveValue = function(elem, key, value) {\n\t\t\tvar viewMode = this.getViewMode();\n\t\t\tvar start    = false;\n\t\t\tvar sizes    = ['xl', 'lg', 'md', 'sm', 'xs'];\n\t\t\tvar _key;\n\t\t\tangular.forEach(sizes, function(v, k) {\n\t\t\t\tif (v == viewMode) {\n\t\t\t\t\tstart = true;\n\t\t\t\t}\n\t\t\t\tif (start &&  elem[v + '_' + key]) {\n\t\t\t\t\t_key = v + '_' + key;\n\t\t\t\t\tstart = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!_key) _key = 'md_' + key;\n\t\t\telem[_key] = value;\n\t\t}\n\n\t\tthis.getFromLocalStorage = function(key) {\n\t\t\tif (window.localStorage) {\n\t\t\t\tkey = 'magezon.' + key;\n\t\t\t\tvar result = window.localStorage[key];\n\t\t\t\tif (this.isJSON(result)) {\n\t\t\t\t\tresult = angular.fromJson(result);\n\t\t\t\t}\n            \treturn result;\n        \t}\n        }\n\n\t\tthis.saveToLocalStorage = function(key, value) {\n\t\t\tif (window.localStorage) {\n\t\t\t\tkey = 'magezon.' + key;\n\t\t\t\tif (angular.isArray(value) || angular.isObject(value)) {\n\t\t\t\t\tvalue = angular.toJson(value);\n\t\t\t\t}\n            \treturn window.localStorage[key] = value;\n        \t}\n        }\n\n        this.elemPost = function(elem, url, data, isJson, successFunction, errorFunction, finallyFunction) {\n        \tvar spinnerHtml = '<div class=\"mgz-spinner\"><i></i></div>';\n\n        \tvar el = elementManager.getEl(elem);\n\n        \tif (!el.children('.mgz-spinner').length) {\n        \t\tel.prepend(spinnerHtml);\n        \t}\n\n        \tif (!data) data = {};\n        \tif (angular.isObject(data)) {\n        \t\tdata['form_key'] = window.FORM_KEY;\n        \t}\n        \t$.ajax({\n                url: magezonBuilderUrl.getUrl(url),\n                type: 'POST',\n                data: data,\n            \tdataType: isJson ? 'json' : 'text',\n                success: function(res) {\n                \tif (typeof successFunction === 'function') {\n            \t\t\tsuccessFunction(res);\n            \t\t}\n            \t\tif (typeof finallyFunction === 'function') {\n            \t\t\tfinallyFunction(res);\n            \t\t}\n            \t\tel.children('.mgz-spinner').remove();\n                },\n                error: function(jq, status, message) {\n                \tconsole.log(jq);\n                \tconsole.log(status);\n                \tconsole.log(message);\n                \tif (typeof errorFunction === 'function') {\n                \t\terrorFunction(jq, status, message);\n                \t}\n                \tif (typeof finallyFunction === 'function') {\n            \t\t\tfinallyFunction(jq, status, message);\n            \t\t}\n            \t\tel.children('.mgz-spinner').remove();\n                }\n            });\n        }\n\n        this.post = function(url, data, isJson, successFunction, errorFunction, finallyFunction) {\n        \tif (!data) data = {};\n        \tif (angular.isObject(data)) {\n        \t\tdata['form_key'] = window.FORM_KEY;\n        \t}\n        \t$.ajax({\n                url: magezonBuilderUrl.getUrl(url),\n                type: 'POST',\n                data: data,\n            \tdataType: isJson ? 'json' : 'text',\n                success: function(res) {\n                \tif (typeof successFunction === 'function') {\n            \t\t\tsuccessFunction(res);\n            \t\t}\n            \t\tif (typeof finallyFunction === 'function') {\n            \t\t\tfinallyFunction(res);\n            \t\t}\n                },\n                error: function(jq, status, message) {\n                \tconsole.log(jq);\n                \tconsole.log(status);\n                \tconsole.log(message);\n                \tif (typeof errorFunction === 'function') {\n                \t\terrorFunction(jq, status, message);\n                \t}\n                \tif (typeof finallyFunction === 'function') {\n            \t\t\tfinallyFunction(jq, status, message);\n            \t\t}\n                }\n            });\n        }\n\n        this.capitalize = function(str) {\n        \treturn str[0].toUpperCase() + str.slice(1);\n        }\n\n        //https://github.com/kvz/locutus/blob/master/src/php/strings/stripslashes.js\n\t\tthis.removeslashes = function(str) {\n\t\t\treturn (str + '')\n\t\t\t.replace(/\\\\(.?)/g, function (s, n1) {\n\t\t\t\tswitch (n1) {\n\t\t\t\t\tcase '\\\\':\n\t\t\t\t\treturn '\\\\'\n\t\t\t\t\tcase '0':\n\t\t\t\t\treturn '\\u0000'\n\t\t\t\t\tcase '':\n\t\t\t\t\treturn ''\n\t\t\t\t\tdefault:\n\t\t\t\t\treturn n1\n\t\t\t\t}\n\t\t\t});\n        }\n\n        //https://github.com/kvz/locutus/blob/master/src/php/strings/addcslashes.js\n        this.addslashes = function(str) {\n            return (str + '')\n            .replace(/[\\\\\"']/g, '\\\\$&')\n            .replace(/\\u0000/g, '\\\\0')\n            .replace(/{/g, '\\\\{')\n            .replace(/}/g, '\\\\}');\n        }\n\n        this.isBoolean = function(str) {\n            if (str) {\n                var _str = str.toLowerCase();\n                if (_str == 'true' || _str == 'false' || _str == '1' || _str == '0') {\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        this.strToBoolean = function(str) {\n            if (this.isBoolean(str)) {\n                var _str = str.toLowerCase();\n                if (_str == 'true' || _str == '1') return true;\n                if (_str == 'false' || _str == '0') return false;\n            }\n        }\n\n\t\tthis.getUniqueId = function (size) {\n\t        var code = Math.random() * 25 + 65 | 0,\n\t            idstr = String.fromCharCode(code);\n\n\t        size = size || 12;\n\n\t        while (idstr.length < size) {\n\t            code = Math.floor(Math.random() * 42 + 48);\n\n\t            if (code < 58 || code > 64) {\n\t                idstr += String.fromCharCode(code);\n\t            }\n\t        }\n\n\t        return idstr.toLowerCase();\n\t    }\n\n\t    this.isEmpty = function(obj){\n\t    \treturn Object.keys(obj).length == 0;\n\t    }\n\t}\n\n\treturn magezonBuilderService;\n});","Magezon_Builder/js/services/profile.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar profileService = function($rootScope, elementManager, magezonBuilderForm, magezonBuilderService) {\n\n\t\tvar self = this;\n\t\tvar defaultSettings = [];\n\n\t\tmagezonBuilderForm.getForm('modals.settings', function(tabs, res) {\n\t\t\tself.defaultSettings = res.defaultValues;\n\t\t});\n\n        $rootScope.$on('exportShortcode', function(e) {\n\t\t\tself.export();\n\t\t\tsetTimeout(function() {\n        \t\t$rootScope.$broadcast('loadStyles');\n\t\t\t});\n\t\t});\n\n\t\t$rootScope.$on('importShortcode', function(e) {\n\t\t\tself.import();\n\t\t\tsetTimeout(function() {\n\t\t\t\t$rootScope.$broadcast('loadStyles');\n\t\t\t});\n\t\t});\n\n\t\tthis.export = function() {\n\t\t\tvar content  = this.getTargetContent();\n\t\t\tvar _content = this.getContent();\n\t\t\tif (magezonBuilderService.isJSON(_content)) {\n\t\t\t\tvar key = this.getKey();\n\t\t\t\tif (key) {\n\t\t\t\t\t_content = '[' + key + ']' + _content + '[/' + key + ']';\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar result = content.replace(_content, this.getShortCode());\n\t\t\tthis.getTargetSelector().val(result);\n\t\t\tthis.getTargetSelector().trigger('change');\n\t\t}\n\n\t\tthis.getShortCode = function() {\n\t\t\tvar key = this.getKey();\n\t\t\tvar result = '';\n\t\t\tif (key) {\n\t\t\t\tresult += '[' + key + ']';\n\t\t\t}\n\t\t\tresult += this.toString();\n\t\t\tif (key) {\n\t\t\t\tresult += '[/' + key + ']';\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tthis.import = function() {\n\t\t\tvar content = this.getContent();\n\t\t\tvar isJSON  = magezonBuilderService.isJSON(content);\n\t\t\tvar profile = this.prepareProfile(content);\n\t\t\t$rootScope.$apply(function() {\n\t\t\t\t$rootScope.profile = angular.extend($rootScope.profile, profile);\n\t\t\t\tif (content) {\n\t\t\t\t\tif (!isJSON) {\n\t\t\t\t\t\t$rootScope.profile = angular.extend($rootScope.profile, self.defaultSettings);\n\t\t\t\t\t\t$rootScope.$broadcast('addElement', {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\topenModal: false,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\thistory: false,\n\t\t\t\t\t\t\t\tcontent: content\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t\t});\n\t\t}\n\n\t\tthis.getTargetSelector = function() {\n\t\t\treturn $('#' + this.getTargetId());\n\t\t}\n\n\t\tthis.getTargetId = function() {\n\t\t\treturn $rootScope.builderConfig.targetId;\n\t\t}\n\n\t\tthis.getKey = function() {\n\t\t\treturn $rootScope.builderConfig.profile.key;\n\t\t}\n\n\t\tthis.getContent = function() {\n\t\t\tvar key     = this.getKey();\n\t\t\tvar content = this.getTargetSelector().val();\n\t\t\tvar regExp  = '\\\\[' + key + '\\\\](.*)\\\\[/' + key + '\\\\]';\n\t\t\tvar matches = content.match(regExp);\n\t\t\tif (matches) content = matches[1];\n\t\t\treturn content;\n\t\t}\n\n\t\tthis.prepareProfile = function(content, force) {\n\t\t\tvar key = this.getKey();\n\t\t\tvar regExp  = '\\\\[' + key + '\\\\](.*)\\\\[/' + key + '\\\\]';\n\t\t\tvar matches = content.match(regExp);\n\t\t\tif (matches) content = matches[1];\n\t\t\tvar profile = {\n\t\t\t\tbuilder: elementManager.getBuilderConfig('profile'),\n\t\t\t\telements: []\n\t\t\t};\n\t\t\tvar isJSON = magezonBuilderService.isJSON(content);\n\t\t\tif (isJSON) {\n\t\t\t\tvar _profile = JSON.parse(content);\n\t\t\t\tangular.forEach(_profile, function(value, key) {\n\t\t\t\t\tif (key !== 'elements') {\n\t\t\t\t\t\tprofile[key] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tprofile.elements = elementManager.prepareElements(angular.copy(_profile.elements), force);\n\t\t\t}\n\t\t\tif (!profile['pid']) profile['pid'] = magezonBuilderService.getUniqueId();\n\t\t\treturn profile;\n\t\t}\n\n\t\tthis.getJsonElements = function() {\n\t\t\treturn this.prepareElements($rootScope.profile.elements);\n\t\t}\n\n\t\tthis.toString = function() {\n\t\t\tvar profile = angular.copy($rootScope.profile);\n\t\t\tvar result = {};\n\t\t\tvar excludedFields = ['allowed_types', 'builder'];\n\t\t\tangular.forEach(profile, function(value, key) {\n\t\t\t\tif (excludedFields.indexOf(key) === -1) {\n\t\t\t\t\tresult[key] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!result['pid']) result['pid'] = magezonBuilderService.getUniqueId();\n\t\t\tresult.elements = this.prepareElements($rootScope.profile.elements);\n\t\t\treturn angular.toJson(result);\n\t\t}\n\n\t\tthis.getTargetContent = function() {\n            return this.getTargetSelector().val();\n\t\t}\n\n\t\tthis.prepareElements = function(elements) {\n\t\t\tvar _elements = angular.copy(elements);\n\t\t\tvar newElements = [];\n\t\t\tangular.forEach(_elements, function(element) {\n\t\t\t\tvar builderElement = elementManager.getElement(element.type);\n\t\t\t\tif (builderElement.name !== element.builder.name) {\n\t\t\t\t\telement.builderName = element.builder.name;\n\t\t\t\t} else {\n\t\t\t\t\tdelete element.builderName;\n\t\t\t\t}\n\t\t\t\tdelete element.builder;\n\t\t\t\tif (builderElement) {\n\t\t\t\t\tif (element.elements) {\n\t\t\t\t\t\telement.elements = self.prepareElements(element.elements);\n\t\t\t\t\t}\n\t\t\t\t\tnewElements.push(element);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn newElements;\n\t\t}\n\n\t\tthis.updateElements = function(elements) {\n\t\t\t$rootScope.profile.elements = elements;\n\t\t}\n\t}\n\n\treturn profileService;\n});","Magezon_Builder/js/services/url.js":"define([\n\t'jquery',\n\t'angular',\n], function ($, angular) {\n\n\tvar magezonBuilderUrl = function($rootScope, elementManager) {\n\n\t    this.getTemplateUrl = function(elem, defaultTemplate) {\n\t    \tvar templateUrl;\n\t    \tvar matches = elem.context.localName.match(\"mgz-element-navigator-(.*)-mgz\");\n\t    \tif (matches) {\n\t    \t\tvar name = matches[1];\n\t\t\t\ttemplateUrl = elementManager.getElement(name).navigatorTemplateUrl;\n\t    \t} else {\n\t\t\t\tvar matches2 = elem.context.localName.match(\"mgz-element-(.*)-mgz\");\n\t\t\t\tif (matches2) {\n\t\t\t\t\tvar name = matches2[1];\n\t\t\t\t\ttemplateUrl = elementManager.getElement(name).templateUrl;\n\t\t\t\t} else {\n\t\t\t\t\ttemplateUrl = elem.attr('templateUrl');\n\t\t\t\t\tif (!templateUrl) templateUrl = elem.attr('template-url');\n\t\t\t\t\tif (!templateUrl) templateUrl = elem.parent().attr('template-url');\n\t\t\t\t\tif (!templateUrl) templateUrl = elem.parent().attr('templateUrl');\n\t\t\t\t}\n\t    \t}\n\t\t\tif (!templateUrl && defaultTemplate) templateUrl = defaultTemplate;\n\t    \treturn this.getViewFileUrl(templateUrl);\n\t    }\n\n\t\tthis.getViewFileUrl = function(file) {\n\t\t\tif (file.indexOf('http') === -1) {\n\t\t\t\treturn $rootScope.builderConfig.viewFileUrl + file;\n\t\t\t} else {\n\t\t\t\treturn file;\n\t\t\t}\n\t\t}\n\n\t\tthis.getImageUrl = function(file) {\n\t\t\tif (file && (file.indexOf('http:://') === -1 || file.indexOf('https://') === -1)) {\n\t\t\t\treturn $rootScope.builderConfig.mediaUrl + file;\n\t\t\t} else {\n\t\t\t\treturn file;\n\t\t\t}\n\t\t}\n\n\t\tthis.getUrl = function(url, params) {\n\t\t\tif (url.indexOf('http') === -1) {\n\t\t\t\turl = $rootScope.builderConfig.baseUrl + url;\n\t\t\t}\n\t\t\tif (params) {\n\t\t\t\turl += '?' + $.param(params);\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\n\t\tthis.getFrontendUrl = function(url, params) {\n\t\t\tif (url.indexOf('http') === -1) {\n\t\t\t\turl = $rootScope.builderConfig.frontend_url + url;\n\t\t\t}\n\t\t\tif (params) {\n\t\t\t\turl += '?' + $.param(params);\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\t}\n\n\treturn magezonBuilderUrl;\n});","Magezon_Builder/js/services/form.js":"define([\n\t'jquery',\n\t'angular',\n\t'Magezon_Builder/js/factories/FormlyUtils'\n], function ($, angular, FormlyUtils) {\n\n\tvar form = function($rootScope, formlyConfig, magezonBuilderService, $timeout, magezonBuilderConfig) {\n\t\tvar self = this;\n\n\t\tthis.registerTypes = function(array) {\n\t\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\t\tvar elem = array[i];\n\t\t\t\t// DynamicRows\n\t\t\t\tif (elem.templateOptions.children) {\n\t\t\t\t\tself.registerTypes(elem.templateOptions.children, formlyConfig);\n\t\t\t\t}\n\t\t\t\tif (elem.hasOwnProperty('fieldGroup')) {\n\t\t\t\t\tformlyConfig.setWrapper({\n\t\t\t\t\t\tname: elem.wrapper,\n\t\t\t\t\t\ttemplateUrl: elem.templateOptions.templateUrl\n\t\t\t\t\t});\n\t\t\t\t\tself.registerTypes(elem['fieldGroup'], formlyConfig);\n\t\t\t\t} else {\n\t\t\t\t\tvar newType = {\n\t\t\t\t\t\tname: elem.type,\n\t\t\t\t\t\ttemplateUrl: elem.templateOptions.templateUrl\n\t\t\t\t\t};\n\t\t\t\t\tif (elem.defaultOptions) {\n\t\t\t\t\t\tnewType.defaultOptions = Object.assign({}, elem.defaultOptions);\n\t\t\t\t\t}\n\t\t\t\t\tformlyConfig.setType(newType);\n\t\t\t\t}\n\t\t\t\tif (elem.templateOptions.wrapperTemplateUrl) {\n\t\t\t\t\tformlyConfig.setWrapper({\n\t\t\t\t\t\tname: elem.data.wrapperType,\n\t\t\t\t\t\ttemplateUrl: elem.templateOptions.wrapperTemplateUrl\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.processFormFields = function(fields, callbackFunction) {\n\t\t\tvar excludedFields  = ['defaultOptions'];\n\t\t\tvar requireElements = [];\n\n\t\t\tvar processRequireElements = function(children) {\n\t\t\t\tangular.forEach(children, function(elem) {\n\t\t\t\t\tif (elem.data && elem.data.element && $.inArray(elem.data.element, requireElements)===-1) {\n\t\t\t\t\t\trequireElements.push(elem.data.element);\n\t\t\t\t\t}\n\t\t\t\t\tif (elem.fieldGroup) {\n\t\t\t\t\t\tprocessRequireElements(elem.fieldGroup);\n\t\t\t\t\t}\n\t\t\t\t\tif (elem.templateOptions.children) {\n\t\t\t\t\t\tprocessRequireElements(elem.templateOptions.children);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tprocessRequireElements(fields);\n\n\t\t\tvar extendProperties = ['templateOptions'];\n\t\t\tvar mergeElement = function(array, element, data) {\n\t\t\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\t\t\tvar row = array[i];\n\t\t\t\t\tif (row['data'] && row['data']['element'] && row['data']['element'] == element) {\n\t\t\t\t\t\t_.each(extendProperties, function(property) {\n\t\t\t\t\t\t\t_.each(data[property], function(value, key) {\n\t\t\t\t\t\t\t\tif (!row[property].hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\trow[property][key] = value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tdelete data[property];\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_.each(data, function(value, key) {\n\t\t\t\t\t\t\trow[key] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\tfor (var z = 0; z < excludedFields.length; z++) {\n\t\t\t\t\t\tdelete row[excludedFields[z]];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (row.hasOwnProperty('fieldGroup')) {\n\t\t\t\t\t\tmergeElement(row['fieldGroup'], element, data);\n\t\t\t\t\t}\n\t\t\t\t\tif (row.hasOwnProperty('fields')) {\n\t\t\t\t\t\tmergeElement(row['fields'], element, data);\n\t\t\t\t\t}\n\t\t\t\t\tif (row.templateOptions.children) {\n\t\t\t\t\t\tmergeElement(row.templateOptions.children, element, data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (requireElements.length) {\n\t\t\t\tvar loaded = 0;\n\t\t\t\t_.each(requireElements, function(element, index) {\n\t\t\t\t\trequire([element], function(data) {\n\t\t\t\t\t\tmergeElement(fields, element, data);\n\t\t\t\t\t\tloaded++;\n\t\t\t\t\t\tif (loaded == requireElements.length) {\n\t                \t\tcallbackFunction(fields);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t            callbackFunction(fields);\n\t\t\t}\n\t\t}\n\n\t\tthis.getForm = function(name, callback, ajaxData) {\n\t\t\tmagezonBuilderService.getBuilderConfig(name, function(result) {\n\t\t\t\tvar newFields = angular.copy(result.form);\n\t\t\t\tvar fields = FormlyUtils.processFields(newFields, 'children');\n\t\t\t\tself.registerTypes(fields);\n\t\t\t\tself.processFormFields(fields, function(tabs) {\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t$rootScope.$broadcast('afterLoadModalTabs');\n\t\t\t\t\t\tcallback(tabs, result);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\treturn form;\n\n})","Magezon_Builder/js/services/modal.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar modal = function($rootScope, $uibModal, magezonBuilderUrl) {\n\n\t\tthis.action = 'append';\n\t\tvar self = this;\n\t\tself.modals = {};\n\n\t\t$rootScope.$on('closeAllModals', function(e) {\n\t\t\tself.closeModal();\n\t\t});\n\n\t\tthis.registerModals = function(modals) {\n\t\t\tvar newModals = {};\n\t\t\tangular.forEach(modals, function(modal, key) {\n\t\t\t\tmodal['key'] = key;\n\t\t\t\tif (!modal.hasOwnProperty('key')) modal['size'] = {};\n\t\t\t\tif (!modal.hasOwnProperty('position')) modal['position'] = {};\n\t\t\t\trequire([modal['element']], function (config) {\n\t\t\t\t\tself.modals[key] = angular.merge(modal, config);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tthis.getModal = function(name) {\n\t\t\treturn self.modals[name];\n\t\t}\n\n\t\tthis.getElement = function() {\n\t\t\treturn this.element;\n\t\t}\n\n\t\tthis.setElement = function(element) {\n\t\t\tthis.element = element;\n\t\t}\n\n\t\tthis.getAction = function() {\n\t\t\treturn this.action;\n\t\t}\n\n\t\tthis.setAction = function(action) {\n\t\t\tthis.action = action;\n\t\t}\n\n\t\tthis.getData = function() {\n\t\t\treturn this.data;\n\t\t}\n\n\t\tthis.setData = function(data) {\n\t\t\tthis.data = data;\n\t\t}\n\n\t\tthis.getOpenModal = function() {\n\t\t\treturn this.openModal;\n\t\t}\n\n\t\tthis.setOpenModal = function(openModal) {\n\t\t\tthis.openModal = openModal;\n\t\t}\n\n\t\tthis.open = function(name, config, closeCallback, cancelCallback) {\n\t\t\tif (!config) config = {};\n\t\t\tif (!closeCallback) closeCallback = function() {};\n\t\t\tif (!cancelCallback) cancelCallback = function() {};\n\t\t\tif (!config.backdrop) {\n\t\t\t\tself.closeModal();\n\t\t\t}\n\t\t\tvar modal = self.getModal(name);\n\t\t\tif (modal) {\n\t\t\t\tif (modal.controller) {\n\t\t\t\t\tconfig.controller = modal.controller;\n\t\t\t\t} else {\n\t\t\t\t\tconfig.controller = 'modalBaseController';\n\t\t\t\t}\n\t\t\t\tif (!config.templateUrl && modal.templateUrl) config.templateUrl = modal.templateUrl;\n\t\t\t\tif (!config.controllerAs) config.controllerAs = 'mgz';\n\t\t\t\tconfig.windowTemplateUrl = magezonBuilderUrl.getViewFileUrl(config.windowTemplateUrl ? config.windowTemplateUrl : 'Magezon_Builder/js/templates/modal/window.html');\n\t\t\t\tif (config.openedClass) {\n\t\t\t\t\tconfig.openedClass += ' mgz-modal-open';\n\t\t\t\t} else {\n\t\t\t\t\tconfig.openedClass = 'mgz-modal-open';\n\t\t\t\t}\n\t\t\t\tif (config.windowClass) {\n\t\t\t\t\tconfig.windowClass += ' mgz-modal';\n\t\t\t\t} else {\n\t\t\t\t\tconfig.windowClass = 'mgz-modal';\n\t\t\t\t}\n\t\t\t\tconfig.windowClass += ' ' + self.getModalId(name);\n\t\t\t\tif (config.templateUrl) config.templateUrl = magezonBuilderUrl.getViewFileUrl(config.templateUrl);\n\t\t\t\tif (!config.hasOwnProperty('backdrop')) config['backdrop'] = false;\n\t\t\t\tif (!config.hasOwnProperty('keyboard')) config['keyboard'] = false;\n\t\t\t\tif (modal.resizable) config.windowClass += ' mgz-modal-resizable';\n\t\t\t\tvar resolve = {\n\t\t\t\t\tmodal: modal,\n\t\t\t\t\tform: {}\n\t\t\t\t};\n\t\t\t\tif (config.resolve) {\n\t\t\t\t\tconfig.resolve = angular.extend(resolve, config.resolve);\n\t\t\t\t} else {\n\t\t\t\t\tconfig.resolve = resolve;\n\t\t\t\t}\n\t\t\t\tvar uibModal = $uibModal.open(config);\n\t\t\t\tuibModal.result.then(closeCallback, cancelCallback);\n\t\t\t\tif (!config.backdrop) {\n\t\t\t\t\tself.currentModal = uibModal;\n\t\t\t\t\tself.currentModal.name = name;\n\t\t\t\t}\n\t\t\t\treturn uibModal;\n\t\t\t} else {\n\t\t\t\talert('There is no modal with name ' + name);\n\t\t\t}\n\t\t}\n\n\t\tthis.getModalId = function(name) {\n\t\t\treturn 'mgz-modal-' + name;\n\t\t}\n\n\t\tthis.closeModal = function(name) {\n\t\t\tif (!name && self.currentModal) {\n\t\t\t\tself.currentModal.dismiss('cancel');\n\t\t\t}\n\t\t}\n\t}\n\n\treturn modal;\n});","Magezon_Builder/js/services/history.js":"define([\n\t'jquery',\n\t'underscore',\n\t'angular',\n\t'moment',\n], function ($, _, angular, moment) {\n\n\tvar history = function($rootScope, profileManager, magezonBuilderService) {\n\t\tvar self = this;\n\n\t\t$rootScope.$on('exportShortcode', function(event) {\n\t\t\tif (!self.imported) {\n\t\t\t\tself.activeFirstItem();\n\t\t\t\tself.imported = true;\n\t\t\t}\n\t\t});\n\n\t\t$rootScope.$on('importShortcode', function(event) {\n\t\t\tif (!self.imported) {\n\t\t\t\tself.activeFirstItem();\n\t\t\t\tself.imported = true;\n\t\t\t}\n\t\t});\n\n\t\tthis.activeFirstItem = function() {\n\t\t\tvar item = this.addItem({\n\t\t\t\ttype: 'editing_started',\n\t\t\t\tprofile: profileManager.getShortCode()\n\t\t\t});\n\t\t\titem.selected = true;\n\t\t}\n\n\t\t$rootScope.$on('addHistory', function(event, data) {\n\t\t\tself.addItem(data);\n\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t});\n\n\t\tthis.getTitle = function(name) {\n\t\t\tvar title;\n\t\t\tangular.forEach($rootScope.builderConfig.historyLabels, function(_title, k) {\n\t\t\t\tif (k == name) {\n\t\t\t\t\ttitle = _title;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn title;\n\t\t}\n\n\t\tthis.addItem = function(data) {\n\t\t\tvar action = self.getTitle(data.type);\n\t\t\tif (action) {\n\t\t\t\tif (data && data.hasOwnProperty('action')) action = data.action;\n\t\t\t\tself.clearItem();\n\t\t\t\tvar profile = data.profile ? data.profile : profileManager.getShortCode();\n\t\t\t\tvar strings = [];\n\t\t\t\tif (data.title) strings.push('<span class=\"mgz-builder-history-item__title\">' + data.title + '</span>');\n\t\t\t\tif (data.subtitle) strings.push('<span class=\"mgz-builder-history-item__subtitle\">' + data.subtitle + '</span>');\n\t\t\t\tif (action) strings.push('<span class=\"mgz-builder-history-item__action\">' + action + '</span>');\n\t\t\t\tvar title = strings.join(' ');\n\t\t\t\tvar item = this.prepareItem(data.type, title, profile, false);\n\t\t\t\t$rootScope.history.push(item);\n\t\t\t\tself.activeItem(item);\n\t\t\t\treturn item;\n\t\t\t}\n\t\t}\n\n\t\tthis.prepareItem = function(type, title, profile, selected) {\n\t\t\treturn {\n\t\t\t\tid: magezonBuilderService.uniqueid(),\n\t\t\t\ttype: type,\n\t\t\t\ttitle: title,\n\t\t\t\ttime: moment().valueOf(),\n\t\t\t\tprofile: profileManager.getShortCode(),\n\t\t\t\tselected: selected\n\t\t\t};\n\t\t}\n\n\t\tthis.activeItem = function(item) {\n\t\t\tangular.forEach($rootScope.history, function(_item, index) {\n\t\t\t\tif (item.id === _item.id) {\n\t\t\t\t\t_item.selected = true;\n\t\t\t\t} else {\n\t\t\t\t\t_item.selected = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tself.itemActived = item;\n\t\t}\n\n\t\tthis.previewItem = function(item) {\n\t\t\tself.activeItem(item);\n\t\t\tvar profile = profileManager.prepareProfile(item.profile);\n\t\t\tprofileManager.updateElements(profile.elements);\n\t\t\t$rootScope.$broadcast('loadStyles');\n\t\t}\n\n\t\tthis.clearItem = function() {\n\t\t\tvar found = false;\n\t\t\tvar history = angular.copy($rootScope.history);\n\t\t\tangular.forEach(history.reverse(), function(_item, index) {\n\t\t\t\tif (!found) {\n\t\t\t\t\t$rootScope.history.splice(history.length - index, 1);\n\t\t\t\t}\n\t\t\t\tif (_item.id === self.itemActived.id) {\n\t\t\t\t\tfound = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.applyItem = function(item) {\n\t\t\tself.previewItem(item);\n\t\t\tself.clearItem();\n\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t}\n\t}\n\n\treturn history;\n});","Magezon_Builder/js/services/filter.js":"define([\n    'jquery',\n    'angular'\n], function ($, angular) {\n\n    // vendor/magento/module-tinymce-3/view/base/web/tinymce3Adapter.js\n    // vendor/magento/magento2-base/lib/web/mage/adminhtml/wysiwyg/tiny_mce/tinymce4Adapter.js\n\n    var filter = function($rootScope, magezonBuilderUrl, magezonBuilderService) {\n        var self     = this;\n        var wysiwyg  = this.config = angular.copy($rootScope.builderConfig.wysiwyg);\n        var tinymce4 = wysiwyg.tinymce4;\n\n        /**\n         * Retrieve directives URL with substituted directive value.\n         *\n         * @param {String} directive\n         */\n        self.makeDirectiveUrl = function (directive) {\n            return this.config['directives_url']\n                .replace(/directive/, 'directive/___directive/' + directive)\n                .replace(/\\/$/, '');\n        }\n\n        /**\n         * @param {Object} attributes\n         * @return {Object}\n         */\n        self.parseAttributesString = function (attributes) {\n            var result = {};\n            attributes.gsub(\n                /(\\w+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/,\n                function (match) {\n                    if (magezonBuilderService.isBoolean(match[2])) {\n                        result[match[1]] = magezonBuilderService.strToBoolean(match[2]);\n                    } else if (magezonBuilderService.isBoolean(match[4])) {\n                        result[match[1]] = magezonBuilderService.strToBoolean(match[4]);\n                    } else {\n                        result[match[1]] = match[2];  \n                    }\n                }\n            );\n            return result;\n        }\n\n        /**\n         * Tinymce has strange behavior with html and this removes one of its side-effects\n         * @param {String} content\n         * @return {String}\n         */\n        self.removeDuplicateAncestorWidgetSpanElement = function (content) {\n            var parser, doc;\n\n            if (!window.DOMParser) {\n                return content;\n            }\n\n            parser = new DOMParser();\n            doc = parser.parseFromString(content.replace(/&quot;/g, '&amp;quot;'), 'text/html');\n\n            [].forEach.call(doc.querySelectorAll('.magento-widget'), function (widgetEl) {\n                var widgetChildEl = widgetEl.querySelector('.magento-widget');\n\n                if (!widgetChildEl) {\n                    return;\n                }\n\n                [].forEach.call(widgetEl.childNodes, function (el) {\n                    widgetEl.parentNode.insertBefore(el, widgetEl);\n                });\n\n                widgetEl.parentNode.removeChild(widgetEl);\n            });\n\n            return doc.body ? doc.body.innerHTML.replace(/&amp;quot;/g, '&quot;') : content;\n        }\n\n        // vendor/magento/module-page-builder/view/adminhtml/web/js/utils/directives.js\n        self.convertMediaDirectivesToUrls = function(html) {\n            var mediaDirectiveRegExp = /\\{\\{\\s*media\\s+url\\s*=\\s*\"?[^\"\\s\\}]+\"?\\s*\\}\\}/g;\n            var mediaDirectiveMatches = html.match(mediaDirectiveRegExp);\n            if (mediaDirectiveMatches) {\n                mediaDirectiveMatches.forEach(function (mediaDirective) {\n                    var urlRegExp = /\\{\\{\\s*media\\s+url\\s*=\\s*(?:\"|&quot;)?(.+)(?=}})\\s*\\}\\}/;\n                    var urlMatches = mediaDirective.match(urlRegExp);\n                    if (urlMatches && typeof urlMatches[1] !== \"undefined\") {\n                        html = html.replace(mediaDirective, magezonBuilderUrl.getImageUrl(urlMatches[1].replace(/\"/g, \"\").replace(/&quot;/g, \"\").replace(/'/g, \"\")));\n                    }\n                });\n            }\n            return html;\n        }\n\n        self.encodeContent = function(content, convert) {\n            if (!content) return;\n            //if (convert) {\n                content = self.convertMediaDirectivesToUrls(content);\n            // } else {\n            //  if (tinymce4) {\n            //      content = self.tinymce4EncodeDirectives(content);\n            //  } else {\n            //      content = self.tinymce3EncodeDirectives(content);\n            //  }\n            // }\n            content = self.encodeWidgets(content);\n            return content;\n        }\n\n        /**\n         * Convert {{directive}} style attributes syntax to absolute URLs\n         * @param {Object} content\n         * @return {*}\n         */\n        self.tinymce4EncodeDirectives = function (content) {\n            // collect all HTML tags with attributes that contain directives\n            return content.gsub(/<([a-z0-9\\-\\_]+[^>]+?)([a-z0-9\\-\\_]+=\"[^\"]*?\\{\\{.+?\\}\\}.*?\".*?)>/i, function (match) {\n                var attributesString = match[2],\n                    decodedDirectiveString;\n\n                // process tag attributes string\n                attributesString = attributesString.gsub(/([a-z0-9\\-\\_]+)=\"(.*?)(\\{\\{.+?\\}\\})(.*?)\"/i, function (m) {\n                    decodedDirectiveString = encodeURIComponent(Base64.mageEncode(m[3].replace(/&quot;/g, '\"') + m[4]));\n\n                    return m[1] + '=\"' + m[2] + this.makeDirectiveUrl(decodedDirectiveString) + '\"';\n                }.bind(this));\n\n                return '<' + match[1] + attributesString + '>';\n            }.bind(this));\n        }\n\n        /**\n         * Convert {{directive}} style attributes syntax to absolute URLs\n         * @param {Object} content\n         * @return {*}\n         */\n        self.tinymce3EncodeDirectives = function (content) {\n            // collect all HTML tags with attributes that contain directives\n            return content.gsub(/<([a-z0-9\\-\\_]+[^>]+?)([a-z0-9\\-\\_]+=\"[^\"]*?\\{\\{.+?\\}\\}.*?\".*?)>/i, function (match) {\n                var attributesString = match[2],\n                    decodedDirectiveString;\n\n                // process tag attributes string\n                attributesString = attributesString.gsub(/([a-z0-9\\-\\_]+)=\"(.*?)(\\{\\{.+?\\}\\})(.*?)\"/i, function (m) {\n                    decodedDirectiveString = encodeURIComponent(Base64.mageEncode(m[3].replace(/&quot;/g, '\"')));\n\n                    return m[1] + '=\"' + m[2] + this.makeDirectiveUrl(decodedDirectiveString) + m[4] + '\"';\n                }.bind(this));\n\n                return '<' + match[1] + attributesString + '>';\n            }.bind(this));\n        }\n\n        self.decodeContent = function(content) {\n            if (tinymce4) {\n                content = self.tinymce4DecodeDirectives(content);\n            } else {\n                content = self.tinymce3DecodeDirectives(content);\n            }\n            content = self.decodeWidgets(content);\n            return content;\n        }\n\n        /**\n         * Convert absolute URLs to {{directive}} style attributes syntax\n         * @param {Object} content\n         * @return {*}\n         */\n        self.tinymce4DecodeDirectives = function (content) {\n            var directiveUrl = this.makeDirectiveUrl('%directive%').split('?')[0], // remove query string from directive\n                // escape special chars in directives url to use in regular expression\n                regexEscapedDirectiveUrl = directiveUrl.replace(/([$^.?*!+:=()\\[\\]{}|\\\\])/g, '\\\\$1'),\n                regexDirectiveUrl = regexEscapedDirectiveUrl\n                    .replace(\n                        '%directive%',\n                        '([a-zA-Z0-9,_-]+(?:%2[A-Z]|)+\\/?)(?:(?!\").)*'\n                    ) + '/?(\\\\\\\\?[^\"]*)?', // allow optional query string\n                reg = new RegExp(regexDirectiveUrl);\n\n            return content.gsub(reg, function (match) {\n                return Base64.mageDecode(decodeURIComponent(match[1]).replace(/\\/$/, '')).replace(/\"/g, '&quot;');\n            });\n        }\n\n        /**\n         * Convert absolute URLs to {{directive}} style attributes syntax\n         * @param {Object} content\n         * @return {*}\n         */\n        self.tinymce3DecodeDirectives = function (content) {\n            var directiveUrl = this.makeDirectiveUrl('%directive%').split('?')[0], // remove query string from directive\n                // escape special chars in directives url to use in regular expression\n                regexEscapedDirectiveUrl = directiveUrl.replace(/([$^.?*!+:=()\\[\\]{}|\\\\])/g, '\\\\$1'),\n                regexDirectiveUrl = regexEscapedDirectiveUrl\n                    .replace(\n                        '%directive%',\n                        '([a-zA-Z0-9,_-]+(?:%2[A-Z]|)+\\/?)(?:(?!\").)*'\n                    ) + '/?(\\\\\\\\?[^\"]*)?', // allow optional query string\n                reg = new RegExp(regexDirectiveUrl);\n\n            return content.gsub(reg, function (match) {\n                return Base64.mageDecode(decodeURIComponent(match[1]).replace(/\\/$/, '')).replace(/\"/g, '&quot;');\n            });\n        }\n\n        /**\n         * @param {Object} content\n         * @return {*}\n         */\n        self.encodeWidgets = function(content) {\n            if (tinymce4) {\n                content = self.tinymce4EncodeWidgets(self.decodeWidgets(content));\n                content = self.removeDuplicateAncestorWidgetSpanElement(content);\n            } else {\n                content = self.tinymce3EncodeWidgets(content);\n            }\n            return content;\n        }\n\n        /**\n         * Convert {{widget}} style syntax to image placeholder HTML\n         * @param {String} content\n         * @return {*}\n         */\n        self.tinymce4EncodeWidgets = function (content) {\n            return content.gsub(/\\{\\{widget(.*?)\\}\\}/i, function (match) {\n                var attributes = self.parseAttributesString(match[1]),\n                    imageSrc,\n                    imageHtml = '';\n\n                if (attributes.type) {\n                    attributes.type = attributes.type.replace(/\\\\\\\\/g, '\\\\');\n                    imageSrc = self.config.placeholders[attributes.type];\n\n                    if (imageSrc) {\n                        imageHtml += '<span class=\"magento-placeholder magento-widget mceNonEditable\" ' +\n                            'contenteditable=\"false\">';\n                    } else {\n                        imageSrc = config['error_image_url'];\n                        imageHtml += '<span ' +\n                            'class=\"magento-placeholder magento-placeholder-error magento-widget mceNonEditable\" ' +\n                            'contenteditable=\"false\">';\n                    }\n\n                    imageHtml += '<img';\n                    imageHtml += ' id=\"' + Base64.idEncode(match[0]) + '\"';\n                    imageHtml += ' src=\"' + imageSrc + '\"';\n                    imageHtml += ' />';\n\n                    if (self.config.widget_types[attributes.type]) {\n                        imageHtml += self.config.widget_types[attributes.type];\n                    }\n\n                    imageHtml += '</span>';\n\n                    return imageHtml;\n                }\n            });\n        }\n\n        /**\n         * @param {Object} content\n         * @return {*}\n         */\n        self.tinymce3EncodeWidgets = function (content) {\n            return content.gsub(/\\{\\{widget(.*?)\\}\\}/i, function (match) {\n                var attributes = self.parseAttributesString(match[1]),\n                    imageSrc,\n                    imageHtml;\n\n                if (attributes.type) {\n                    attributes.type = attributes.type.replace(/\\\\\\\\/g, '\\\\');\n                    imageSrc = this.config['widget_placeholders'][attributes.type];\n\n                    imageHtml = '<img';\n                    imageHtml += ' id=\"' + Base64.idEncode(match[0]) + '\"';\n                    imageHtml += ' src=\"' + imageSrc + '\"';\n                    imageHtml += ' title=\"' +\n                        match[0].replace(/\\{\\{/g, '{').replace(/\\}\\}/g, '}').replace(/\\\"/g, '&quot;') + '\"';\n                    imageHtml += '>';\n\n                    return imageHtml;\n                }\n            }.bind(this));\n        }\n\n        /**\n         * @param {Object} content\n         * @return {*}\n         */\n        self.decodeWidgets = function(content) {\n            if (tinymce4) {\n                content = self.tinymce4DecodeWidgets(content);\n            } else {\n                content = self.tinymce3DecodeWidgets(content);\n            }\n            return content;\n        }\n\n        /**\n         * Convert image placeholder HTML to {{widget}} style syntax\n         * @param {String} content\n         * @return {*}\n         */\n        self.tinymce4DecodeWidgets = function (content) {\n            return content.gsub(\n                /(<span class=\"[^\"]*magento-widget[^\"]*\"[^>]*>)?<img([^>]+id=\"[^>]+)>(([^>]*)<\\/span>)?/i,\n                function (match) {\n                    var attributes = self.parseAttributesString(match[2]),\n                        widgetCode;\n\n                    if (attributes.id) {\n                        widgetCode = Base64.idDecode(attributes.id);\n\n                        if (widgetCode.indexOf('{{widget') !== -1) {\n                            return widgetCode;\n                        }\n                    }\n\n                    return match[0];\n                }\n            );\n        }\n\n        /**\n         * @param {Object} content\n         * @return {*}\n         */\n        self.tinymce3DecodeWidgets = function (content) {\n            return content.gsub(/<img([^>]+id=\\\"[^>]+)>/i, function (match) {\n                var attributes = self.parseAttributesString(match[1]),\n                    widgetCode;\n\n                if (attributes.id) {\n                    widgetCode = Base64.idDecode(attributes.id);\n\n                    if (widgetCode.indexOf('{{widget') !== -1) {\n                        return widgetCode;\n                    }\n                }\n\n                return match[0];\n            }.bind(this));\n        }\n\n        self.processContent = function(content) {\n            var result = content.gsub(/<img\\s[^>]*?src\\s*=\\s*['\\\"]([^'\\\"]*?)['\\\"][^>]*?>/i, function (match) {\n                if (match[1].indexOf($rootScope.builderConfig.mediaUrl) !== -1) {\n                    return match[0].replace(match[1], self.urlToDirective(match[1]));\n                } else {\n                    return match[0];\n                }\n            });\n            return result;  \n        }\n\n        self.convertImageToDirective = function(content) {\n            content = content.replace(/(data-mce-selected=\"1\")/g, '\\\\$1');\n            content = content.gsub(/<img\\s[^>]*?src\\s*=\\s*['\\\"]([^'\\\"]*?)['\\\"][^>]*?>/i, function (match) {\n                var result;\n                if (match[1].indexOf($rootScope.builderConfig.mediaUrl) !== -1) {\n                    var mediaDirective = self.urlToDirective(match[1]);\n                    result = match[0].replace(match[1], mediaDirective);\n                    result = result.replace('data-mce-src=\"' + match[1] + '\"', '');\n                } else {\n                    result = match[0];\n                }\n                return result;\n            });\n            return content;\n        }\n\n        self.urlToDirective = function(imageUrl) {\n            var mediaUrl  = self.convertUrlToPathIfOtherUrlIsOnlyAPath($rootScope.builderConfig.mediaUrl, imageUrl);\n            var mediaPath = imageUrl.split(mediaUrl);\n            return \"{{media url=\" + mediaPath[1] + \"}}\";\n        }\n\n        self.convertUrlToPathIfOtherUrlIsOnlyAPath = function(url, otherUrl) {\n            return self.isPathOnly(otherUrl) ? self.getPathFromUrl(url) : url;\n        }\n\n        self.isPathOnly = function(url) {\n            return url.indexOf(\"/\") === 0;\n        }\n\n        self.getPathFromUrl = function(url) {\n            var a = document.createElement(\"a\");\n            a.href = url;\n            return a.pathname;\n        }\n\n    }\n\n    return filter;\n});","Magezon_Builder/js/services/editor.js":"define([\n\t'jquery',\n\t'angular',\n    'mage/adminhtml/wysiwyg/tiny_mce/html5-schema',\n    'mage/adminhtml/events'\n], function ($, angular, html5Schema) {\n\n\tif (typeof tinyMceEditors == 'undefined') {\n        window.tinyMceEditors = $H({});\n    }\n\n\tvar editor = function($rootScope, $timeout, magezonBuilderFilter) {\n\t\tvar self     = this;\n\t\tself.wysiwyg = angular.copy($rootScope.builderConfig.wysiwyg);\n\t\tself.schema  = html5Schema;\n\n\t\tself.initTinymce = function(id, config, onChange, onInit) {\n\t\t\t$timeout(function() {\n\t\t\t\tif (self.wysiwyg.tinymce4) {\n\t\t\t\t\tself.setupTinymce4(id, config, onChange, onInit);\n\t\t\t\t} else {\n\t\t\t\t\tself.setupTinymce3(id, config, onChange, onInit);\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t}\n\n\t\tself.setupTinymce4 = function (id, config, onChange, onInit) {\n\t\t    var settings;\n\t\t    var deferreds = [];\n\n\t\t    settings = {\n\t\t    \tselector: '#' + id,\n\t\t    \tmode: 'inline',\n\t\t        theme: 'modern',\n\t\t        entity_encoding: 'raw',\n\t\t        convert_urls: false,\n\t\t        relative_urls: false,\n\t\t        remove_script_host: false,\n\t\t        verify_html: false,\n\t\t        menubar: false,\n\t\t        adapter: this,\n\t\t        setup: function(editor) {\n\t\t        \teditor.on('BeforeSetContent', function (evt) {\n\t\t        \t\tif (evt.content) {\n\t\t        \t\t\tevt.content = magezonBuilderFilter.encodeContent(evt.content);\n\t\t        \t\t}\n\t\t        \t});\n\n\t\t            editor.on('change', function(evt) {\n\t\t            \tvar value = window.tinyMCE.get(evt.target.id).getContent();\n\t\t            \tvalue = magezonBuilderFilter.decodeContent(value);\n\t\t            \tself._onChange(onChange, value);\n\t\t            });\n\t\t        }\n\t\t    };\n\t\t    settings = Object.extend(settings, config);\n\t\t    delete settings['plugins'];\n\n\t\t    if (config.baseStaticUrl && config.baseStaticDefaultUrl) {\n\t\t        settings['document_base_url'] = config.baseStaticUrl;\n\t\t    }\n\t\t    // Set the document base URL\n\t\t    if (config['document_base_url']) {\n\t\t        settings['document_base_url'] = config['document_base_url'];\n\t\t    }\n\n\t\t    if (config['files_browser_window_url']) {\n\t\t        /**\n\t\t         * @param {*} fieldName\n\t\t         * @param {*} url\n\t\t         * @param {*} objectType\n\t\t         * @param {*} w\n\t\t         */\n\t\t        settings['file_browser_callback'] = function (fieldName, url, objectType, w) {\n\t\t            self.openFileBrowser4({\n\t\t                win: w,\n\t\t                type: objectType,\n\t\t                field: fieldName\n\t\t            });\n\t\t        }.bind(this);\n\t\t    }\n\n\t\t    if (config.width) {\n\t\t        settings.width = config.width;\n\t\t    }\n\n\t\t    if (config.height) {\n\t\t        settings.height = config.height;\n\t\t    }\n\n\t\t    var plugins = [];\n\t\t    //var plugins = config.plugins ? config.plugins.split(' ') : [];\n\t\t    var toolbar = config.plugins ? config.toolbar.split(' ') : [];\n\n\t\t    if (config.plugins) {\n\t\t        config.plugins.forEach(function (plugin) {\n\t\t            var deferred;\n\t\t            if (angular.isString(plugin)) {\n\t\t                plugins.push(plugin);\n\t\t                return;\n\t\t            }\n\n\t\t            if (plugins.indexOf(plugin.name) === -1) {\n\t\t                plugins.push(plugin.name);\n\t\t            }\n\n\t\t            if (toolbar.indexOf(plugin.name) === -1) {\n\t\t                toolbar.push('|', plugin.name);\n\t\t            }\n\n\t\t            if (!plugin.src) {\n\t\t                return;\n\t\t            }\n\n\t\t            deferred = $.Deferred();\n\t\t            deferreds.push(deferred);\n\n\t\t            require([plugin.src], function (factoryFn) {\n\t\t                if (typeof factoryFn === 'function') {\n\t\t                    factoryFn(plugin.options);\n\t\t                }\n\t\t                window.tinyMCE.PluginManager.load(plugin.name, plugin.src);\n\t\t                deferred.resolve();\n\t\t            });\n\n\t\t            if (deferreds.length) {\n\t\t                jQuery.when.apply(jQuery, deferreds).done(function () {\n\t\t                    $timeout(function() {\n\t\t                    \tself._initTinymce(id, onInit, settings);\n\t\t                    });\n\t\t                });\n\t\t            }\n\t\t        });\n\t\t    }\n\t\t    settings['plugins'] = plugins.join(' ');\n\t\t    settings['toolbar'] = toolbar.join(' ');\n\t\t    if (!deferreds.length) {\n\t\t    \tself._initTinymce(id, onInit, settings);\n\t\t    }\n\t\t}\n\n\t\tself.openFileBrowser4 = function (o) {\n\t\t    var typeTitle = self.translate('Select Images'),\n\t\t        storeId = 0,\n\t\t        frameDialog = jQuery('div.mce-container[role=\"dialog\"]');\n\n\t\t    var id   = frameDialog.find('.mce-textbox').eq(0).attr('id');\n\t\t    var wUrl = self.wysiwyg.files_browser_window_url +\n\t\t            'target_element_id/' + id + '/' +\n\t\t            'store/' + storeId + '/';\n\t\t    self.mediaBrowserOpener = o.win;\n\t\t    self.mediaBrowserTargetElementId = o.field;\n\n\t\t    if (typeof o.type !== 'undefined' && o.type !== '') { //eslint-disable-line eqeqeq\n\t\t        wUrl = wUrl + 'type/' + o.type + '/';\n\t\t    }\n\n\t\t    frameDialog.hide();\n\t\t    jQuery('#mce-modal-block').hide();\n\n\t\t    require(['mage/adminhtml/browser'], function () {\n\t\t        MediabrowserUtility.openDialog(wUrl, false, false, typeTitle, {\n\t\t            /**\n\t\t             * Closed.\n\t\t             */\n\t\t            closed: function () {\n\t\t                frameDialog.show();\n\t\t                jQuery('#mce-modal-block').show();\n\t\t            }\n\t\t        });\n\t\t    });\n\t\t}\n\n\t\tthis.setupTinymce3 = function(id, config, onChange, onInit) {\n\t\t    var plugins = 'inlinepopups,safari,pagebreak,style,layer,table,advhr,advimage,emotions,iespell,media,searchreplace,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras';\n\n\t\t    if (config.widget_plugin_src) {\n\t\t        //plugins = 'magentowidget,' + plugins;\n\t\t    }\n\n\t\t    var magentoPluginsOptions = $H({});\n\t\t    var magentoPlugins = '';\n\n\t\t    if (config.plugins) {\n\t\t        config.plugins.each(function(plugin) {\n\t\t            magentoPlugins = plugin.name + ',' + magentoPlugins;\n\t\t            magentoPluginsOptions.set(plugin.name, plugin.options);\n\t\t        });\n\t\t        if (magentoPlugins) {\n\t\t            plugins = '-' + magentoPlugins + plugins;\n\t\t        }\n\t\t    }\n\n\t\t    var settings = {\n\t\t        'entity_encoding': 'raw',\n\t\t        mode: 'exact',\n\t\t        elements: id,\n\t\t        theme: 'advanced',\n\t\t        plugins: plugins,\n\t\t        theme_advanced_buttons1: magentoPlugins + 'magentowidget,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect',\n\t\t        theme_advanced_buttons2: 'cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,forecolor,backcolor',\n\t\t        theme_advanced_buttons3: 'tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,iespell,media,advhr,|,ltr,rtl,|,fullscreen',\n\t\t        theme_advanced_buttons4: 'insertlayer,moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,pagebreak',\n\t\t        theme_advanced_toolbar_location: 'top',\n\t\t        theme_advanced_toolbar_align: 'left',\n\t\t        theme_advanced_statusbar_location: 'bottom',\n\t\t        valid_elements: self.schema.validElements.join(','),\n\t\t        valid_children: self.schema.validChildren.join(','),\n\t\t        theme_advanced_resizing: true,\n\t\t        theme_advanced_resize_horizontal: false,\n\t\t        convert_urls: false,\n\t\t        relative_urls: false,\n\t\t        content_css: config.content_css,\n\t\t        custom_popup_css: config.popup_css,\n\t\t        magentowidget_url: config.widget_window_url,\n\t\t        magentoPluginsOptions: magentoPluginsOptions,\n\t\t        doctype: '<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">',\n\t\t        setup: function (ed) {\n\n\t\t        \tvar onChange1;\n\n\t\t        \ted.onPreInit.add(self.onEditorPreInit.bind(self));\n\n\t\t        \ted.onInit.add(self.onEditorInit.bind(self));\n\n\t\t            ed.onSubmit.add(function (edi, e) {\n\t\t                varienGlobalEvents.fireEvent('tinymceSubmit', e);\n\t\t            });\n\n\t\t            ed.onPaste.add(function (edi, e, o) {\n\t\t                varienGlobalEvents.fireEvent('tinymcePaste', o);\n\t\t            });\n\n\t\t            ed.onBeforeSetContent.add(function (edi, o) {\n\t\t                varienGlobalEvents.fireEvent('tinymceBeforeSetContent', o);\n\t\t                if (o.content) {\n\t\t        \t\t\to.content = magezonBuilderFilter.encodeContent(o.content);\n\t\t        \t\t}\n\t\t            });\n\n\t\t            ed.onSetContent.add(function (edi, o) {\n\t\t                varienGlobalEvents.fireEvent('tinymceSetContent', o);\n\t\t                self.updateTextArea(onChange, id);\n\t\t            });\n\n\t\t            ed.onSaveContent.add(function (edi, o) {\n\t\t                varienGlobalEvents.fireEvent('tinymceSaveContent', o);\n\t\t                self.updateTextArea(onChange, id);\n\t\t            });\n\n\t\t            onChange1 = function (edi, l) {\n\t\t                varienGlobalEvents.fireEvent('tinymceChange', l);\n\t\t                self.updateTextArea(onChange, id);\n\t\t            };\n\n\t\t            ed.onChange.add(onChange1);\n                    ed.onKeyUp.add(onChange1);\n\n\t\t            ed.onExecCommand.add(function (edi, cmd) {\n\t\t                varienGlobalEvents.fireEvent('tinymceExecCommand', cmd);\n\t\t                self.updateTextArea(onChange, id);\n\t\t            });\n\t\t        }\n\t\t    };\n\n\t\t    // Set the document base URL\n\t\t    if (config.document_base_url) {\n\t\t        settings.document_base_url = config.document_base_url;\n\t\t    }\n\n\t\t    if (config.files_browser_window_url) {\n\t\t        settings['file_browser_callback'] = function (fieldName, url, objectType, w) {\n\t\t            self.openFileBrowser3(id, {\n\t\t                win: w,\n\t\t                type: objectType,\n\t\t                field: fieldName\n\t\t            });\n\t\t        }.bind(this);\n\t\t    }\n\n\t\t    if (config.width) {\n\t\t        settings.width = config.width;\n\t\t    }\n\n\t\t    if (config.height) {\n\t\t        settings.height = config.height;\n\t\t    }\n\n\t\t    if (config.settings) {\n\t\t        Object.extend(settings, config.settings)\n\t\t    }\n\n\t\t    setTimeout(function() {\n\t\t        self._initTinymce(id, onInit, settings);\n\t\t    }, 1000);\n\n\t\t    return settings;\n\t\t}\n\n\t\tself.openFileBrowser3 = function(id, o) {\n\t\t\tvar typeTitle,\n\t\t\tstoreId = 0,\n\t\t\tframeDialog = jQuery(o.win.frameElement).parents('[role=\"dialog\"]'),\n\t\t\twUrl = self.wysiwyg.files_browser_window_url +\n\t\t\t'target_element_id/' + id + '/' +\n\t\t\t'store/' + storeId + '/';\n\n\t\t\tself.mediaBrowserOpener = o.win;\n\t\t\tself.mediaBrowserTargetElementId = o.field;\n\n\t\t\tif (typeof(o.type) != 'undefined' && o.type != \"\") {\n\t\t\t\ttypeTitle = 'image' == o.type ? self.translate('Insert Image...') : self.translate('Insert Media...');\n\t\t\t\twUrl = wUrl + \"type/\" + o.type + \"/\";\n\t\t\t} else {\n\t\t\t\ttypeTitle = self.translate('Insert File...');\n\t\t\t}\n\n\t\t\tframeDialog.hide();\n\t\t\tjQuery('#mceModalBlocker').hide();\n\n\t\t\tMediabrowserUtility.openDialog(wUrl, false, false, typeTitle, {\n\t\t\t\tclosed: function() {\n\t\t\t\t\tframeDialog.show();\n\t\t\t\t\tjQuery('#mceModalBlocker').show();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tself.updateTextArea = function (onChange, id) {\n\t\t    var editor = window.tinyMCE.get(id),\n\t\t        content;\n\t\t    if (!editor) return;\n\t\t    self._onChange(onChange, editor.getContent());\n\t\t}\n\n\t\tself._initTinymce = function(id, onInit, settings) {\n\t\t\ttinymce.init(settings);\n\t\t\tvar editor = tinymce.get(id);\n\t\t\tself._onInit(onInit, editor);\n\t\t\ttinyMceEditors.set(id, self);\n\t\t}\n\n\t\tself.getMediaBrowserOpener = function () {\n            return this.mediaBrowserOpener;\n        }\n\n        self.getMediaBrowserTargetElementId = function () {\n            return this.mediaBrowserTargetElementId;\n        }\n\n\t\tself._onChange = function(onChange, value) {\n\t\t\tif (angular.isFunction(onChange)) {\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tonChange(value);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tself._onInit = function(onInit, editor) {\n\t\t\tif (angular.isFunction(onInit)) {\n\t\t\t\tonInit(editor);\n\t\t\t}\n\t\t}\n\n\t\tself.onEditorInit = function (editor) {\n        }\n\n\t\tself.onEditorPreInit = function (editor) {\n            self.applySchema(editor);\n        }\n\n\t\tself.applySchema= function (editor) {\n            var schema      = editor.schema,\n                schemaData  = self.schema,\n                makeMap     = window.tinyMCE.makeMap;\n\n            jQuery.extend(true, {\n                nonEmpty: schema.getNonEmptyElements(),\n                boolAttrs: schema.getBoolAttrs(),\n                whiteSpace: schema.getWhiteSpaceElements(),\n                shortEnded: schema.getShortEndedElements(),\n                selfClosing: schema.getSelfClosingElements(),\n                blockElements: schema.getBlockElements()\n            }, {\n                nonEmpty: makeMap(schemaData.nonEmpty),\n                boolAttrs: makeMap(schemaData.boolAttrs),\n                whiteSpace: makeMap(schemaData.whiteSpace),\n                shortEnded: makeMap(schemaData.shortEnded),\n                selfClosing: makeMap(schemaData.selfClosing),\n                blockElements: makeMap(schemaData.blockElements)\n            });\n        }\n\n        /**\n         * @param {String} string\n         * @return {String}\n         */\n        self.translate = function (string) {\n            return jQuery.mage.__ ? jQuery.mage.__(string) : string;\n        }\n\n        self.remove = function(id) {\n        \tif (window.tinyMCE.get(id)) {\n        \t\twindow.tinyMCE.get(id).destroy();\n        \t}\n        }\n\t}\n\n\treturn editor;\n\n})","Magezon_Builder/js/factories/FormlyUtils.js":"define([\n    'angular',\n    'underscore'\n], function(angular, _) {\n\n\tvar uniqueid = function (size) {\n        var code = Math.random() * 25 + 65 | 0,\n            idstr = String.fromCharCode(code);\n\n        size = size || 12;\n\n        while (idstr.length < size) {\n            code = Math.floor(Math.random() * 42 + 48);\n\n            if (code < 58 || code > 64) {\n                idstr += String.fromCharCode(code);\n            }\n        }\n\n        return idstr.toLowerCase();\n    };\n\n    var processFields = function(array, separator, level, key) {\n        if (level === undefined) {\n            level = 0;\n        }\n        var types = [];\n        var i = 0,length;\n        var children = [];\n        array  = _.compact(array);\n        length = array.length;\n        for (i; i < length; i++) {\n            var orgiKey = key;\n            var row  = array[i];\n            var elem = row['config'];\n            if (elem['templateOptions']['element']) {\n                if (!elem['data']) elem['data'] = {};\n                elem['data']['element'] = elem['templateOptions']['element'];\n            }\n            if (elem['key']) {\n                if (key) {\n                    key += '.' + elem['key'];\n                } else {\n                    key = elem['key'];\n                }\n                elem['key'] = key;\n            }\n            // Dynamic Rows\n            if (row.config.templateOptions.children) {\n                key = '';\n                row.config.templateOptions.children = this.processFields(row.config.templateOptions.children, separator, level, key);\n            }\n            if (row.hasOwnProperty(separator)) {\n                level++;\n                elem['wrapper']    = this.getUniqueId();\n                elem['fieldGroup'] = this.processFields(row[separator], separator, level, key);\n            } else {\n                elem['type'] = this.getUniqueId();\n                elem['id']   = this.getUniqueId();\n            }\n\n            if (!elem['className']) elem['className'] = '';\n            elem['className'] += ' mgz__field';\n            elem['className'] += ' mgz_field-' + elem.templateOptions.elementId;\n            elem['className'] += ' mgz_field-type-' + elem.templateOptions.builderType;\n\n            if (elem.templateOptions.required) {\n                elem['className'] += ' _required';\n            }\n\n            if (elem.templateOptions.templateUrl) {\n                elem.templateOptions.templateUrl = window.magezonBuilder.viewFileUrl + elem.templateOptions.templateUrl;\n            }\n\n            if (elem.templateOptions.wrapperTemplateUrl) {\n                elem.templateOptions.wrapperTemplateUrl = window.magezonBuilder.viewFileUrl + elem.templateOptions.wrapperTemplateUrl;\n            }\n\n            // overide wrapepr template url\n            if (elem.templateOptions.wrapperTemplateUrl) {\n                var wrapperId = this.getUniqueId();\n                if (!elem['data']) elem['data'] = {};\n                elem['data']['wrapperType'] = wrapperId;\n                elem['wrapper'] = wrapperId;\n            }\n            children.push(elem);\n            key = orgiKey;\n        }\n        return children;\n    }\n\n    var getComponentDefault = function() {\n        return {\n            visible: true,\n            control: true\n        };   \n    }\n\n    var getDefaultValues = function(element) {\n        var defaultValues        = angular.copy(processDefaultValues(element.tabs, {}));\n        defaultValues['type']    = element.type;\n        defaultValues['builder'] = getComponentDefault();\n        return defaultValues;\n    }\n\n    var processDefaultValues = function(fields) {\n        var defaultValues = {};\n        _.each(fields, function(field, k) {\n            if (field.fieldGroup) {\n                var _defaultValues = processDefaultValues(field.fieldGroup);\n                if (_defaultValues) {\n                    if (field.key) {\n                        defaultValues[field.key] = _defaultValues;\n                    } else {\n                        defaultValues = angular.merge(defaultValues, _defaultValues);\n                    }\n                }\n            } else if (field.hasOwnProperty('key') && field.hasOwnProperty('defaultValue')) {\n                defaultValues[field.key] = field['defaultValue'];\n            }\n        });\n        return defaultValues;\n    };\n\n    return {\n        getUniqueId: uniqueid,\n        processFields: processFields\n    }\n});","Magezon_Builder/js/factories/config.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar array_diff = function(arr1) {\n\t\tvar retArr = {}\n\t\tvar argl = arguments.length\n\t\tvar k1 = ''\n\t\tvar i = 1\n\t\tvar k = ''\n\t\tvar arr = {}\n\n\t\t  \tarr1keys: for (k1 in arr1) {\n\t\t  \t\tfor (i = 1; i < argl; i++) {\n\t\t  \t\t\tarr = arguments[i]\n\t\t  \t\t\tfor (k in arr) {\n\t\t  \t\t\t\tif (arr[k] === arr1[k1]) {\n\t\t          \t\t\tcontinue arr1keys;\n\t\t      \t\t\t}\n\t\t  \t\t\t}\n\t\t  \t\t\tretArr[k1] = arr1[k1]\n\t\t\t\t}\n\t\t\t}\n\t\treturn retArr\n\t}\n\n\tvar array_values = function (input) {\n\t\tvar tmpArr = []\n\t\tvar key = ''\n\n\t\tfor (key in input) {\n\t\t\ttmpArr[tmpArr.length] = input[key]\n\t\t}\n\n\t\treturn tmpArr\n\t}\n\n\treturn function(formlyConfigProvider) {\n\t\tvar elements      = {};\n\t\tvar groups        = {};\n\t\tvar $config       = {};\n\t\tvar $directives   = {};\n\n\t\treturn {\n\t\t\tregisterConfig: function(config) {\n\t\t\t\t$config = config;\n\t\t\t},\n\n\t\t\tregisterGroup: function(name, group) {\n\t\t\t\tif (!groups[name]) {\n\t\t\t\t\tgroups[name] = group;\n\t\t\t\t} else {\n\t\t\t\t\tangular.extend(groups[name], group);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tregisterElement: function(name, element) {\n\t\t\t\tif (!element['element']) {\n\t\t\t\t\tif (element['is_collection']) {\n\t\t\t\t\t\telement['element'] = 'Magezon_Builder/js/builder/element/list';\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement['element'] = 'Magezon_Builder/js/builder/element/base';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!element['navigator']) element['navigator'] = 'Magezon_Builder/js/navigator/element/base';\n\t\t\t\tif (element['is_collection']) {\n\t\t\t\t\tif (!element['templateUrl']) {\n\t\t\t\t\t\telement['templateUrl'] = 'Magezon_Builder/js/templates/builder/element/list.html'\n\t\t\t\t\t}\n\t\t\t\t\tif (!element['navigatorTemplateUrl']) {\n\t\t\t\t\t\telement['navigatorTemplateUrl'] = 'Magezon_Builder/js/templates/navigator/element/list.html'\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (element.hasOwnProperty('visible') && element.visible || !element.hasOwnProperty('visible')) {\n\t\t\t\t\tif (!elements[name]) {\n\t\t\t\t\t\telements[name] = element;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tangular.extend(elements[name], element);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tprocessAllowTypes: function() {\n\t\t\t\t$allTypes      = [];\n\t\t\t\tangular.forEach(elements, function(element, index) {\n\t\t\t\t\t$allTypes.push(element.type);\n\t\t\t\t});\n\n\t\t\t\t$childrenTypes = [];\n\t            angular.forEach(elements, function(element, index) {\n\t\t\t\t\t$allowedTypes  = element.allowed_types;\n\t\t\t\t\t$excludedTypes = element.excluded_types;\n\n\t                if (angular.isString($allowedTypes)) {\n\t                    element.allowed_types = $allowedTypes.split(',');\n\t                }\n\n\t                if (!element.allowed_types && $excludedTypes) {\n\t                    if (angular.isString($excludedTypes)) {\n\t                        $excludedTypes = $excludedTypes.split(',');\n\t                    }\n\t                    $allowedTypes = array_diff($allTypes, $excludedTypes);\n\t                    element.allowed_types = array_values($allowedTypes);\n\t                }\n\n\t                if (element.children) {\n\t                    $childrenTypes.push(element.children);\n\t                }\n\t            });\n\n\t            $validTypes = array_diff($allTypes, $childrenTypes);\n\t            angular.forEach(elements, function(element, index) {\n\t                $allowedTypes  = element.allowed_types;\n\t                if ($allowedTypes) {\n\t                    if ($.inArray( element.children, $allowedTypes) === -1) {\n\t\t\t\t\t\t\t$_allowedTypes        = array_diff($allowedTypes, $childrenTypes);\n\t\t\t\t\t\t\telement.allowed_types = array_values($_allowedTypes);\n\t                    }\n\t                } else {\n\t                    element.allowed_types = array_values($validTypes);\n\t                }\n\t            });\n\t\t\t},\n\n\t\t\tregisterDirectives: function(name, directive) {\n\t\t\t\t$directives[name] = directive;\n\t\t\t},\n\n\t\t\t$get: function() {\n\t\t\t\treturn {\n\t\t\t\t\telements: elements,\n\t\t\t\t\tgroups: groups,\n\t\t\t\t\tconfig: $config,\n\t\t\t\t\tdirectives: $directives\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});","Magezon_Builder/js/builder/helper.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/helper.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\n\t\t\t\t$scope.addRowElement = function(columns) {\n\t\t\t\t\t$rootScope.$broadcast('addRootRowElement', columns);\n\t\t\t\t\t$rootScope.$broadcast('exportShortcode');\n\t\t\t\t}\n\n\t\t\t\t$scope.openModal = function() {\n\t\t\t\t\t$rootScope.$broadcast('openElementsModal', true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/gmaps.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function($rootScope, magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/gmaps.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t},\n\t\t\tlink: function(scope, element) {\n\n\t\t\t\tscope.loadElement = function() {\n\t\t\t\t\tinitGoogleMap();\n\t\t\t\t}\n\n\t\t\t\tfunction getItems()\n\t\t\t\t{ \n\t\t\t\t\tvar $newItems = [];\n\t\t\t\t\t$items        = angular.copy(scope.element.items);\n\t\t\t\t\tif ($items) {\n\t\t\t\t\t\tangular.forEach($items, function($_item) {\n\t\t\t\t\t\t\tvar newItem = $_item;\n\t\t\t\t\t\t\tif (newItem['image']) {\n\t\t\t\t\t\t\t\tnewItem['image'] = magezonBuilderUrl.getImageUrl($_item['image']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$newItems.push(newItem);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn $newItems;\n\t\t\t\t}\n\n\t\t\t\tfunction getCenterItem() {\n\t\t\t\t\tvar $result = '';\n\t\t\t\t\tangular.forEach(scope.element.items, function($_item) {\n\t\t\t\t\t\tif ($_item['center'] && $_item['lat'] && $_item['lng'] && !$result) {\n\t\t\t\t\t\t\t$result = $_item;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (!$result) {\n\t\t\t\t\t\tangular.forEach(scope.element.items, function($_item) {\n\t\t\t\t\t\t\tif ($_item['lat'] && $_item['lng'] && !$result) {\n\t\t\t\t\t\t\t\t$result = $_item;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn $result;\n\t\t\t\t}\n\n\t\t\t\tfunction initGoogleMap() {\n\t\t\t\t\tvar _element               = scope.element;\n\t\t\t\t\tvar uid                    = _element.id + '-map';\n\t\t\t\t\tvar google_map_zoom        = parseInt(_element.map_zoom);\n\t\t\t\t\tvar google_map_type        = _element.map_type;\n\t\t\t\t\tvar google_map_ui          = _element.map_ui;\n\t\t\t\t\tvar google_map_scrollwheel = _element.map_scrollwheel;\n\t\t\t\t\tvar google_map_draggable   = _element.map_draggable;\n\t\t\t\t\tvar items                  = getItems();\n\t\t\t\t\tvar centerItem             = getCenterItem();\n\t\t\t\t\tvar self      = this;\n\t\t\t\t\trequire([\n\t\t\t\t\t\t'https://maps.google.com/maps/api/js?key=' + $rootScope.builderConfig.googleApi + '&libraries=places'\n\t\t\t\t\t], function() {\n\t\t\t\t\t\tif (!$('#' + uid).length) return;\n\n\t\t\t\t\t\tvar config = {\n\t\t\t\t\t\t\tcenter: {\n\t\t\t\t\t\t\t\tlat: parseFloat(centerItem['lat']),\n\t\t\t\t\t\t\t\tlng: parseFloat(centerItem['lng'])\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tzoom: google_map_zoom,\n\t\t\t\t\t\t\tmapTypeId: google_map_type,\n\t\t\t\t\t\t\tdisableDefaultUI: google_map_ui,\n\t\t\t\t\t\t\tscrollwheel: google_map_scrollwheel,\n\t\t\t\t\t\t\tdraggable: google_map_draggable\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tvar map = new google.maps.Map(document.getElementById(uid), config);\n\n\t\t\t\t\t\tif (items && items.length) {\n\t\t\t\t\t\t\titems.each(function(option) {\n\t\t\t\t\t\t\t\tvar myLatLng = new google.maps.LatLng(option['lat'], option['lng']);\n\t\t\t\t\t\t\t\taddMarker(myLatLng, map, option);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction addMarker(location, map, option) {\n\t\t\t\t\t\t\tvar marker = new google.maps.Marker({\n\t\t\t\t\t\t\t\tposition: location,\n\t\t\t\t\t\t\t\tmap: map,\n\t\t\t\t\t\t\t\ticon: option['image']\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (option['info']) {\n\t\t\t\t\t\t\t\tvar infowindow = new google.maps.InfoWindow({\n\t\t\t\t\t\t\t\t\tcontent: option['info']\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tmarker.addListener('click', function() {\n\t\t\t\t\t\t\t\t\tinfowindow.open(map, marker);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (element.infobox_opened) {\n\t\t\t\t\t\t\t\t\tinfowindow.open(map, marker);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tinitGoogleMap();\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/profile.js":"define([\n\t'jquery',\n\t'angular'\n], function ($, angular) {\n\n\tvar directive = function(magezonBuilderService, magezonBuilderUrl) {\n\t\treturn {\n\t\t\tscope: {\n\t\t\t\telement: '='\n\t\t\t},\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/profile.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $rootScope, $controller, elementManager) {\n\t\t\t\t//$scope.element = $scope.profile;\n\t\t\t\t$scope.element.builder = elementManager.getBuilderConfig('profile');\n\t\t\t\t//$scope.element.elements = [];\n\t\t\t\tvar self = this;\n\t\t\t\tvar parent = $controller('listController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\n\t\t\t\tvar mainElement = $rootScope.builderConfig.mainElement;\n\n\t\t\t\t$scope.$on('addRootRowElement', function(event, columns) {\n\t\t\t\t\tvar row            = self.addElement(mainElement, null, false);\n\t\t\t\t\tvar builderElement = self.getBuilderElement(mainElement);\n\t\t\t\t\tvar viewMode       = magezonBuilderService.getViewMode();\n\t\t\t\t\tvar types          = columns.split('_');\n\t\t\t\t\tfor (var i = 0; i < types.length - 1; i++) {\n\t\t\t\t\t\tvar _type   = types[i].split('');\n\t\t\t\t\t\tvar element = self.addElement(builderElement.children, row);\n\t\t\t\t\t\tvar width;\n\t\t\t\t\t\tif (_type[1]==5) {\n\t\t\t\t\t\t\twidth = 15\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twidth = 12 * _type[0] / _type[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telement['xl_size'] = '';\n\t\t\t\t\t\telement['lg_size'] = '';\n\t\t\t\t\t\telement['md_size'] = width;\n\t\t\t\t\t\telement['sm_size'] = '';\n\t\t\t\t\t\telement['xs_size'] = '';\n\t\t\t\t\t}\n\n\t\t\t\t\t// First Column\n\t\t\t\t\trow['elements'][0]['xl_size'] = '';\n\t\t\t\t\trow['elements'][0]['lg_size'] = '';\n\t\t\t\t\trow['elements'][0]['md_size'] = width;\n\t\t\t\t\trow['elements'][0]['sm_size'] = '';\n\t\t\t\t\trow['elements'][0]['xs_size'] = '';\n\n\t\t\t\t\tif (!$('.mgz-fullscreen').length) {\n\t\t\t\t\t\t$rootScope.$broadcast('setViewMode', 'xl');\t\n\t\t\t\t\t}\n\n\t\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\t\ttype: 'changed',\n\t\t\t\t\t\tsubtitle: 'Row Layout'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/separator.js":"define([\n\t'jquery',\n\t'angular',\n], function($, angular) {\n\n\tvar heading = function(magezonBuilderUrl, $compile) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/separator.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\t\t\t},\n\t\t\tlink: function($scope, $element, $attr) {\n\t\t\t\tvar $parent = $element.parent();\n\t\t\t\t$scope.$watch('element.title_tag', function(newVal) {\n\t\t\t\t\tvar template = '<' + newVal + ' class=\"title mgz-inline-edit\">';\n\t\t\t\t\t\tif ($scope.element.add_icon && $scope.element.icon_position == 'left') {\n\t\t\t\t\t\t\ttemplate += '<i class=\"mgz-icon-element ' + $scope.element.icon + '\"></i>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttemplate += '<span content-editable=\"true\" ng-model=\"element.title\">' + $scope.element.title + '</span>';\n\t\t\t\t\t\tif ($scope.element.add_icon && $scope.element.icon_position == 'right') {\n\t\t\t\t\t\t\ttemplate += '<i class=\"mgz-icon-element ' + $scope.element.icon + '\"></i>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttemplate += '</' + newVal + '>';\n\t\t\t\t\t\tvar html = $compile(template)($scope);\n\t\t\t\t\t\t$parent.find('.mgz-inline-edit').replaceWith(html);\n\t\t\t\t});\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn heading;\n});","Magezon_Builder/js/builder/element/list.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/list.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('listController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/text.js":"define([\n\t'jquery',\n\t'angular',\n], function($, angular) {\n\n\tvar text = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/text.html');\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, $controller) {\n\t\t\t\tvar loaded = false;\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\n\t\t\t\t$scope.onChange = function(value) {\n\t\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\t\ttype: 'edited',\n\t\t\t\t\t\ttitle: $scope.element.builder.name,\n\t\t\t\t\t\tsubtitle: 'Content'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn text;\n});","Magezon_Builder/js/builder/element/single-image.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/single-image.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\n\t\t\t\t$scope.getSrc = function() {\n\t\t\t\t\tvar src;\n\n\t\t\t\t\tswitch($scope.element.source) {\n\t\t\t\t\t\tcase 'media_library':\n\t\t\t\t\t\t\tif ($scope.element.image)\n\t\t\t\t\t\t\tsrc = magezonBuilderUrl.getImageUrl($scope.element.image);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'external_link':\n\t\t\t\t\t\t\tif ($scope.element.custom_src)\n\t\t\t\t\t\t\tsrc = $scope.element.custom_src;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn src;\n\t\t\t\t}\n\t\t\t},\n\t\t\tlink: function(scope, element) {\n\t\t\t\telement.find('.mgz-single-image-inner').hover(function() {\n\t\t\t\t\tvar hoverImage = magezonBuilderUrl.getImageUrl(scope.element.hover_image);\n\t\t\t\t\tif (hoverImage) {\n\t\t\t\t\t\t$(this).find('img').attr('src', hoverImage);\n\t\t\t\t\t}\n\t\t\t\t}, function() {\n\t\t\t\t\tvar hoverImage = magezonBuilderUrl.getImageUrl(scope.element.hover_image);\n\t\t\t\t\tif (hoverImage && scope.getSrc()) {\n\t\t\t\t\t\t$(this).find('img').attr('src', scope.getSrc());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/countdown.js":"define([\n\t'angular',\n\t'moment',\n\t'Magezon_Builder/js/countdown',\n\t'moment-timezone-with-data'\n], function(angular, moment) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/countdown.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t},\n\t\t\tlink: function(scope, element) {\n\t\t\t\tvar loadCountdown = function() {\n\t\t\t\t\tvar _element = scope.element;\n\t\t\t\t\tvar timeStr  = _element.year + '-' + _element.month + '-' + _element.day + ' ' + _element.hours + ':' + _element.minutes;\n\t\t\t\t\tvar time     = moment(timeStr, 'YYYY-MM-DD HH:mm').tz(_element.time_zone);\t\n\t\t\t\t\tif (element.data(\"countdown\")) {\n\t\t\t\t\t\telement.data(\"countdown\").clearInterval();\n\t\t\t\t\t\telement.find('.mgz-element-bar').css({\n\t\t\t\t\t\t\t'stroke-dashoffset': '',\n\t\t\t\t\t\t\t'width': ''\n\t\t\t\t\t\t});\n\t\t\t\t\t\telement.countdown('destroy');\n\t\t\t\t\t}\n\t\t\t\t\tvar time1 = time.isValid() ? time.format() : moment().format();\n\t\t\t\t\telement.countdown({\n\t\t\t\t\t\ttype:_element.layout,\n\t\t\t\t\t\ttime: time1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tscope.loadElement = function() {\n\t\t\t\t\tloadCountdown();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/heading.js":"define([\n\t'jquery',\n\t'angular',\n], function($, angular) {\n\n\tvar heading = function(magezonBuilderUrl, $compile, $timeout) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/heading.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\t\t\t},\n\t\t\tlink: function($scope, $element, $attr) {\n\t\t\t\tvar $parent = $element.parent();\n\t\t\t\t$scope.$watch('element.heading_type', function(newVal) {\n\t\t\t\t\tvar template = '<' + newVal + ' class=\"mgz-element-heading-text\" content-editable=\"true\" type=\"multiple\" ng-model=\"element.text\" ng-model-options=\"{ debounce: 300 }\" data-placeholder=\"Edit Heading Text\">' + $scope.element.text + '</' + newVal + '>';\n\t\t\t\t\tvar html = $compile(template)($scope);\n                    $parent.html(html);\n                    if ($scope.loaded) {\n                    \t$parent.children('.mgz-contenteditable-element').trigger('focus');\t\n                    }\n\t\t\t\t});\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t$scope.loaded = true;\n\t\t\t\t}, 500);\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn heading;\n});","Magezon_Builder/js/builder/element/tabs.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl, $timeout) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/builder/element/tabs.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\n\t\t\t\tvar parent = $controller('listController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\n\t\t\t\t$scope.element.builder.dndDisabled = true;\n\n\t\t\t\tangular.forEach($scope.element.elements, function(element, index) {\n\t\t\t\t\tif (index == 0) {\n\t\t\t\t\t\telement.builder.visible = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.builder.visible = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('afterAddElement', function(e, elem) {\n\t\t\t\t\t$scope.activeEventElement(elem);\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('afterCloneElement', function(e, elem) {\n\t\t\t\t\tif ($scope.isChildren(elem)) {\n\t\t\t\t\t\t$scope.activeEventElement(elem);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('afterDropElement', function(e, elem) {\n\t\t\t\t\tif ($scope.isChildren(elem)) {\n\t\t\t\t\t\t$scope.activeEventElement(elem);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.activeEventElement = function(elem) {\n\t\t\t\t\tif ($scope.isChildren(elem)) {\n\t\t\t\t\t\t$scope.activeElement(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.$on('beforeRemoveElement', function(e, elem) {\n\t\t\t\t\tif ($scope.isChildren(elem)) {\n\t\t\t\t\t\tvar index = $scope.getElemIndex(elem);\n\t\t\t\t\t\tvar elem2 = $scope.element.elements[index+1] ? $scope.element.elements[index+1] : 0;\n\t\t\t\t\t\tif(elem2) $scope.activeElement(elem2);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.activeElement = function(element) {\n\t\t\t\t\tif (!element) return;\n\t\t\t\t\telement.builder.additionalClasses.push('mgz-tabs-tab-content');\n\t\t\t\t\tangular.forEach($scope.element.elements, function(el, index) {\n\t\t\t\t\t\tif (el !== element) {\n\t\t\t\t\t\t\tel.builder.visible = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\telement.builder.visible = true;\n\t\t\t\t\telement.builder.additionalClasses.push('mgz-active');\n\t\t\t\t}\n\n\t\t\t\t$scope.activeFirstElement = function() {\n\t\t\t\t\tvar active = true;\n\t\t\t\t\tangular.forEach($scope.element.elements, function(element) {\n\t\t\t\t\t\tif (!element.builder.visible) {\n\t\t\t\t\t\t\tactive = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (!active) {\n\t\t\t\t\t\t$scope.activeElement($scope.element.elements[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$scope.activeFirstElement();\n\n\t\t\t\t$scope.getClassess = function() {\n\t\t\t\t\tvar _elem = $scope.element;\n\t\t\t\t\tvar clasess = [];\n\t\t\t\t\tclasess.push('mgz-tabs');\n\t\t\t\t\tclasess.push('mgz-tabs-' + _elem.id);\n\t\t\t\t\tclasess.push('mgz-element-tab-align-' + _elem.tab_align);\n\t\t\t\t\tclasess.push('mgz-element-tab-position-' + _elem.tab_position);\n\t\t\t\t\tif (_elem.no_fill_content_area) clasess.push('mgz-tabs-no-fill-content');\n\t\t\t\t\tif (_elem.mobile_accordion) clasess.push('tabs-mobile-accordion');\n\t\t\t\t\treturn clasess;\n\t\t\t\t}\n\n\t\t\t\t$scope.getSpacing = function() {\n\t\t\t\t\treturn $scope.element.spacing ? parseFloat($scope.element.spacing) : 0;\n\t\t\t\t}\n\n\t\t\t\t$scope.getGap = function() {\n\t\t\t\t\treturn $scope.element.gap ? parseFloat($scope.element.gap) : 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/row.js":"define([\n\t'jquery',\n\t'angular',\n], function($, angular) {\n\n\tvar text = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/builder/element/row.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar loaded = false;\n\t\t\t\tvar parent = $controller('listController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tthis.getWrapperClasses = function() {\n\t\t\t\t\tvar classes = parent.getWrapperClasses();\n\t\t\t\t\tif ($scope.element.row_type == 'contained') {\n\t\t\t\t\t\tclasses.push('mgz-container');\n\t\t\t\t\t}\n\t\t\t\t\tif ($scope.element.equal_height) {\n\t\t\t\t\t\tclasses.push('mgz-row-equal-height');\n\t\t\t\t\t\tif ($scope.element.content_position) classes.push('content-' + $scope.element.content_position);\n\t\t\t\t\t}\n\t\t\t\t\tif ($scope.element.full_height) classes.push('mgz-row-full-height');\n\t\t\t\t\treturn classes;\n\t\t\t\t}\n\t\t\t},\n\t\t\tlink: function(scope, element) {\n\t\t\t\tvar height;\n\t\t\t\tscope.$watch('element.full_height', function(fullHeight) {\n\t\t\t\t\tif (fullHeight) {\n\t\t\t\t\t\theight = $(window).height();\n\t\t\t\t\t} else {\n\t\t\t\t\t\theight = '';\n\t\t\t\t\t}\n\t\t\t\t\telement.parent().css('min-height', height);\n\t\t\t\t});\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn text;\n});","Magezon_Builder/js/builder/element/base.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/element/default.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('baseController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/column.js":"define([\n\t'jquery',\n\t'angular',\n], function($, angular) {\n\n\tvar text = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/builder/element/list.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar loaded = false;\n\t\t\t\tvar parent = $controller('listController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar parentElement = $scope.$parent.$parent.element;\n\t\t\t\tthis.getWrapperClasses = function() {\n\t\t\t\t\tvar classes = parent.getWrapperClasses();\n\t\t\t\t\tvar gapType = parentElement.gap_type ? parentElement.gap_type : 'padding';\n\t\t\t\t\tif (gapType == 'margin') {\n\t\t\t\t\t\tclasses.push('mgz-row-gap-margin');\n\t\t\t\t\t}\n\t\t\t\t\treturn classes;\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrollerAs: 'mgz'\n\t\t}\n\t}\n\n\treturn text;\n});","Magezon_Builder/js/builder/element/separator/toolbar.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/builder/element/separator/toolbar.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('toolbarController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\n\t\t\t\t$scope.updatedkey = function(key, value) {\n\t\t\t\t\tswitch(key) {\n\t\t\t\t\t\tcase 'elemHeading':\n\t\t\t\t\t\t\t$scope.element.title_tag = value;\n\t\t\t\t\t\t\t$scope.addHistory('edited', 'Tag');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'elemAlign':\n\t\t\t\t\t\t\t$scope.element.title_align = value;\n\t\t\t\t\t\t\t$scope.addHistory('edited', 'Alignment');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.$watch('element.text', function(text) {\n\t\t\t\t\tif ($scope.isLoaded()) {\n\t\t\t\t\t\t$scope.addHistory('edited', 'Text');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.$watch('element.color', function(color) {\n\t\t\t\t\tif ($scope.isLoaded()) {\n\t\t\t\t\t\t$scope.addHistory('edited', 'Color');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/heading/toolbar.js":"define([\n\t'jquery',\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getViewFileUrl('Magezon_Builder/js/templates/builder/element/heading/toolbar.html');\n\t\t\t},\n\t\t\tcontroller: function($scope, $controller) {\n\n\t\t\t\tvar parent = $controller('toolbarController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\n\t\t\t\t$scope.fontSize = $scope.element.font_size;\n\n\t\t\t\t$scope.updatedkey = function(key, value) {\n\t\t\t\t\tswitch(key) {\n\t\t\t\t\t\tcase 'elemHeading':\n\t\t\t\t\t\t\t$scope.element.heading_type = value;\n\t\t\t\t\t\t\t$scope.addHistory('edited', 'Type');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'elemAlign':\n\t\t\t\t\t\t\t$scope.element.align = value;\n\t\t\t\t\t\t\t$scope.addHistory('edited', 'Alignment');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.$watch('element.text', function(text, old) {\n\t\t\t\t\tif ($scope.isLoaded() && (text !== old)) {\n\t\t\t\t\t\t$scope.addHistory('edited', 'Text');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.$watch('element.color', function(color, old) {\n\t\t\t\t\tif ($scope.isLoaded() && (color !== old)) {\n\t\t\t\t\t\t$scope.addHistory('edited', 'Color');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.changeFontSize = function(e) {\n\t\t\t\t\t$scope.element.font_size = $scope.fontSize;\n\t\t\t\t\t$scope.addHistory('edited', 'Font Size');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/element/text/toolbar.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\tcontroller: function($scope, $controller) {\n\t\t\t\tvar parent = $controller('toolbarController', {$scope: $scope});\n\t\t\t\tangular.extend(this, parent);\n\t\t\t\tvar self = this;\n\t\t\t\tvar loaded = false;\n\n\t\t\t\t$scope.$watch('element.content', function(content) {\n\t\t\t\t\tif (loaded) {\n\t\t\t\t\t\t$rootScope.$broadcast('addHistory', {\n\t\t\t\t\t\t\ttype: 'edited',\n\t\t\t\t\t\t\ttitle: $scope.element.builder.name,\n\t\t\t\t\t\t\tsubtitle: 'Content'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tloaded = true;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/my-templates.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/my_templates.html')\n\t\t\t},\n\t\t\tcontroller: function($scope, magezonBuilderModal) {\n\t\t\t\t$scope.openTemplatesModal = function() {\n\t\t\t\t\tmagezonBuilderModal.open('templates');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/navigator.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/navigator.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, magezonBuilderModal) {\n\t\t\t\t$scope.$on('openNavigatorModal', function() {\n\t\t\t\t\t$scope.openModal();\n\t\t\t\t});\n\t\t\t\t$scope.openModal = function() {\n\t\t\t\t\tmagezonBuilderModal.open('navigator').result.then(function() {}, function() {\n\t\t\t\t\t\tif($rootScope.activedElement) $rootScope.activedElement.builder.actived = false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/shortcode.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/shortcode.html')\n\t\t\t},\n\t\t\tcontroller: function($scope, magezonBuilderModal) {\n\t\t\t\t$scope.openProfileShortcodeModal = function() {\n\t\t\t\t\tmagezonBuilderModal.open('profileShortcode');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/add.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/add.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\t\t\t\t$scope.openElementsModal = function() {\n\t\t\t\t\t$rootScope.$broadcast('openElementsModal', true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/view_mode.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderService, magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/view_mode.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\n\t\t\t\t$scope.viewMode  = magezonBuilderService.getViewMode();\n\n\t\t\t\t$scope.viewModes = {\n\t\t\t\t\txl: {\n\t\t\t\t\t\ttitle: 'Desktop',\n\t\t\t\t\t\ticon: 'mgz-icon mgz-icon-desktop'\n\t\t\t\t\t},\n\t\t\t\t\tlg: {\n\t\t\t\t\t\ttitle: 'Tablet Landscape',\n\t\t\t\t\t\ticon: 'mgz-icon mgz-icon-tablet-landscape'\n\t\t\t\t\t},\n\t\t\t\t\tmd: {\n\t\t\t\t\t\ttitle: 'Tablet Portrait',\n\t\t\t\t\t\ticon: 'mgz-icon mgz-icon-tablet-portrait'\n\t\t\t\t\t},\n\t\t\t\t\tsm: {\n\t\t\t\t\t\ttitle: 'Mobile Landscape',\n\t\t\t\t\t\ticon: 'mgz-icon mgz-icon-mobile-landscape'\n\t\t\t\t\t},\n\t\t\t\t\txs: {\n\t\t\t\t\t\ttitle: 'Mobile Portrait',\n\t\t\t\t\t\ticon: 'mgz-icon mgz-icon-mobile-portrait'\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$scope.changeViewMode = function(viewMode) {\n\t\t\t\t\t$scope.viewMode = viewMode;\n\t\t\t\t\tmagezonBuilderService.setViewMode(viewMode);\n\t\t\t\t\t$rootScope.fullscreen = true;\n\t\t\t\t\t$rootScope.$broadcast('loadElements');\n\t\t\t\t}\n\n\t\t\t\t$scope.$watch('viewMode', function(viewMode) {\n\t\t\t\t\t$rootScope.$broadcast('changedViewMode', viewMode);\n\t\t\t\t});\n\n\t\t\t\t$scope.$on('setViewMode', function(event, viewMode) {\n\t\t\t\t\t$scope.viewMode = viewMode;\n\t\t\t\t\tmagezonBuilderService.setViewMode(viewMode);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/fullscreen.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/fullscreen.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\t\t\t\t$scope.toggleFullscreen = function() {\n\t\t\t\t\t$rootScope.fullscreen = !$rootScope.fullscreen;\n\t\t\t\t\tif (!$rootScope.fullscreen) {\n\t\t\t\t\t\t$rootScope.$broadcast('setViewMode', 'xl');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/clear.js":"define([\n\t'jquery',\n\t'angular'\n], function($, angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/clear.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, magezonBuilderModal) {\n\t\t\t\t$scope.openModal = function(e) {\n\t\t\t\t\tmagezonBuilderModal.open('clear_layout');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/history.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/history.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, magezonBuilderModal) {\n\t\t\t\t$scope.$on('openHistoryModal', function() {\n\t\t\t\t\t$scope.openModal();\n\t\t\t\t});\n\t\t\t\t$scope.openModal = function() {\n\t\t\t\t\tmagezonBuilderModal.open('history');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/settings.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/settings.html')\n\t\t\t},\n\t\t\tcontroller: function($scope, magezonBuilderModal) {\n\t\t\t\t$scope.openModal = function () {\n\t\t\t\t\tmagezonBuilderModal.open('settings');\n\t\t        }\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/navbar/templates.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/navbar/add.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope) {\n\t\t\t\t$scope.openModal = function() {\n\t\t\t\t\t$rootScope.$broadcast('openElementsModal', true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/js/builder/control/updown.js":"define([\n\t'angular'\n], function(angular) {\n\n\tvar directive = function(magezonBuilderUrl) {\n\t\treturn {\n\t\t\treplace: true,\n\t\t\ttemplateUrl: function(elem) {\n\t\t\t\treturn magezonBuilderUrl.getTemplateUrl(elem, 'Magezon_Builder/js/templates/builder/control/updown.html')\n\t\t\t},\n\t\t\tcontroller: function($rootScope, $scope, elementManager) {\n\n\t\t\t\t$scope.upClass   = 'mgz-fa-chevron-up';\n\t\t\t\t$scope.upTitle   = 'Move up';\n\t\t\t\t$scope.downClass = 'mgz-fa-chevron-down';\n\t\t\t\t$scope.downTitle = 'Move down';\n\n\t\t\t\t$scope.isUpVisible = function() {\n\t\t\t\t\tvar el = elementManager.getEl($scope.element);\n\t\t\t\t\tif (!el.prev('.mgz-element').length || !el.prev('.mgz-element').is(':visible')) return false;\n\t\t\t\t\tvar elPosition   = el.position();\n\t\t\t\t\tvar nextPosition = el.prev('.mgz-element').position();\n\t\t\t\t\tif (elPosition.top == nextPosition.top) {\n\t\t\t\t\t\t$scope.upTitle = 'Move left';\n\t\t\t\t\t\t$scope.upClass = 'mgz-fa-chevron-left';\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t$scope.moveUp = function() {\n\t\t\t\t\t$rootScope.$broadcast('moveUpElement', $scope.element);\n\t\t\t\t}\n\n\t\t\t\t$scope.isDownVisible = function() {\n\t\t\t\t\tvar el = elementManager.getEl($scope.element);\n\t\t\t\t\tif (!el.next('.mgz-element').length || !el.next('.mgz-element').is(':visible')) return false;\n\t\t\t\t\tvar elPosition   = el.position();\n\t\t\t\t\tvar prevPosition = el.next('.mgz-element').position();\n\t\t\t\t\tif (elPosition.top == prevPosition.top) {\n\t\t\t\t\t\t$scope.downTitle = 'Move right';\n\t\t\t\t\t\t$scope.downClass = 'mgz-fa-chevron-right';\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\t\n\t\t\t\t}\n\n\t\t\t\t$scope.moveDown = function() {\n\t\t\t\t\t$rootScope.$broadcast('moveDownElement', $scope.element);\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn directive;\n});","Magezon_Builder/vendor/spectrum/spectrum.js":"// Spectrum Colorpicker v1.8.0\n// https://github.com/bgrins/spectrum\n// Author: Brian Grinstead\n// License: MIT\n\n(function (factory) {\n    \"use strict\";\n\n    if (typeof define === 'function' && define.amd) { // AMD\n        define(['jquery'], factory);\n    }\n    else if (typeof exports == \"object\" && typeof module == \"object\") { // CommonJS\n        module.exports = factory(require('jquery'));\n    }\n    else { // Browser\n        factory(jQuery);\n    }\n})(function($, undefined) {\n    \"use strict\";\n\n    var defaultOpts = {\n\n            // Callbacks\n            beforeShow: noop,\n            move: noop,\n            change: noop,\n            show: noop,\n            hide: noop,\n\n            // Options\n            color: false,\n            flat: false,\n            showInput: false,\n            allowEmpty: false,\n            showButtons: true,\n            clickoutFiresChange: true,\n            showInitial: false,\n            showPalette: false,\n            showPaletteOnly: false,\n            hideAfterPaletteSelect: false,\n            togglePaletteOnly: false,\n            showSelectionPalette: true,\n            localStorageKey: false,\n            appendTo: \"body\",\n            maxSelectionSize: 7,\n            cancelText: \"cancel\",\n            chooseText: \"choose\",\n            togglePaletteMoreText: \"more\",\n            togglePaletteLessText: \"less\",\n            clearText: \"Clear Color Selection\",\n            noColorSelectedText: \"No Color Selected\",\n            preferredFormat: false,\n            className: \"\", // Deprecated - use containerClassName and replacerClassName instead.\n            containerClassName: \"\",\n            replacerClassName: \"\",\n            showAlpha: false,\n            theme: \"sp-light\",\n            palette: [[\"#ffffff\", \"#000000\", \"#ff0000\", \"#ff8000\", \"#ffff00\", \"#008000\", \"#0000ff\", \"#4b0082\", \"#9400d3\"]],\n            selectionPalette: [],\n            disabled: false,\n            offset: null\n        },\n        spectrums = [],\n        IE = !!/msie/i.exec( window.navigator.userAgent ),\n        rgbaSupport = (function() {\n            function contains( str, substr ) {\n                return !!~('' + str).indexOf(substr);\n            }\n\n            var elem = document.createElement('div');\n            var style = elem.style;\n            style.cssText = 'background-color:rgba(0,0,0,.5)';\n            return contains(style.backgroundColor, 'rgba') || contains(style.backgroundColor, 'hsla');\n        })(),\n        replaceInput = [\n            \"<div class='sp-replacer'>\",\n            \"<div class='sp-preview'><div class='sp-preview-inner'></div></div>\",\n            \"<div class='sp-dd'>&#9660;</div>\",\n            \"</div>\"\n        ].join(''),\n        markup = (function () {\n\n            // IE does not support gradients with multiple stops, so we need to simulate\n            //  that for the rainbow slider with 8 divs that each have a single gradient\n            var gradientFix = \"\";\n            if (IE) {\n                for (var i = 1; i <= 6; i++) {\n                    gradientFix += \"<div class='sp-\" + i + \"'></div>\";\n                }\n            }\n\n            return [\n                \"<div class='sp-container sp-hidden'>\",\n                \"<div class='sp-palette-container'>\",\n                \"<div class='sp-palette sp-thumb sp-cf'></div>\",\n                \"<div class='sp-palette-button-container sp-cf'>\",\n                \"<button type='button' class='sp-palette-toggle'></button>\",\n                \"</div>\",\n                \"</div>\",\n                \"<div class='sp-picker-container'>\",\n                \"<div class='sp-top sp-cf'>\",\n                \"<div class='sp-fill'></div>\",\n                \"<div class='sp-top-inner'>\",\n                \"<div class='sp-color'>\",\n                \"<div class='sp-sat'>\",\n                \"<div class='sp-val'>\",\n                \"<div class='sp-dragger'></div>\",\n                \"</div>\",\n                \"</div>\",\n                \"</div>\",\n                \"<div class='sp-clear sp-clear-display'>\",\n                \"</div>\",\n                \"<div class='sp-hue'>\",\n                \"<div class='sp-slider'></div>\",\n                gradientFix,\n                \"</div>\",\n                \"</div>\",\n                \"<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>\",\n                \"</div>\",\n                \"<div class='sp-input-container sp-cf'>\",\n                \"<input class='sp-input' type='text' spellcheck='false'  />\",\n                \"</div>\",\n                \"<div class='sp-initial sp-thumb sp-cf'></div>\",\n                \"<div class='sp-button-container sp-cf'>\",\n                \"<a class='sp-cancel' href='#'></a>\",\n                \"<button type='button' class='sp-choose'></button>\",\n                \"</div>\",\n                \"</div>\",\n                \"</div>\"\n            ].join(\"\");\n        })();\n\n    function paletteTemplate (p, color, className, opts) {\n        var html = [];\n        for (var i = 0; i < p.length; i++) {\n            var current = p[i];\n            if(current) {\n                var tiny = tinycolor(current);\n                var c = tiny.toHsl().l < 0.5 ? \"sp-thumb-el sp-thumb-dark\" : \"sp-thumb-el sp-thumb-light\";\n                c += (tinycolor.equals(color, current)) ? \" sp-thumb-active\" : \"\";\n                var formattedString = tiny.toString(opts.preferredFormat || \"rgb\");\n                var swatchStyle = rgbaSupport ? (\"background-color:\" + tiny.toRgbString()) : \"filter:\" + tiny.toFilter();\n                html.push('<span title=\"' + formattedString + '\" data-color=\"' + tiny.toRgbString() + '\" class=\"' + c + '\"><span class=\"sp-thumb-inner\" style=\"' + swatchStyle + ';\" /></span>');\n            } else {\n                var cls = 'sp-clear-display';\n                html.push($('<div />')\n                    .append($('<span data-color=\"\" style=\"background-color:transparent;\" class=\"' + cls + '\"></span>')\n                        .attr('title', opts.noColorSelectedText)\n                    )\n                    .html()\n                );\n            }\n        }\n        return \"<div class='sp-cf \" + className + \"'>\" + html.join('') + \"</div>\";\n    }\n\n    function hideAll() {\n        for (var i = 0; i < spectrums.length; i++) {\n            if (spectrums[i]) {\n                spectrums[i].hide();\n            }\n        }\n    }\n\n    function instanceOptions(o, callbackContext) {\n        var opts = $.extend({}, defaultOpts, o);\n        opts.callbacks = {\n            'move': bind(opts.move, callbackContext),\n            'change': bind(opts.change, callbackContext),\n            'show': bind(opts.show, callbackContext),\n            'hide': bind(opts.hide, callbackContext),\n            'beforeShow': bind(opts.beforeShow, callbackContext)\n        };\n\n        return opts;\n    }\n\n    function spectrum(element, o) {\n\n        var opts = instanceOptions(o, element),\n            flat = opts.flat,\n            showSelectionPalette = opts.showSelectionPalette,\n            localStorageKey = opts.localStorageKey,\n            theme = opts.theme,\n            callbacks = opts.callbacks,\n            resize = throttle(reflow, 10),\n            visible = false,\n            isDragging = false,\n            dragWidth = 0,\n            dragHeight = 0,\n            dragHelperHeight = 0,\n            slideHeight = 0,\n            slideWidth = 0,\n            alphaWidth = 0,\n            alphaSlideHelperWidth = 0,\n            slideHelperHeight = 0,\n            currentHue = 0,\n            currentSaturation = 0,\n            currentValue = 0,\n            currentAlpha = 1,\n            palette = [],\n            paletteArray = [],\n            paletteLookup = {},\n            selectionPalette = opts.selectionPalette.slice(0),\n            maxSelectionSize = opts.maxSelectionSize,\n            draggingClass = \"sp-dragging\",\n            shiftMovementDirection = null;\n\n        var doc = element.ownerDocument,\n            body = doc.body,\n            boundElement = $(element),\n            disabled = false,\n            container = $(markup, doc).addClass(theme),\n            pickerContainer = container.find(\".sp-picker-container\"),\n            dragger = container.find(\".sp-color\"),\n            dragHelper = container.find(\".sp-dragger\"),\n            slider = container.find(\".sp-hue\"),\n            slideHelper = container.find(\".sp-slider\"),\n            alphaSliderInner = container.find(\".sp-alpha-inner\"),\n            alphaSlider = container.find(\".sp-alpha\"),\n            alphaSlideHelper = container.find(\".sp-alpha-handle\"),\n            textInput = container.find(\".sp-input\"),\n            paletteContainer = container.find(\".sp-palette\"),\n            initialColorContainer = container.find(\".sp-initial\"),\n            cancelButton = container.find(\".sp-cancel\"),\n            clearButton = container.find(\".sp-clear\"),\n            chooseButton = container.find(\".sp-choose\"),\n            toggleButton = container.find(\".sp-palette-toggle\"),\n            isInput = boundElement.is(\"input\"),\n            isInputTypeColor = isInput && boundElement.attr(\"type\") === \"color\" && inputTypeColorSupport(),\n            shouldReplace = isInput && !flat,\n            replacer = (shouldReplace) ? $(replaceInput).addClass(theme).addClass(opts.className).addClass(opts.replacerClassName) : $([]),\n            offsetElement = (shouldReplace) ? replacer : boundElement,\n            previewElement = replacer.find(\".sp-preview-inner\"),\n            initialColor = opts.color || (isInput && boundElement.val()),\n            colorOnShow = false,\n            currentPreferredFormat = opts.preferredFormat,\n            clickoutFiresChange = !opts.showButtons || opts.clickoutFiresChange,\n            isEmpty = !initialColor,\n            allowEmpty = opts.allowEmpty && !isInputTypeColor;\n\n        function applyOptions() {\n\n            if (opts.showPaletteOnly) {\n                opts.showPalette = true;\n            }\n\n            toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\n\n            if (opts.palette) {\n                palette = opts.palette.slice(0);\n                paletteArray = $.isArray(palette[0]) ? palette : [palette];\n                paletteLookup = {};\n                for (var i = 0; i < paletteArray.length; i++) {\n                    for (var j = 0; j < paletteArray[i].length; j++) {\n                        var rgb = tinycolor(paletteArray[i][j]).toRgbString();\n                        paletteLookup[rgb] = true;\n                    }\n                }\n            }\n\n            container.toggleClass(\"sp-flat\", flat);\n            container.toggleClass(\"sp-input-disabled\", !opts.showInput);\n            container.toggleClass(\"sp-alpha-enabled\", opts.showAlpha);\n            container.toggleClass(\"sp-clear-enabled\", allowEmpty);\n            container.toggleClass(\"sp-buttons-disabled\", !opts.showButtons);\n            container.toggleClass(\"sp-palette-buttons-disabled\", !opts.togglePaletteOnly);\n            container.toggleClass(\"sp-palette-disabled\", !opts.showPalette);\n            container.toggleClass(\"sp-palette-only\", opts.showPaletteOnly);\n            container.toggleClass(\"sp-initial-disabled\", !opts.showInitial);\n            container.addClass(opts.className).addClass(opts.containerClassName);\n\n            reflow();\n        }\n\n        function initialize() {\n\n            if (IE) {\n                container.find(\"*:not(input)\").attr(\"unselectable\", \"on\");\n            }\n\n            applyOptions();\n\n            if (shouldReplace) {\n                boundElement.after(replacer).hide();\n            }\n\n            if (!allowEmpty) {\n                clearButton.hide();\n            }\n\n            if (flat) {\n                boundElement.after(container).hide();\n            }\n            else {\n\n                var appendTo = opts.appendTo === \"parent\" ? boundElement.parent() : $(opts.appendTo);\n                if (appendTo.length !== 1) {\n                    appendTo = $(\"body\");\n                }\n\n                appendTo.append(container);\n            }\n\n            updateSelectionPaletteFromStorage();\n\n            offsetElement.bind(\"click.spectrum touchstart.spectrum\", function (e) {\n                if (!disabled) {\n                    toggle();\n                }\n\n                e.stopPropagation();\n\n                if (!$(e.target).is(\"input\")) {\n                    e.preventDefault();\n                }\n            });\n\n            if(boundElement.is(\":disabled\") || (opts.disabled === true)) {\n                disable();\n            }\n\n            // Prevent clicks from bubbling up to document.  This would cause it to be hidden.\n            container.click(stopPropagation);\n\n            // Handle user typed input\n            textInput.change(setFromTextInput);\n            textInput.bind(\"paste\", function () {\n                setTimeout(setFromTextInput, 1);\n            });\n            textInput.keydown(function (e) { if (e.keyCode == 13) { setFromTextInput(); } });\n\n            cancelButton.text(opts.cancelText);\n            cancelButton.bind(\"click.spectrum\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                revert();\n                hide();\n            });\n\n            clearButton.attr(\"title\", opts.clearText);\n            clearButton.bind(\"click.spectrum\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                isEmpty = true;\n                move();\n\n                if(flat) {\n                    //for the flat style, this is a change event\n                    updateOriginalInput(true);\n                }\n            });\n\n            chooseButton.text(opts.chooseText);\n            chooseButton.bind(\"click.spectrum\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                if (IE && textInput.is(\":focus\")) {\n                    textInput.trigger('change');\n                }\n\n                if (isValid()) {\n                    updateOriginalInput(true);\n                    hide();\n                }\n            });\n\n            toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\n            toggleButton.bind(\"click.spectrum\", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                opts.showPaletteOnly = !opts.showPaletteOnly;\n\n                // To make sure the Picker area is drawn on the right, next to the\n                // Palette area (and not below the palette), first move the Palette\n                // to the left to make space for the picker, plus 5px extra.\n                // The 'applyOptions' function puts the whole container back into place\n                // and takes care of the button-text and the sp-palette-only CSS class.\n                if (!opts.showPaletteOnly && !flat) {\n                    container.css('left', '-=' + (pickerContainer.outerWidth(true) + 5));\n                }\n                applyOptions();\n            });\n\n            draggable(alphaSlider, function (dragX, dragY, e) {\n                currentAlpha = (dragX / alphaWidth);\n                isEmpty = false;\n                if (e.shiftKey) {\n                    currentAlpha = Math.round(currentAlpha * 10) / 10;\n                }\n\n                move();\n            }, dragStart, dragStop);\n\n            draggable(slider, function (dragX, dragY) {\n                currentHue = parseFloat(dragY / slideHeight);\n                isEmpty = false;\n                if (!opts.showAlpha) {\n                    currentAlpha = 1;\n                }\n                move();\n            }, dragStart, dragStop);\n\n            draggable(dragger, function (dragX, dragY, e) {\n\n                // shift+drag should snap the movement to either the x or y axis.\n                if (!e.shiftKey) {\n                    shiftMovementDirection = null;\n                }\n                else if (!shiftMovementDirection) {\n                    var oldDragX = currentSaturation * dragWidth;\n                    var oldDragY = dragHeight - (currentValue * dragHeight);\n                    var furtherFromX = Math.abs(dragX - oldDragX) > Math.abs(dragY - oldDragY);\n\n                    shiftMovementDirection = furtherFromX ? \"x\" : \"y\";\n                }\n\n                var setSaturation = !shiftMovementDirection || shiftMovementDirection === \"x\";\n                var setValue = !shiftMovementDirection || shiftMovementDirection === \"y\";\n\n                if (setSaturation) {\n                    currentSaturation = parseFloat(dragX / dragWidth);\n                }\n                if (setValue) {\n                    currentValue = parseFloat((dragHeight - dragY) / dragHeight);\n                }\n\n                isEmpty = false;\n                if (!opts.showAlpha) {\n                    currentAlpha = 1;\n                }\n\n                move();\n\n            }, dragStart, dragStop);\n\n            if (!!initialColor) {\n                set(initialColor);\n\n                // In case color was black - update the preview UI and set the format\n                // since the set function will not run (default color is black).\n                updateUI();\n                currentPreferredFormat = opts.preferredFormat || tinycolor(initialColor).format;\n\n                addColorToSelectionPalette(initialColor);\n            }\n            else {\n                updateUI();\n            }\n\n            if (flat) {\n                show();\n            }\n\n            function paletteElementClick(e) {\n                if (e.data && e.data.ignore) {\n                    set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\n                    move();\n                }\n                else {\n                    set($(e.target).closest(\".sp-thumb-el\").data(\"color\"));\n                    move();\n                    updateOriginalInput(true);\n                    if (opts.hideAfterPaletteSelect) {\n                        hide();\n                    }\n                }\n\n                return false;\n            }\n\n            var paletteEvent = IE ? \"mousedown.spectrum\" : \"click.spectrum touchstart.spectrum\";\n            paletteContainer.delegate(\".sp-thumb-el\", paletteEvent, paletteElementClick);\n            initialColorContainer.delegate(\".sp-thumb-el:nth-child(1)\", paletteEvent, { ignore: true }, paletteElementClick);\n        }\n\n        function updateSelectionPaletteFromStorage() {\n\n            if (localStorageKey && window.localStorage) {\n\n                // Migrate old palettes over to new format.  May want to remove this eventually.\n                try {\n                    var oldPalette = window.localStorage[localStorageKey].split(\",#\");\n                    if (oldPalette.length > 1) {\n                        delete window.localStorage[localStorageKey];\n                        $.each(oldPalette, function(i, c) {\n                            addColorToSelectionPalette(c);\n                        });\n                    }\n                }\n                catch(e) { }\n\n                try {\n                    selectionPalette = window.localStorage[localStorageKey].split(\";\");\n                }\n                catch (e) { }\n            }\n        }\n\n        function addColorToSelectionPalette(color) {\n            if (showSelectionPalette) {\n                var rgb = tinycolor(color).toRgbString();\n                if (!paletteLookup[rgb] && $.inArray(rgb, selectionPalette) === -1) {\n                    selectionPalette.push(rgb);\n                    while(selectionPalette.length > maxSelectionSize) {\n                        selectionPalette.shift();\n                    }\n                }\n\n                if (localStorageKey && window.localStorage) {\n                    try {\n                        window.localStorage[localStorageKey] = selectionPalette.join(\";\");\n                    }\n                    catch(e) { }\n                }\n            }\n        }\n\n        function getUniqueSelectionPalette() {\n            var unique = [];\n            if (opts.showPalette) {\n                for (var i = 0; i < selectionPalette.length; i++) {\n                    var rgb = tinycolor(selectionPalette[i]).toRgbString();\n\n                    if (!paletteLookup[rgb]) {\n                        unique.push(selectionPalette[i]);\n                    }\n                }\n            }\n\n            return unique.reverse().slice(0, opts.maxSelectionSize);\n        }\n\n        function drawPalette() {\n\n            var currentColor = get();\n\n            var html = $.map(paletteArray, function (palette, i) {\n                return paletteTemplate(palette, currentColor, \"sp-palette-row sp-palette-row-\" + i, opts);\n            });\n\n            updateSelectionPaletteFromStorage();\n\n            if (selectionPalette) {\n                html.push(paletteTemplate(getUniqueSelectionPalette(), currentColor, \"sp-palette-row sp-palette-row-selection\", opts));\n            }\n\n            paletteContainer.html(html.join(\"\"));\n        }\n\n        function drawInitial() {\n            if (opts.showInitial) {\n                var initial = colorOnShow;\n                var current = get();\n                initialColorContainer.html(paletteTemplate([initial, current], current, \"sp-palette-row-initial\", opts));\n            }\n        }\n\n        function dragStart() {\n            if (dragHeight <= 0 || dragWidth <= 0 || slideHeight <= 0) {\n                reflow();\n            }\n            isDragging = true;\n            container.addClass(draggingClass);\n            shiftMovementDirection = null;\n            boundElement.trigger('dragstart.spectrum', [ get() ]);\n        }\n\n        function dragStop() {\n            isDragging = false;\n            container.removeClass(draggingClass);\n            boundElement.trigger('dragstop.spectrum', [ get() ]);\n        }\n\n        function setFromTextInput() {\n\n            var value = textInput.val();\n\n            if ((value === null || value === \"\") && allowEmpty) {\n                set(null);\n                updateOriginalInput(true);\n            }\n            else {\n                var tiny = tinycolor(value);\n                if (tiny.isValid()) {\n                    set(tiny);\n                    updateOriginalInput(true);\n                }\n                else {\n                    textInput.addClass(\"sp-validation-error\");\n                }\n            }\n        }\n\n        function toggle() {\n            if (visible) {\n                hide();\n            }\n            else {\n                show();\n            }\n        }\n\n        function show() {\n            var event = $.Event('beforeShow.spectrum');\n\n            if (visible) {\n                reflow();\n                return;\n            }\n\n            boundElement.trigger(event, [ get() ]);\n\n            if (callbacks.beforeShow(get()) === false || event.isDefaultPrevented()) {\n                return;\n            }\n\n            hideAll();\n            visible = true;\n\n            $(doc).bind(\"keydown.spectrum\", onkeydown);\n            $(doc).bind(\"click.spectrum\", clickout);\n            $(window).bind(\"resize.spectrum\", resize);\n            replacer.addClass(\"sp-active\");\n            container.removeClass(\"sp-hidden\");\n\n            reflow();\n            updateUI();\n\n            colorOnShow = get();\n\n            drawInitial();\n            callbacks.show(colorOnShow);\n            boundElement.trigger('show.spectrum', [ colorOnShow ]);\n        }\n\n        function onkeydown(e) {\n            // Close on ESC\n            if (e.keyCode === 27) {\n                hide();\n            }\n        }\n\n        function clickout(e) {\n            // Return on right click.\n            if (e.button == 2) { return; }\n\n            // If a drag event was happening during the mouseup, don't hide\n            // on click.\n            if (isDragging) { return; }\n\n            if (clickoutFiresChange) {\n                updateOriginalInput(true);\n            }\n            else {\n                revert();\n            }\n            hide();\n        }\n\n        function hide() {\n            // Return if hiding is unnecessary\n            if (!visible || flat) { return; }\n            visible = false;\n\n            $(doc).unbind(\"keydown.spectrum\", onkeydown);\n            $(doc).unbind(\"click.spectrum\", clickout);\n            $(window).unbind(\"resize.spectrum\", resize);\n\n            replacer.removeClass(\"sp-active\");\n            container.addClass(\"sp-hidden\");\n\n            callbacks.hide(get());\n            boundElement.trigger('hide.spectrum', [ get() ]);\n        }\n\n        function revert() {\n            set(colorOnShow, true);\n        }\n\n        function set(color, ignoreFormatChange) {\n            if (tinycolor.equals(color, get())) {\n                // Update UI just in case a validation error needs\n                // to be cleared.\n                updateUI();\n                return;\n            }\n\n            var newColor, newHsv;\n            if (!color && allowEmpty) {\n                isEmpty = true;\n            } else {\n                isEmpty = false;\n                newColor = tinycolor(color);\n                newHsv = newColor.toHsv();\n\n                currentHue = (newHsv.h % 360) / 360;\n                currentSaturation = newHsv.s;\n                currentValue = newHsv.v;\n                currentAlpha = newHsv.a;\n            }\n            updateUI();\n\n            if (newColor && newColor.isValid() && !ignoreFormatChange) {\n                currentPreferredFormat = opts.preferredFormat || newColor.getFormat();\n            }\n        }\n\n        function get(opts) {\n            opts = opts || { };\n\n            if (allowEmpty && isEmpty) {\n                return null;\n            }\n\n            return tinycolor.fromRatio({\n                h: currentHue,\n                s: currentSaturation,\n                v: currentValue,\n                a: Math.round(currentAlpha * 100) / 100\n            }, { format: opts.format || currentPreferredFormat });\n        }\n\n        function isValid() {\n            return !textInput.hasClass(\"sp-validation-error\");\n        }\n\n        function move() {\n            updateUI();\n\n            callbacks.move(get());\n            boundElement.trigger('move.spectrum', [ get() ]);\n        }\n\n        function updateUI() {\n\n            textInput.removeClass(\"sp-validation-error\");\n\n            updateHelperLocations();\n\n            // Update dragger background color (gradients take care of saturation and value).\n            var flatColor = tinycolor.fromRatio({ h: currentHue, s: 1, v: 1 });\n            dragger.css(\"background-color\", flatColor.toHexString());\n\n            // Get a format that alpha will be included in (hex and names ignore alpha)\n            var format = currentPreferredFormat;\n            if (currentAlpha < 1 && !(currentAlpha === 0 && format === \"name\")) {\n                if (format === \"hex\" || format === \"hex3\" || format === \"hex6\" || format === \"name\") {\n                    format = \"rgb\";\n                }\n            }\n\n            var realColor = get({ format: format }),\n                displayColor = '';\n\n            //reset background info for preview element\n            previewElement.removeClass(\"sp-clear-display\");\n            previewElement.css('background-color', 'transparent');\n\n            if (!realColor && allowEmpty) {\n                // Update the replaced elements background with icon indicating no color selection\n                previewElement.addClass(\"sp-clear-display\");\n            }\n            else {\n                var realHex = realColor.toHexString(),\n                    realRgb = realColor.toRgbString();\n\n                // Update the replaced elements background color (with actual selected color)\n                if (rgbaSupport || realColor.alpha === 1) {\n                    previewElement.css(\"background-color\", realRgb);\n                }\n                else {\n                    previewElement.css(\"background-color\", \"transparent\");\n                    previewElement.css(\"filter\", realColor.toFilter());\n                }\n\n                if (opts.showAlpha) {\n                    var rgb = realColor.toRgb();\n                    rgb.a = 0;\n                    var realAlpha = tinycolor(rgb).toRgbString();\n                    var gradient = \"linear-gradient(left, \" + realAlpha + \", \" + realHex + \")\";\n\n                    if (IE) {\n                        alphaSliderInner.css(\"filter\", tinycolor(realAlpha).toFilter({ gradientType: 1 }, realHex));\n                    }\n                    else {\n                        alphaSliderInner.css(\"background\", \"-webkit-\" + gradient);\n                        alphaSliderInner.css(\"background\", \"-moz-\" + gradient);\n                        alphaSliderInner.css(\"background\", \"-ms-\" + gradient);\n                        // Use current syntax gradient on unprefixed property.\n                        alphaSliderInner.css(\"background\",\n                            \"linear-gradient(to right, \" + realAlpha + \", \" + realHex + \")\");\n                    }\n                }\n\n                displayColor = realColor.toString(format);\n            }\n\n            // Update the text entry input as it changes happen\n            if (opts.showInput) {\n                textInput.val(displayColor);\n            }\n\n            if (opts.showPalette) {\n                drawPalette();\n            }\n\n            drawInitial();\n        }\n\n        function updateHelperLocations() {\n            var s = currentSaturation;\n            var v = currentValue;\n\n            if(allowEmpty && isEmpty) {\n                //if selected color is empty, hide the helpers\n                alphaSlideHelper.hide();\n                slideHelper.hide();\n                dragHelper.hide();\n            }\n            else {\n                //make sure helpers are visible\n                alphaSlideHelper.show();\n                slideHelper.show();\n                dragHelper.show();\n\n                // Where to show the little circle in that displays your current selected color\n                var dragX = s * dragWidth;\n                var dragY = dragHeight - (v * dragHeight);\n                dragX = Math.max(\n                    -dragHelperHeight,\n                    Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight)\n                );\n                dragY = Math.max(\n                    -dragHelperHeight,\n                    Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight)\n                );\n                dragHelper.css({\n                    \"top\": dragY + \"px\",\n                    \"left\": dragX + \"px\"\n                });\n\n                var alphaX = currentAlpha * alphaWidth;\n                alphaSlideHelper.css({\n                    \"left\": (alphaX - (alphaSlideHelperWidth / 2)) + \"px\"\n                });\n\n                // Where to show the bar that displays your current selected hue\n                var slideY = (currentHue) * slideHeight;\n                slideHelper.css({\n                    \"top\": (slideY - slideHelperHeight) + \"px\"\n                });\n            }\n        }\n\n        function updateOriginalInput(fireCallback) {\n            var color = get(),\n                displayColor = '',\n                hasChanged = !tinycolor.equals(color, colorOnShow);\n\n            if (color) {\n                displayColor = color.toString(currentPreferredFormat);\n                // Update the selection palette with the current color\n                addColorToSelectionPalette(color);\n            }\n\n            if (isInput) {\n                boundElement.val(displayColor);\n            }\n\n            if (fireCallback && hasChanged) {\n                callbacks.change(color);\n                boundElement.trigger('change', [ color ]);\n            }\n        }\n\n        function reflow() {\n            if (!visible) {\n                return; // Calculations would be useless and wouldn't be reliable anyways\n            }\n            dragWidth = dragger.width();\n            dragHeight = dragger.height();\n            dragHelperHeight = dragHelper.height();\n            slideWidth = slider.width();\n            slideHeight = slider.height();\n            slideHelperHeight = slideHelper.height();\n            alphaWidth = alphaSlider.width();\n            alphaSlideHelperWidth = alphaSlideHelper.width();\n\n            if (!flat) {\n                container.css(\"position\", \"absolute\");\n                if (opts.offset) {\n                    container.offset(opts.offset);\n                } else {\n                    container.offset(getOffset(container, offsetElement));\n                }\n            }\n\n            updateHelperLocations();\n\n            if (opts.showPalette) {\n                drawPalette();\n            }\n\n            boundElement.trigger('reflow.spectrum');\n        }\n\n        function destroy() {\n            boundElement.show();\n            offsetElement.unbind(\"click.spectrum touchstart.spectrum\");\n            container.remove();\n            replacer.remove();\n            spectrums[spect.id] = null;\n        }\n\n        function option(optionName, optionValue) {\n            if (optionName === undefined) {\n                return $.extend({}, opts);\n            }\n            if (optionValue === undefined) {\n                return opts[optionName];\n            }\n\n            opts[optionName] = optionValue;\n\n            if (optionName === \"preferredFormat\") {\n                currentPreferredFormat = opts.preferredFormat;\n            }\n            applyOptions();\n        }\n\n        function enable() {\n            disabled = false;\n            boundElement.attr(\"disabled\", false);\n            offsetElement.removeClass(\"sp-disabled\");\n        }\n\n        function disable() {\n            hide();\n            disabled = true;\n            boundElement.attr(\"disabled\", true);\n            offsetElement.addClass(\"sp-disabled\");\n        }\n\n        function setOffset(coord) {\n            opts.offset = coord;\n            reflow();\n        }\n\n        initialize();\n\n        var spect = {\n            show: show,\n            hide: hide,\n            toggle: toggle,\n            reflow: reflow,\n            option: option,\n            enable: enable,\n            disable: disable,\n            offset: setOffset,\n            set: function (c) {\n                set(c);\n                updateOriginalInput();\n            },\n            get: get,\n            destroy: destroy,\n            container: container\n        };\n\n        spect.id = spectrums.push(spect) - 1;\n\n        return spect;\n    }\n\n    /**\n     * checkOffset - get the offset below/above and left/right element depending on screen position\n     * Thanks https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js\n     */\n    function getOffset(picker, input) {\n        var extraY = 0;\n        var dpWidth = picker.outerWidth();\n        var dpHeight = picker.outerHeight();\n        var inputHeight = input.outerHeight();\n        var doc = picker[0].ownerDocument;\n        var docElem = doc.documentElement;\n        var viewWidth = docElem.clientWidth + $(doc).scrollLeft();\n        var viewHeight = docElem.clientHeight + $(doc).scrollTop();\n        var offset = input.offset();\n        offset.top += inputHeight;\n\n        offset.left -=\n            Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?\n                Math.abs(offset.left + dpWidth - viewWidth) : 0);\n\n        offset.top -=\n            Math.min(offset.top, ((offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?\n                Math.abs(dpHeight + inputHeight - extraY) : extraY));\n\n        return offset;\n    }\n\n    /**\n     * noop - do nothing\n     */\n    function noop() {\n\n    }\n\n    /**\n     * stopPropagation - makes the code only doing this a little easier to read in line\n     */\n    function stopPropagation(e) {\n        e.stopPropagation();\n    }\n\n    /**\n     * Create a function bound to a given object\n     * Thanks to underscore.js\n     */\n    function bind(func, obj) {\n        var slice = Array.prototype.slice;\n        var args = slice.call(arguments, 2);\n        return function () {\n            return func.apply(obj, args.concat(slice.call(arguments)));\n        };\n    }\n\n    /**\n     * Lightweight drag helper.  Handles containment within the element, so that\n     * when dragging, the x is within [0,element.width] and y is within [0,element.height]\n     */\n    function draggable(element, onmove, onstart, onstop) {\n        onmove = onmove || function () { };\n        onstart = onstart || function () { };\n        onstop = onstop || function () { };\n        var doc = document;\n        var dragging = false;\n        var offset = {};\n        var maxHeight = 0;\n        var maxWidth = 0;\n        var hasTouch = ('ontouchstart' in window);\n\n        var duringDragEvents = {};\n        duringDragEvents[\"selectstart\"] = prevent;\n        duringDragEvents[\"dragstart\"] = prevent;\n        duringDragEvents[\"touchmove mousemove\"] = move;\n        duringDragEvents[\"touchend mouseup\"] = stop;\n\n        function prevent(e) {\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            }\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n            e.returnValue = false;\n        }\n\n        function move(e) {\n            if (dragging) {\n                // Mouseup happened outside of window\n                if (IE && doc.documentMode < 9 && !e.button) {\n                    return stop();\n                }\n\n                var t0 = e.originalEvent && e.originalEvent.touches && e.originalEvent.touches[0];\n                var pageX = t0 && t0.pageX || e.pageX;\n                var pageY = t0 && t0.pageY || e.pageY;\n\n                var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\n                var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\n\n                if (hasTouch) {\n                    // Stop scrolling in iOS\n                    prevent(e);\n                }\n\n                onmove.apply(element, [dragX, dragY, e]);\n            }\n        }\n\n        function start(e) {\n            var rightclick = (e.which) ? (e.which == 3) : (e.button == 2);\n\n            if (!rightclick && !dragging) {\n                if (onstart.apply(element, arguments) !== false) {\n                    dragging = true;\n                    maxHeight = $(element).height();\n                    maxWidth = $(element).width();\n                    offset = $(element).offset();\n\n                    $(doc).bind(duringDragEvents);\n                    $(doc.body).addClass(\"sp-dragging\");\n\n                    move(e);\n\n                    prevent(e);\n                }\n            }\n        }\n\n        function stop() {\n            if (dragging) {\n                $(doc).unbind(duringDragEvents);\n                $(doc.body).removeClass(\"sp-dragging\");\n\n                // Wait a tick before notifying observers to allow the click event\n                // to fire in Chrome.\n                setTimeout(function() {\n                    onstop.apply(element, arguments);\n                }, 0);\n            }\n            dragging = false;\n        }\n\n        $(element).bind(\"touchstart mousedown\", start);\n    }\n\n    function throttle(func, wait, debounce) {\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            var throttler = function () {\n                timeout = null;\n                func.apply(context, args);\n            };\n            if (debounce) clearTimeout(timeout);\n            if (debounce || !timeout) timeout = setTimeout(throttler, wait);\n        };\n    }\n\n    function inputTypeColorSupport() {\n        return $.fn.spectrum.inputTypeColorSupport();\n    }\n\n    /**\n     * Define a jQuery plugin\n     */\n    var dataID = \"spectrum.id\";\n    $.fn.spectrum = function (opts, extra) {\n\n        if (typeof opts == \"string\") {\n\n            var returnValue = this;\n            var args = Array.prototype.slice.call( arguments, 1 );\n\n            this.each(function () {\n                var spect = spectrums[$(this).data(dataID)];\n                if (spect) {\n                    var method = spect[opts];\n                    if (!method) {\n                        throw new Error( \"Spectrum: no such method: '\" + opts + \"'\" );\n                    }\n\n                    if (opts == \"get\") {\n                        returnValue = spect.get();\n                    }\n                    else if (opts == \"container\") {\n                        returnValue = spect.container;\n                    }\n                    else if (opts == \"option\") {\n                        returnValue = spect.option.apply(spect, args);\n                    }\n                    else if (opts == \"destroy\") {\n                        spect.destroy();\n                        $(this).removeData(dataID);\n                    }\n                    else {\n                        method.apply(spect, args);\n                    }\n                }\n            });\n\n            return returnValue;\n        }\n\n        // Initializing a new instance of spectrum\n        return this.spectrum(\"destroy\").each(function () {\n            var options = $.extend({}, opts, $(this).data());\n            var spect = spectrum(this, options);\n            $(this).data(dataID, spect.id);\n        });\n    };\n\n    $.fn.spectrum.load = true;\n    $.fn.spectrum.loadOpts = {};\n    $.fn.spectrum.draggable = draggable;\n    $.fn.spectrum.defaults = defaultOpts;\n    $.fn.spectrum.inputTypeColorSupport = function inputTypeColorSupport() {\n        if (typeof inputTypeColorSupport._cachedResult === \"undefined\") {\n            var colorInput = $(\"<input type='color'/>\")[0]; // if color element is supported, value will default to not null\n            inputTypeColorSupport._cachedResult = colorInput.type === \"color\" && colorInput.value !== \"\";\n        }\n        return inputTypeColorSupport._cachedResult;\n    };\n\n    $.spectrum = { };\n    $.spectrum.localization = { };\n    $.spectrum.palettes = { };\n\n    $.fn.spectrum.processNativeColorInputs = function () {\n        var colorInputs = $(\"input[type=color]\");\n        if (colorInputs.length && !inputTypeColorSupport()) {\n            colorInputs.spectrum({\n                preferredFormat: \"hex6\"\n            });\n        }\n    };\n\n    // TinyColor v1.1.2\n    // https://github.com/bgrins/TinyColor\n    // Brian Grinstead, MIT License\n\n    (function() {\n\n        var trimLeft = /^[\\s,#]+/,\n            trimRight = /\\s+$/,\n            tinyCounter = 0,\n            math = Math,\n            mathRound = math.round,\n            mathMin = math.min,\n            mathMax = math.max,\n            mathRandom = math.random;\n\n        var tinycolor = function(color, opts) {\n\n            color = (color) ? color : '';\n            opts = opts || { };\n\n            // If input is already a tinycolor, return itself\n            if (color instanceof tinycolor) {\n                return color;\n            }\n            // If we are called as a function, call using new instead\n            if (!(this instanceof tinycolor)) {\n                return new tinycolor(color, opts);\n            }\n\n            var rgb = inputToRGB(color);\n            this._originalInput = color,\n                this._r = rgb.r,\n                this._g = rgb.g,\n                this._b = rgb.b,\n                this._a = rgb.a,\n                this._roundA = mathRound(100*this._a) / 100,\n                this._format = opts.format || rgb.format;\n            this._gradientType = opts.gradientType;\n\n            // Don't let the range of [0,255] come back in [0,1].\n            // Potentially lose a little bit of precision here, but will fix issues where\n            // .5 gets interpreted as half of the total, instead of half of 1\n            // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n            if (this._r < 1) { this._r = mathRound(this._r); }\n            if (this._g < 1) { this._g = mathRound(this._g); }\n            if (this._b < 1) { this._b = mathRound(this._b); }\n\n            this._ok = rgb.ok;\n            this._tc_id = tinyCounter++;\n        };\n\n        tinycolor.prototype = {\n            isDark: function() {\n                return this.getBrightness() < 128;\n            },\n            isLight: function() {\n                return !this.isDark();\n            },\n            isValid: function() {\n                return this._ok;\n            },\n            getOriginalInput: function() {\n                return this._originalInput;\n            },\n            getFormat: function() {\n                return this._format;\n            },\n            getAlpha: function() {\n                return this._a;\n            },\n            getBrightness: function() {\n                var rgb = this.toRgb();\n                return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n            },\n            setAlpha: function(value) {\n                this._a = boundAlpha(value);\n                this._roundA = mathRound(100*this._a) / 100;\n                return this;\n            },\n            toHsv: function() {\n                var hsv = rgbToHsv(this._r, this._g, this._b);\n                return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n            },\n            toHsvString: function() {\n                var hsv = rgbToHsv(this._r, this._g, this._b);\n                var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n                return (this._a == 1) ?\n                    \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n                    \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n            },\n            toHsl: function() {\n                var hsl = rgbToHsl(this._r, this._g, this._b);\n                return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n            },\n            toHslString: function() {\n                var hsl = rgbToHsl(this._r, this._g, this._b);\n                var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n                return (this._a == 1) ?\n                    \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n                    \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n            },\n            toHex: function(allow3Char) {\n                return rgbToHex(this._r, this._g, this._b, allow3Char);\n            },\n            toHexString: function(allow3Char) {\n                return '#' + this.toHex(allow3Char);\n            },\n            toHex8: function() {\n                return rgbaToHex(this._r, this._g, this._b, this._a);\n            },\n            toHex8String: function() {\n                return '#' + this.toHex8();\n            },\n            toRgb: function() {\n                return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n            },\n            toRgbString: function() {\n                return (this._a == 1) ?\n                    \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n                    \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n            },\n            toPercentageRgb: function() {\n                return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n            },\n            toPercentageRgbString: function() {\n                return (this._a == 1) ?\n                    \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n                    \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n            },\n            toName: function() {\n                if (this._a === 0) {\n                    return \"transparent\";\n                }\n\n                if (this._a < 1) {\n                    return false;\n                }\n\n                return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n            },\n            toFilter: function(secondColor) {\n                var hex8String = '#' + rgbaToHex(this._r, this._g, this._b, this._a);\n                var secondHex8String = hex8String;\n                var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n                if (secondColor) {\n                    var s = tinycolor(secondColor);\n                    secondHex8String = s.toHex8String();\n                }\n\n                return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n            },\n            toString: function(format) {\n                var formatSet = !!format;\n                format = format || this._format;\n\n                var formattedString = false;\n                var hasAlpha = this._a < 1 && this._a >= 0;\n                var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"name\");\n\n                if (needsAlphaFormat) {\n                    // Special case for \"transparent\", all other non-alpha formats\n                    // will return rgba when there is transparency.\n                    if (format === \"name\" && this._a === 0) {\n                        return this.toName();\n                    }\n                    return this.toRgbString();\n                }\n                if (format === \"rgb\") {\n                    formattedString = this.toRgbString();\n                }\n                if (format === \"prgb\") {\n                    formattedString = this.toPercentageRgbString();\n                }\n                if (format === \"hex\" || format === \"hex6\") {\n                    formattedString = this.toHexString();\n                }\n                if (format === \"hex3\") {\n                    formattedString = this.toHexString(true);\n                }\n                if (format === \"hex8\") {\n                    formattedString = this.toHex8String();\n                }\n                if (format === \"name\") {\n                    formattedString = this.toName();\n                }\n                if (format === \"hsl\") {\n                    formattedString = this.toHslString();\n                }\n                if (format === \"hsv\") {\n                    formattedString = this.toHsvString();\n                }\n\n                return formattedString || this.toHexString();\n            },\n\n            _applyModification: function(fn, args) {\n                var color = fn.apply(null, [this].concat([].slice.call(args)));\n                this._r = color._r;\n                this._g = color._g;\n                this._b = color._b;\n                this.setAlpha(color._a);\n                return this;\n            },\n            lighten: function() {\n                return this._applyModification(lighten, arguments);\n            },\n            brighten: function() {\n                return this._applyModification(brighten, arguments);\n            },\n            darken: function() {\n                return this._applyModification(darken, arguments);\n            },\n            desaturate: function() {\n                return this._applyModification(desaturate, arguments);\n            },\n            saturate: function() {\n                return this._applyModification(saturate, arguments);\n            },\n            greyscale: function() {\n                return this._applyModification(greyscale, arguments);\n            },\n            spin: function() {\n                return this._applyModification(spin, arguments);\n            },\n\n            _applyCombination: function(fn, args) {\n                return fn.apply(null, [this].concat([].slice.call(args)));\n            },\n            analogous: function() {\n                return this._applyCombination(analogous, arguments);\n            },\n            complement: function() {\n                return this._applyCombination(complement, arguments);\n            },\n            monochromatic: function() {\n                return this._applyCombination(monochromatic, arguments);\n            },\n            splitcomplement: function() {\n                return this._applyCombination(splitcomplement, arguments);\n            },\n            triad: function() {\n                return this._applyCombination(triad, arguments);\n            },\n            tetrad: function() {\n                return this._applyCombination(tetrad, arguments);\n            }\n        };\n\n        // If input is an object, force 1 into \"1.0\" to handle ratios properly\n        // String input requires \"1.0\" as input, so 1 will be treated as 1\n        tinycolor.fromRatio = function(color, opts) {\n            if (typeof color == \"object\") {\n                var newColor = {};\n                for (var i in color) {\n                    if (color.hasOwnProperty(i)) {\n                        if (i === \"a\") {\n                            newColor[i] = color[i];\n                        }\n                        else {\n                            newColor[i] = convertToPercentage(color[i]);\n                        }\n                    }\n                }\n                color = newColor;\n            }\n\n            return tinycolor(color, opts);\n        };\n\n        // Given a string or object, convert that input to RGB\n        // Possible string inputs:\n        //\n        //     \"red\"\n        //     \"#f00\" or \"f00\"\n        //     \"#ff0000\" or \"ff0000\"\n        //     \"#ff000000\" or \"ff000000\"\n        //     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n        //     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n        //     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n        //     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n        //     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n        //     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n        //     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n        //\n        function inputToRGB(color) {\n\n            var rgb = { r: 0, g: 0, b: 0 };\n            var a = 1;\n            var ok = false;\n            var format = false;\n\n            if (typeof color == \"string\") {\n                color = stringInputToObject(color);\n            }\n\n            if (typeof color == \"object\") {\n                if (color.hasOwnProperty(\"r\") && color.hasOwnProperty(\"g\") && color.hasOwnProperty(\"b\")) {\n                    rgb = rgbToRgb(color.r, color.g, color.b);\n                    ok = true;\n                    format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n                }\n                else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"v\")) {\n                    color.s = convertToPercentage(color.s);\n                    color.v = convertToPercentage(color.v);\n                    rgb = hsvToRgb(color.h, color.s, color.v);\n                    ok = true;\n                    format = \"hsv\";\n                }\n                else if (color.hasOwnProperty(\"h\") && color.hasOwnProperty(\"s\") && color.hasOwnProperty(\"l\")) {\n                    color.s = convertToPercentage(color.s);\n                    color.l = convertToPercentage(color.l);\n                    rgb = hslToRgb(color.h, color.s, color.l);\n                    ok = true;\n                    format = \"hsl\";\n                }\n\n                if (color.hasOwnProperty(\"a\")) {\n                    a = color.a;\n                }\n            }\n\n            a = boundAlpha(a);\n\n            return {\n                ok: ok,\n                format: color.format || format,\n                r: mathMin(255, mathMax(rgb.r, 0)),\n                g: mathMin(255, mathMax(rgb.g, 0)),\n                b: mathMin(255, mathMax(rgb.b, 0)),\n                a: a\n            };\n        }\n\n\n        // Conversion Functions\n        // --------------------\n\n        // `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n        // <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n        // `rgbToRgb`\n        // Handle bounds / percentage checking to conform to CSS color spec\n        // <http://www.w3.org/TR/css3-color/>\n        // *Assumes:* r, g, b in [0, 255] or [0, 1]\n        // *Returns:* { r, g, b } in [0, 255]\n        function rgbToRgb(r, g, b){\n            return {\n                r: bound01(r, 255) * 255,\n                g: bound01(g, 255) * 255,\n                b: bound01(b, 255) * 255\n            };\n        }\n\n        // `rgbToHsl`\n        // Converts an RGB color value to HSL.\n        // *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n        // *Returns:* { h, s, l } in [0,1]\n        function rgbToHsl(r, g, b) {\n\n            r = bound01(r, 255);\n            g = bound01(g, 255);\n            b = bound01(b, 255);\n\n            var max = mathMax(r, g, b), min = mathMin(r, g, b);\n            var h, s, l = (max + min) / 2;\n\n            if(max == min) {\n                h = s = 0; // achromatic\n            }\n            else {\n                var d = max - min;\n                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n                switch(max) {\n                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                    case g: h = (b - r) / d + 2; break;\n                    case b: h = (r - g) / d + 4; break;\n                }\n\n                h /= 6;\n            }\n\n            return { h: h, s: s, l: l };\n        }\n\n        // `hslToRgb`\n        // Converts an HSL color value to RGB.\n        // *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n        // *Returns:* { r, g, b } in the set [0, 255]\n        function hslToRgb(h, s, l) {\n            var r, g, b;\n\n            h = bound01(h, 360);\n            s = bound01(s, 100);\n            l = bound01(l, 100);\n\n            function hue2rgb(p, q, t) {\n                if(t < 0) t += 1;\n                if(t > 1) t -= 1;\n                if(t < 1/6) return p + (q - p) * 6 * t;\n                if(t < 1/2) return q;\n                if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n                return p;\n            }\n\n            if(s === 0) {\n                r = g = b = l; // achromatic\n            }\n            else {\n                var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n                var p = 2 * l - q;\n                r = hue2rgb(p, q, h + 1/3);\n                g = hue2rgb(p, q, h);\n                b = hue2rgb(p, q, h - 1/3);\n            }\n\n            return { r: r * 255, g: g * 255, b: b * 255 };\n        }\n\n        // `rgbToHsv`\n        // Converts an RGB color value to HSV\n        // *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n        // *Returns:* { h, s, v } in [0,1]\n        function rgbToHsv(r, g, b) {\n\n            r = bound01(r, 255);\n            g = bound01(g, 255);\n            b = bound01(b, 255);\n\n            var max = mathMax(r, g, b), min = mathMin(r, g, b);\n            var h, s, v = max;\n\n            var d = max - min;\n            s = max === 0 ? 0 : d / max;\n\n            if(max == min) {\n                h = 0; // achromatic\n            }\n            else {\n                switch(max) {\n                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                    case g: h = (b - r) / d + 2; break;\n                    case b: h = (r - g) / d + 4; break;\n                }\n                h /= 6;\n            }\n            return { h: h, s: s, v: v };\n        }\n\n        // `hsvToRgb`\n        // Converts an HSV color value to RGB.\n        // *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n        // *Returns:* { r, g, b } in the set [0, 255]\n        function hsvToRgb(h, s, v) {\n\n            h = bound01(h, 360) * 6;\n            s = bound01(s, 100);\n            v = bound01(v, 100);\n\n            var i = math.floor(h),\n                f = h - i,\n                p = v * (1 - s),\n                q = v * (1 - f * s),\n                t = v * (1 - (1 - f) * s),\n                mod = i % 6,\n                r = [v, q, p, p, t, v][mod],\n                g = [t, v, v, q, p, p][mod],\n                b = [p, p, t, v, v, q][mod];\n\n            return { r: r * 255, g: g * 255, b: b * 255 };\n        }\n\n        // `rgbToHex`\n        // Converts an RGB color to hex\n        // Assumes r, g, and b are contained in the set [0, 255]\n        // Returns a 3 or 6 character hex\n        function rgbToHex(r, g, b, allow3Char) {\n\n            var hex = [\n                pad2(mathRound(r).toString(16)),\n                pad2(mathRound(g).toString(16)),\n                pad2(mathRound(b).toString(16))\n            ];\n\n            // Return a 3 character hex if possible\n            if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n                return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n            }\n\n            return hex.join(\"\");\n        }\n        // `rgbaToHex`\n        // Converts an RGBA color plus alpha transparency to hex\n        // Assumes r, g, b and a are contained in the set [0, 255]\n        // Returns an 8 character hex\n        function rgbaToHex(r, g, b, a) {\n\n            var hex = [\n                pad2(convertDecimalToHex(a)),\n                pad2(mathRound(r).toString(16)),\n                pad2(mathRound(g).toString(16)),\n                pad2(mathRound(b).toString(16))\n            ];\n\n            return hex.join(\"\");\n        }\n\n        // `equals`\n        // Can be called with any tinycolor input\n        tinycolor.equals = function (color1, color2) {\n            if (!color1 || !color2) { return false; }\n            return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n        };\n        tinycolor.random = function() {\n            return tinycolor.fromRatio({\n                r: mathRandom(),\n                g: mathRandom(),\n                b: mathRandom()\n            });\n        };\n\n\n        // Modification Functions\n        // ----------------------\n        // Thanks to less.js for some of the basics here\n        // <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\n        function desaturate(color, amount) {\n            amount = (amount === 0) ? 0 : (amount || 10);\n            var hsl = tinycolor(color).toHsl();\n            hsl.s -= amount / 100;\n            hsl.s = clamp01(hsl.s);\n            return tinycolor(hsl);\n        }\n\n        function saturate(color, amount) {\n            amount = (amount === 0) ? 0 : (amount || 10);\n            var hsl = tinycolor(color).toHsl();\n            hsl.s += amount / 100;\n            hsl.s = clamp01(hsl.s);\n            return tinycolor(hsl);\n        }\n\n        function greyscale(color) {\n            return tinycolor(color).desaturate(100);\n        }\n\n        function lighten (color, amount) {\n            amount = (amount === 0) ? 0 : (amount || 10);\n            var hsl = tinycolor(color).toHsl();\n            hsl.l += amount / 100;\n            hsl.l = clamp01(hsl.l);\n            return tinycolor(hsl);\n        }\n\n        function brighten(color, amount) {\n            amount = (amount === 0) ? 0 : (amount || 10);\n            var rgb = tinycolor(color).toRgb();\n            rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n            rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n            rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n            return tinycolor(rgb);\n        }\n\n        function darken (color, amount) {\n            amount = (amount === 0) ? 0 : (amount || 10);\n            var hsl = tinycolor(color).toHsl();\n            hsl.l -= amount / 100;\n            hsl.l = clamp01(hsl.l);\n            return tinycolor(hsl);\n        }\n\n        // Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n        // Values outside of this range will be wrapped into this range.\n        function spin(color, amount) {\n            var hsl = tinycolor(color).toHsl();\n            var hue = (mathRound(hsl.h) + amount) % 360;\n            hsl.h = hue < 0 ? 360 + hue : hue;\n            return tinycolor(hsl);\n        }\n\n        // Combination Functions\n        // ---------------------\n        // Thanks to jQuery xColor for some of the ideas behind these\n        // <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\n        function complement(color) {\n            var hsl = tinycolor(color).toHsl();\n            hsl.h = (hsl.h + 180) % 360;\n            return tinycolor(hsl);\n        }\n\n        function triad(color) {\n            var hsl = tinycolor(color).toHsl();\n            var h = hsl.h;\n            return [\n                tinycolor(color),\n                tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n                tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n            ];\n        }\n\n        function tetrad(color) {\n            var hsl = tinycolor(color).toHsl();\n            var h = hsl.h;\n            return [\n                tinycolor(color),\n                tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n                tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n                tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n            ];\n        }\n\n        function splitcomplement(color) {\n            var hsl = tinycolor(color).toHsl();\n            var h = hsl.h;\n            return [\n                tinycolor(color),\n                tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n                tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n            ];\n        }\n\n        function analogous(color, results, slices) {\n            results = results || 6;\n            slices = slices || 30;\n\n            var hsl = tinycolor(color).toHsl();\n            var part = 360 / slices;\n            var ret = [tinycolor(color)];\n\n            for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n                hsl.h = (hsl.h + part) % 360;\n                ret.push(tinycolor(hsl));\n            }\n            return ret;\n        }\n\n        function monochromatic(color, results) {\n            results = results || 6;\n            var hsv = tinycolor(color).toHsv();\n            var h = hsv.h, s = hsv.s, v = hsv.v;\n            var ret = [];\n            var modification = 1 / results;\n\n            while (results--) {\n                ret.push(tinycolor({ h: h, s: s, v: v}));\n                v = (v + modification) % 1;\n            }\n\n            return ret;\n        }\n\n        // Utility Functions\n        // ---------------------\n\n        tinycolor.mix = function(color1, color2, amount) {\n            amount = (amount === 0) ? 0 : (amount || 50);\n\n            var rgb1 = tinycolor(color1).toRgb();\n            var rgb2 = tinycolor(color2).toRgb();\n\n            var p = amount / 100;\n            var w = p * 2 - 1;\n            var a = rgb2.a - rgb1.a;\n\n            var w1;\n\n            if (w * a == -1) {\n                w1 = w;\n            } else {\n                w1 = (w + a) / (1 + w * a);\n            }\n\n            w1 = (w1 + 1) / 2;\n\n            var w2 = 1 - w1;\n\n            var rgba = {\n                r: rgb2.r * w1 + rgb1.r * w2,\n                g: rgb2.g * w1 + rgb1.g * w2,\n                b: rgb2.b * w1 + rgb1.b * w2,\n                a: rgb2.a * p  + rgb1.a * (1 - p)\n            };\n\n            return tinycolor(rgba);\n        };\n\n\n        // Readability Functions\n        // ---------------------\n        // <http://www.w3.org/TR/AERT#color-contrast>\n\n        // `readability`\n        // Analyze the 2 colors and returns an object with the following properties:\n        //    `brightness`: difference in brightness between the two colors\n        //    `color`: difference in color/hue between the two colors\n        tinycolor.readability = function(color1, color2) {\n            var c1 = tinycolor(color1);\n            var c2 = tinycolor(color2);\n            var rgb1 = c1.toRgb();\n            var rgb2 = c2.toRgb();\n            var brightnessA = c1.getBrightness();\n            var brightnessB = c2.getBrightness();\n            var colorDiff = (\n                Math.max(rgb1.r, rgb2.r) - Math.min(rgb1.r, rgb2.r) +\n                Math.max(rgb1.g, rgb2.g) - Math.min(rgb1.g, rgb2.g) +\n                Math.max(rgb1.b, rgb2.b) - Math.min(rgb1.b, rgb2.b)\n            );\n\n            return {\n                brightness: Math.abs(brightnessA - brightnessB),\n                color: colorDiff\n            };\n        };\n\n        // `readable`\n        // http://www.w3.org/TR/AERT#color-contrast\n        // Ensure that foreground and background color combinations provide sufficient contrast.\n        // *Example*\n        //    tinycolor.isReadable(\"#000\", \"#111\") => false\n        tinycolor.isReadable = function(color1, color2) {\n            var readability = tinycolor.readability(color1, color2);\n            return readability.brightness > 125 && readability.color > 500;\n        };\n\n        // `mostReadable`\n        // Given a base color and a list of possible foreground or background\n        // colors for that base, returns the most readable color.\n        // *Example*\n        //    tinycolor.mostReadable(\"#123\", [\"#fff\", \"#000\"]) => \"#000\"\n        tinycolor.mostReadable = function(baseColor, colorList) {\n            var bestColor = null;\n            var bestScore = 0;\n            var bestIsReadable = false;\n            for (var i=0; i < colorList.length; i++) {\n\n                // We normalize both around the \"acceptable\" breaking point,\n                // but rank brightness constrast higher than hue.\n\n                var readability = tinycolor.readability(baseColor, colorList[i]);\n                var readable = readability.brightness > 125 && readability.color > 500;\n                var score = 3 * (readability.brightness / 125) + (readability.color / 500);\n\n                if ((readable && ! bestIsReadable) ||\n                    (readable && bestIsReadable && score > bestScore) ||\n                    ((! readable) && (! bestIsReadable) && score > bestScore)) {\n                    bestIsReadable = readable;\n                    bestScore = score;\n                    bestColor = tinycolor(colorList[i]);\n                }\n            }\n            return bestColor;\n        };\n\n\n        // Big List of Colors\n        // ------------------\n        // <http://www.w3.org/TR/css3-color/#svg-color>\n        var names = tinycolor.names = {\n            aliceblue: \"f0f8ff\",\n            antiquewhite: \"faebd7\",\n            aqua: \"0ff\",\n            aquamarine: \"7fffd4\",\n            azure: \"f0ffff\",\n            beige: \"f5f5dc\",\n            bisque: \"ffe4c4\",\n            black: \"000\",\n            blanchedalmond: \"ffebcd\",\n            blue: \"00f\",\n            blueviolet: \"8a2be2\",\n            brown: \"a52a2a\",\n            burlywood: \"deb887\",\n            burntsienna: \"ea7e5d\",\n            cadetblue: \"5f9ea0\",\n            chartreuse: \"7fff00\",\n            chocolate: \"d2691e\",\n            coral: \"ff7f50\",\n            cornflowerblue: \"6495ed\",\n            cornsilk: \"fff8dc\",\n            crimson: \"dc143c\",\n            cyan: \"0ff\",\n            darkblue: \"00008b\",\n            darkcyan: \"008b8b\",\n            darkgoldenrod: \"b8860b\",\n            darkgray: \"a9a9a9\",\n            darkgreen: \"006400\",\n            darkgrey: \"a9a9a9\",\n            darkkhaki: \"bdb76b\",\n            darkmagenta: \"8b008b\",\n            darkolivegreen: \"556b2f\",\n            darkorange: \"ff8c00\",\n            darkorchid: \"9932cc\",\n            darkred: \"8b0000\",\n            darksalmon: \"e9967a\",\n            darkseagreen: \"8fbc8f\",\n            darkslateblue: \"483d8b\",\n            darkslategray: \"2f4f4f\",\n            darkslategrey: \"2f4f4f\",\n            darkturquoise: \"00ced1\",\n            darkviolet: \"9400d3\",\n            deeppink: \"ff1493\",\n            deepskyblue: \"00bfff\",\n            dimgray: \"696969\",\n            dimgrey: \"696969\",\n            dodgerblue: \"1e90ff\",\n            firebrick: \"b22222\",\n            floralwhite: \"fffaf0\",\n            forestgreen: \"228b22\",\n            fuchsia: \"f0f\",\n            gainsboro: \"dcdcdc\",\n            ghostwhite: \"f8f8ff\",\n            gold: \"ffd700\",\n            goldenrod: \"daa520\",\n            gray: \"808080\",\n            green: \"008000\",\n            greenyellow: \"adff2f\",\n            grey: \"808080\",\n            honeydew: \"f0fff0\",\n            hotpink: \"ff69b4\",\n            indianred: \"cd5c5c\",\n            indigo: \"4b0082\",\n            ivory: \"fffff0\",\n            khaki: \"f0e68c\",\n            lavender: \"e6e6fa\",\n            lavenderblush: \"fff0f5\",\n            lawngreen: \"7cfc00\",\n            lemonchiffon: \"fffacd\",\n            lightblue: \"add8e6\",\n            lightcoral: \"f08080\",\n            lightcyan: \"e0ffff\",\n            lightgoldenrodyellow: \"fafad2\",\n            lightgray: \"d3d3d3\",\n            lightgreen: \"90ee90\",\n            lightgrey: \"d3d3d3\",\n            lightpink: \"ffb6c1\",\n            lightsalmon: \"ffa07a\",\n            lightseagreen: \"20b2aa\",\n            lightskyblue: \"87cefa\",\n            lightslategray: \"789\",\n            lightslategrey: \"789\",\n            lightsteelblue: \"b0c4de\",\n            lightyellow: \"ffffe0\",\n            lime: \"0f0\",\n            limegreen: \"32cd32\",\n            linen: \"faf0e6\",\n            magenta: \"f0f\",\n            maroon: \"800000\",\n            mediumaquamarine: \"66cdaa\",\n            mediumblue: \"0000cd\",\n            mediumorchid: \"ba55d3\",\n            mediumpurple: \"9370db\",\n            mediumseagreen: \"3cb371\",\n            mediumslateblue: \"7b68ee\",\n            mediumspringgreen: \"00fa9a\",\n            mediumturquoise: \"48d1cc\",\n            mediumvioletred: \"c71585\",\n            midnightblue: \"191970\",\n            mintcream: \"f5fffa\",\n            mistyrose: \"ffe4e1\",\n            moccasin: \"ffe4b5\",\n            navajowhite: \"ffdead\",\n            navy: \"000080\",\n            oldlace: \"fdf5e6\",\n            olive: \"808000\",\n            olivedrab: \"6b8e23\",\n            orange: \"ffa500\",\n            orangered: \"ff4500\",\n            orchid: \"da70d6\",\n            palegoldenrod: \"eee8aa\",\n            palegreen: \"98fb98\",\n            paleturquoise: \"afeeee\",\n            palevioletred: \"db7093\",\n            papayawhip: \"ffefd5\",\n            peachpuff: \"ffdab9\",\n            peru: \"cd853f\",\n            pink: \"ffc0cb\",\n            plum: \"dda0dd\",\n            powderblue: \"b0e0e6\",\n            purple: \"800080\",\n            rebeccapurple: \"663399\",\n            red: \"f00\",\n            rosybrown: \"bc8f8f\",\n            royalblue: \"4169e1\",\n            saddlebrown: \"8b4513\",\n            salmon: \"fa8072\",\n            sandybrown: \"f4a460\",\n            seagreen: \"2e8b57\",\n            seashell: \"fff5ee\",\n            sienna: \"a0522d\",\n            silver: \"c0c0c0\",\n            skyblue: \"87ceeb\",\n            slateblue: \"6a5acd\",\n            slategray: \"708090\",\n            slategrey: \"708090\",\n            snow: \"fffafa\",\n            springgreen: \"00ff7f\",\n            steelblue: \"4682b4\",\n            tan: \"d2b48c\",\n            teal: \"008080\",\n            thistle: \"d8bfd8\",\n            tomato: \"ff6347\",\n            turquoise: \"40e0d0\",\n            violet: \"ee82ee\",\n            wheat: \"f5deb3\",\n            white: \"fff\",\n            whitesmoke: \"f5f5f5\",\n            yellow: \"ff0\",\n            yellowgreen: \"9acd32\"\n        };\n\n        // Make it easy to access colors via `hexNames[hex]`\n        var hexNames = tinycolor.hexNames = flip(names);\n\n\n        // Utilities\n        // ---------\n\n        // `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\n        function flip(o) {\n            var flipped = { };\n            for (var i in o) {\n                if (o.hasOwnProperty(i)) {\n                    flipped[o[i]] = i;\n                }\n            }\n            return flipped;\n        }\n\n        // Return a valid alpha value [0,1] with all invalid values being set to 1\n        function boundAlpha(a) {\n            a = parseFloat(a);\n\n            if (isNaN(a) || a < 0 || a > 1) {\n                a = 1;\n            }\n\n            return a;\n        }\n\n        // Take input from [0, n] and return it as [0, 1]\n        function bound01(n, max) {\n            if (isOnePointZero(n)) { n = \"100%\"; }\n\n            var processPercent = isPercentage(n);\n            n = mathMin(max, mathMax(0, parseFloat(n)));\n\n            // Automatically convert percentage into number\n            if (processPercent) {\n                n = parseInt(n * max, 10) / 100;\n            }\n\n            // Handle floating point rounding errors\n            if ((math.abs(n - max) < 0.000001)) {\n                return 1;\n            }\n\n            // Convert into [0, 1] range if it isn't already\n            return (n % max) / parseFloat(max);\n        }\n\n        // Force a number between 0 and 1\n        function clamp01(val) {\n            return mathMin(1, mathMax(0, val));\n        }\n\n        // Parse a base-16 hex value into a base-10 integer\n        function parseIntFromHex(val) {\n            return parseInt(val, 16);\n        }\n\n        // Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n        // <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n        function isOnePointZero(n) {\n            return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n        }\n\n        // Check to see if string passed in is a percentage\n        function isPercentage(n) {\n            return typeof n === \"string\" && n.indexOf('%') != -1;\n        }\n\n        // Force a hex value to have 2 characters\n        function pad2(c) {\n            return c.length == 1 ? '0' + c : '' + c;\n        }\n\n        // Replace a decimal with it's percentage value\n        function convertToPercentage(n) {\n            if (n <= 1) {\n                n = (n * 100) + \"%\";\n            }\n\n            return n;\n        }\n\n        // Converts a decimal to a hex value\n        function convertDecimalToHex(d) {\n            return Math.round(parseFloat(d) * 255).toString(16);\n        }\n        // Converts a hex value to a decimal\n        function convertHexToDecimal(h) {\n            return (parseIntFromHex(h) / 255);\n        }\n\n        var matchers = (function() {\n\n            // <http://www.w3.org/TR/css3-values/#integers>\n            var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n            // <http://www.w3.org/TR/css3-values/#number-value>\n            var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n            // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n            var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n            // Actual matching.\n            // Parentheses and commas are optional, but not required.\n            // Whitespace can take the place of commas or opening paren\n            var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n            var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n            return {\n                rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n                rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n                hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n                hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n                hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n                hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n                hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n                hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n                hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n            };\n        })();\n\n        // `stringInputToObject`\n        // Permissive string parsing.  Take in a number of formats, and output an object\n        // based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n        function stringInputToObject(color) {\n\n            color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n            var named = false;\n            if (names[color]) {\n                color = names[color];\n                named = true;\n            }\n            else if (color == 'transparent') {\n                return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n            }\n\n            // Try to match string input using regular expressions.\n            // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n            // Just return an object and let the conversion functions handle that.\n            // This way the result will be the same whether the tinycolor is initialized with string or object.\n            var match;\n            if ((match = matchers.rgb.exec(color))) {\n                return { r: match[1], g: match[2], b: match[3] };\n            }\n            if ((match = matchers.rgba.exec(color))) {\n                return { r: match[1], g: match[2], b: match[3], a: match[4] };\n            }\n            if ((match = matchers.hsl.exec(color))) {\n                return { h: match[1], s: match[2], l: match[3] };\n            }\n            if ((match = matchers.hsla.exec(color))) {\n                return { h: match[1], s: match[2], l: match[3], a: match[4] };\n            }\n            if ((match = matchers.hsv.exec(color))) {\n                return { h: match[1], s: match[2], v: match[3] };\n            }\n            if ((match = matchers.hsva.exec(color))) {\n                return { h: match[1], s: match[2], v: match[3], a: match[4] };\n            }\n            if ((match = matchers.hex8.exec(color))) {\n                return {\n                    a: convertHexToDecimal(match[1]),\n                    r: parseIntFromHex(match[2]),\n                    g: parseIntFromHex(match[3]),\n                    b: parseIntFromHex(match[4]),\n                    format: named ? \"name\" : \"hex8\"\n                };\n            }\n            if ((match = matchers.hex6.exec(color))) {\n                return {\n                    r: parseIntFromHex(match[1]),\n                    g: parseIntFromHex(match[2]),\n                    b: parseIntFromHex(match[3]),\n                    format: named ? \"name\" : \"hex\"\n                };\n            }\n            if ((match = matchers.hex3.exec(color))) {\n                return {\n                    r: parseIntFromHex(match[1] + '' + match[1]),\n                    g: parseIntFromHex(match[2] + '' + match[2]),\n                    b: parseIntFromHex(match[3] + '' + match[3]),\n                    format: named ? \"name\" : \"hex\"\n                };\n            }\n\n            return false;\n        }\n\n        window.tinycolor = tinycolor;\n    })();\n\n    $(function () {\n        if ($.fn.spectrum.load) {\n            $.fn.spectrum.processNativeColorInputs();\n        }\n    });\n\n});\n","Magezon_Builder/vendor/spectrum/tinycolor.js":"// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\n    var trimLeft = /^\\s+/,\n        trimRight = /\\s+$/,\n        tinyCounter = 0,\n        mathRound = Math.round,\n        mathMin = Math.min,\n        mathMax = Math.max,\n        mathRandom = Math.random;\n\n    function tinycolor (color, opts) {\n\n        color = (color) ? color : '';\n        opts = opts || { };\n\n        // If input is already a tinycolor, return itself\n        if (color instanceof tinycolor) {\n            return color;\n        }\n        // If we are called as a function, call using new instead\n        if (!(this instanceof tinycolor)) {\n            return new tinycolor(color, opts);\n        }\n\n        var rgb = inputToRGB(color);\n        this._originalInput = color,\n            this._r = rgb.r,\n            this._g = rgb.g,\n            this._b = rgb.b,\n            this._a = rgb.a,\n            this._roundA = mathRound(100*this._a) / 100,\n            this._format = opts.format || rgb.format;\n        this._gradientType = opts.gradientType;\n\n        // Don't let the range of [0,255] come back in [0,1].\n        // Potentially lose a little bit of precision here, but will fix issues where\n        // .5 gets interpreted as half of the total, instead of half of 1\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n        if (this._r < 1) { this._r = mathRound(this._r); }\n        if (this._g < 1) { this._g = mathRound(this._g); }\n        if (this._b < 1) { this._b = mathRound(this._b); }\n\n        this._ok = rgb.ok;\n        this._tc_id = tinyCounter++;\n    }\n\n    tinycolor.prototype = {\n        isDark: function() {\n            return this.getBrightness() < 128;\n        },\n        isLight: function() {\n            return !this.isDark();\n        },\n        isValid: function() {\n            return this._ok;\n        },\n        getOriginalInput: function() {\n            return this._originalInput;\n        },\n        getFormat: function() {\n            return this._format;\n        },\n        getAlpha: function() {\n            return this._a;\n        },\n        getBrightness: function() {\n            //http://www.w3.org/TR/AERT#color-contrast\n            var rgb = this.toRgb();\n            return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n        },\n        getLuminance: function() {\n            //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n            var rgb = this.toRgb();\n            var RsRGB, GsRGB, BsRGB, R, G, B;\n            RsRGB = rgb.r/255;\n            GsRGB = rgb.g/255;\n            BsRGB = rgb.b/255;\n\n            if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n            if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n            if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n            return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n        },\n        setAlpha: function(value) {\n            this._a = boundAlpha(value);\n            this._roundA = mathRound(100*this._a) / 100;\n            return this;\n        },\n        toHsv: function() {\n            var hsv = rgbToHsv(this._r, this._g, this._b);\n            return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n        },\n        toHsvString: function() {\n            var hsv = rgbToHsv(this._r, this._g, this._b);\n            var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n            return (this._a == 1) ?\n                \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n                \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n        },\n        toHsl: function() {\n            var hsl = rgbToHsl(this._r, this._g, this._b);\n            return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n        },\n        toHslString: function() {\n            var hsl = rgbToHsl(this._r, this._g, this._b);\n            var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n            return (this._a == 1) ?\n                \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n                \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n        },\n        toHex: function(allow3Char) {\n            return rgbToHex(this._r, this._g, this._b, allow3Char);\n        },\n        toHexString: function(allow3Char) {\n            return '#' + this.toHex(allow3Char);\n        },\n        toHex8: function(allow4Char) {\n            return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n        },\n        toHex8String: function(allow4Char) {\n            return '#' + this.toHex8(allow4Char);\n        },\n        toRgb: function() {\n            return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n        },\n        toRgbString: function() {\n            return (this._a == 1) ?\n                \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n                \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n        },\n        toPercentageRgb: function() {\n            return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n        },\n        toPercentageRgbString: function() {\n            return (this._a == 1) ?\n                \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n                \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n        },\n        toName: function() {\n            if (this._a === 0) {\n                return \"transparent\";\n            }\n\n            if (this._a < 1) {\n                return false;\n            }\n\n            return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n        },\n        toFilter: function(secondColor) {\n            var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n            var secondHex8String = hex8String;\n            var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n            if (secondColor) {\n                var s = tinycolor(secondColor);\n                secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n            }\n\n            return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n        },\n        toString: function(format) {\n            var formatSet = !!format;\n            format = format || this._format;\n\n            var formattedString = false;\n            var hasAlpha = this._a < 1 && this._a >= 0;\n            var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n            if (needsAlphaFormat) {\n                // Special case for \"transparent\", all other non-alpha formats\n                // will return rgba when there is transparency.\n                if (format === \"name\" && this._a === 0) {\n                    return this.toName();\n                }\n                return this.toRgbString();\n            }\n            if (format === \"rgb\") {\n                formattedString = this.toRgbString();\n            }\n            if (format === \"prgb\") {\n                formattedString = this.toPercentageRgbString();\n            }\n            if (format === \"hex\" || format === \"hex6\") {\n                formattedString = this.toHexString();\n            }\n            if (format === \"hex3\") {\n                formattedString = this.toHexString(true);\n            }\n            if (format === \"hex4\") {\n                formattedString = this.toHex8String(true);\n            }\n            if (format === \"hex8\") {\n                formattedString = this.toHex8String();\n            }\n            if (format === \"name\") {\n                formattedString = this.toName();\n            }\n            if (format === \"hsl\") {\n                formattedString = this.toHslString();\n            }\n            if (format === \"hsv\") {\n                formattedString = this.toHsvString();\n            }\n\n            return formattedString || this.toHexString();\n        },\n        clone: function() {\n            return tinycolor(this.toString());\n        },\n\n        _applyModification: function(fn, args) {\n            var color = fn.apply(null, [this].concat([].slice.call(args)));\n            this._r = color._r;\n            this._g = color._g;\n            this._b = color._b;\n            this.setAlpha(color._a);\n            return this;\n        },\n        lighten: function() {\n            return this._applyModification(lighten, arguments);\n        },\n        brighten: function() {\n            return this._applyModification(brighten, arguments);\n        },\n        darken: function() {\n            return this._applyModification(darken, arguments);\n        },\n        desaturate: function() {\n            return this._applyModification(desaturate, arguments);\n        },\n        saturate: function() {\n            return this._applyModification(saturate, arguments);\n        },\n        greyscale: function() {\n            return this._applyModification(greyscale, arguments);\n        },\n        spin: function() {\n            return this._applyModification(spin, arguments);\n        },\n\n        _applyCombination: function(fn, args) {\n            return fn.apply(null, [this].concat([].slice.call(args)));\n        },\n        analogous: function() {\n            return this._applyCombination(analogous, arguments);\n        },\n        complement: function() {\n            return this._applyCombination(complement, arguments);\n        },\n        monochromatic: function() {\n            return this._applyCombination(monochromatic, arguments);\n        },\n        splitcomplement: function() {\n            return this._applyCombination(splitcomplement, arguments);\n        },\n        triad: function() {\n            return this._applyCombination(triad, arguments);\n        },\n        tetrad: function() {\n            return this._applyCombination(tetrad, arguments);\n        }\n    };\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\n    tinycolor.fromRatio = function(color, opts) {\n        if (typeof color == \"object\") {\n            var newColor = {};\n            for (var i in color) {\n                if (color.hasOwnProperty(i)) {\n                    if (i === \"a\") {\n                        newColor[i] = color[i];\n                    }\n                    else {\n                        newColor[i] = convertToPercentage(color[i]);\n                    }\n                }\n            }\n            color = newColor;\n        }\n\n        return tinycolor(color, opts);\n    };\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\n    function inputToRGB(color) {\n\n        var rgb = { r: 0, g: 0, b: 0 };\n        var a = 1;\n        var s = null;\n        var v = null;\n        var l = null;\n        var ok = false;\n        var format = false;\n\n        if (typeof color == \"string\") {\n            color = stringInputToObject(color);\n        }\n\n        if (typeof color == \"object\") {\n            if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n                rgb = rgbToRgb(color.r, color.g, color.b);\n                ok = true;\n                format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n            }\n            else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n                s = convertToPercentage(color.s);\n                v = convertToPercentage(color.v);\n                rgb = hsvToRgb(color.h, s, v);\n                ok = true;\n                format = \"hsv\";\n            }\n            else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n                s = convertToPercentage(color.s);\n                l = convertToPercentage(color.l);\n                rgb = hslToRgb(color.h, s, l);\n                ok = true;\n                format = \"hsl\";\n            }\n\n            if (color.hasOwnProperty(\"a\")) {\n                a = color.a;\n            }\n        }\n\n        a = boundAlpha(a);\n\n        return {\n            ok: ok,\n            format: color.format || format,\n            r: mathMin(255, mathMax(rgb.r, 0)),\n            g: mathMin(255, mathMax(rgb.g, 0)),\n            b: mathMin(255, mathMax(rgb.b, 0)),\n            a: a\n        };\n    }\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\n    function rgbToRgb(r, g, b){\n        return {\n            r: bound01(r, 255) * 255,\n            g: bound01(g, 255) * 255,\n            b: bound01(b, 255) * 255\n        };\n    }\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\n    function rgbToHsl(r, g, b) {\n\n        r = bound01(r, 255);\n        g = bound01(g, 255);\n        b = bound01(b, 255);\n\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\n        var h, s, l = (max + min) / 2;\n\n        if(max == min) {\n            h = s = 0; // achromatic\n        }\n        else {\n            var d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch(max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n\n            h /= 6;\n        }\n\n        return { h: h, s: s, l: l };\n    }\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n    function hslToRgb(h, s, l) {\n        var r, g, b;\n\n        h = bound01(h, 360);\n        s = bound01(s, 100);\n        l = bound01(l, 100);\n\n        function hue2rgb(p, q, t) {\n            if(t < 0) t += 1;\n            if(t > 1) t -= 1;\n            if(t < 1/6) return p + (q - p) * 6 * t;\n            if(t < 1/2) return q;\n            if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n            return p;\n        }\n\n        if(s === 0) {\n            r = g = b = l; // achromatic\n        }\n        else {\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1/3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1/3);\n        }\n\n        return { r: r * 255, g: g * 255, b: b * 255 };\n    }\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\n    function rgbToHsv(r, g, b) {\n\n        r = bound01(r, 255);\n        g = bound01(g, 255);\n        b = bound01(b, 255);\n\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\n        var h, s, v = max;\n\n        var d = max - min;\n        s = max === 0 ? 0 : d / max;\n\n        if(max == min) {\n            h = 0; // achromatic\n        }\n        else {\n            switch(max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n            h /= 6;\n        }\n        return { h: h, s: s, v: v };\n    }\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n    function hsvToRgb(h, s, v) {\n\n        h = bound01(h, 360) * 6;\n        s = bound01(s, 100);\n        v = bound01(v, 100);\n\n        var i = Math.floor(h),\n            f = h - i,\n            p = v * (1 - s),\n            q = v * (1 - f * s),\n            t = v * (1 - (1 - f) * s),\n            mod = i % 6,\n            r = [v, q, p, p, t, v][mod],\n            g = [t, v, v, q, p, p][mod],\n            b = [p, p, t, v, v, q][mod];\n\n        return { r: r * 255, g: g * 255, b: b * 255 };\n    }\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\n    function rgbToHex(r, g, b, allow3Char) {\n\n        var hex = [\n            pad2(mathRound(r).toString(16)),\n            pad2(mathRound(g).toString(16)),\n            pad2(mathRound(b).toString(16))\n        ];\n\n        // Return a 3 character hex if possible\n        if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n            return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n        }\n\n        return hex.join(\"\");\n    }\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\n    function rgbaToHex(r, g, b, a, allow4Char) {\n\n        var hex = [\n            pad2(mathRound(r).toString(16)),\n            pad2(mathRound(g).toString(16)),\n            pad2(mathRound(b).toString(16)),\n            pad2(convertDecimalToHex(a))\n        ];\n\n        // Return a 4 character hex if possible\n        if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n            return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n        }\n\n        return hex.join(\"\");\n    }\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\n    function rgbaToArgbHex(r, g, b, a) {\n\n        var hex = [\n            pad2(convertDecimalToHex(a)),\n            pad2(mathRound(r).toString(16)),\n            pad2(mathRound(g).toString(16)),\n            pad2(mathRound(b).toString(16))\n        ];\n\n        return hex.join(\"\");\n    }\n\n// `equals`\n// Can be called with any tinycolor input\n    tinycolor.equals = function (color1, color2) {\n        if (!color1 || !color2) { return false; }\n        return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n    };\n\n    tinycolor.random = function() {\n        return tinycolor.fromRatio({\n            r: mathRandom(),\n            g: mathRandom(),\n            b: mathRandom()\n        });\n    };\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\n    function desaturate(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return tinycolor(hsl);\n    }\n\n    function saturate(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return tinycolor(hsl);\n    }\n\n    function greyscale(color) {\n        return tinycolor(color).desaturate(100);\n    }\n\n    function lighten (color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return tinycolor(hsl);\n    }\n\n    function brighten(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var rgb = tinycolor(color).toRgb();\n        rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n        rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n        rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n        return tinycolor(rgb);\n    }\n\n    function darken (color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return tinycolor(hsl);\n    }\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\n    function spin(color, amount) {\n        var hsl = tinycolor(color).toHsl();\n        var hue = (hsl.h + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return tinycolor(hsl);\n    }\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\n    function complement(color) {\n        var hsl = tinycolor(color).toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return tinycolor(hsl);\n    }\n\n    function triad(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n        ];\n    }\n\n    function tetrad(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n        ];\n    }\n\n    function splitcomplement(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n            tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n        ];\n    }\n\n    function analogous(color, results, slices) {\n        results = results || 6;\n        slices = slices || 30;\n\n        var hsl = tinycolor(color).toHsl();\n        var part = 360 / slices;\n        var ret = [tinycolor(color)];\n\n        for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(tinycolor(hsl));\n        }\n        return ret;\n    }\n\n    function monochromatic(color, results) {\n        results = results || 6;\n        var hsv = tinycolor(color).toHsv();\n        var h = hsv.h, s = hsv.s, v = hsv.v;\n        var ret = [];\n        var modification = 1 / results;\n\n        while (results--) {\n            ret.push(tinycolor({ h: h, s: s, v: v}));\n            v = (v + modification) % 1;\n        }\n\n        return ret;\n    }\n\n// Utility Functions\n// ---------------------\n\n    tinycolor.mix = function(color1, color2, amount) {\n        amount = (amount === 0) ? 0 : (amount || 50);\n\n        var rgb1 = tinycolor(color1).toRgb();\n        var rgb2 = tinycolor(color2).toRgb();\n\n        var p = amount / 100;\n\n        var rgba = {\n            r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n            g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n            b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n            a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n        };\n\n        return tinycolor(rgba);\n    };\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\n    tinycolor.readability = function(color1, color2) {\n        var c1 = tinycolor(color1);\n        var c2 = tinycolor(color2);\n        return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n    };\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\n    tinycolor.isReadable = function(color1, color2, wcag2) {\n        var readability = tinycolor.readability(color1, color2);\n        var wcag2Parms, out;\n\n        out = false;\n\n        wcag2Parms = validateWCAG2Parms(wcag2);\n        switch (wcag2Parms.level + wcag2Parms.size) {\n            case \"AAsmall\":\n            case \"AAAlarge\":\n                out = readability >= 4.5;\n                break;\n            case \"AAlarge\":\n                out = readability >= 3;\n                break;\n            case \"AAAsmall\":\n                out = readability >= 7;\n                break;\n        }\n        return out;\n\n    };\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\n    tinycolor.mostReadable = function(baseColor, colorList, args) {\n        var bestColor = null;\n        var bestScore = 0;\n        var readability;\n        var includeFallbackColors, level, size ;\n        args = args || {};\n        includeFallbackColors = args.includeFallbackColors ;\n        level = args.level;\n        size = args.size;\n\n        for (var i= 0; i < colorList.length ; i++) {\n            readability = tinycolor.readability(baseColor, colorList[i]);\n            if (readability > bestScore) {\n                bestScore = readability;\n                bestColor = tinycolor(colorList[i]);\n            }\n        }\n\n        if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n            return bestColor;\n        }\n        else {\n            args.includeFallbackColors=false;\n            return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n        }\n    };\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\n    var names = tinycolor.names = {\n        aliceblue: \"f0f8ff\",\n        antiquewhite: \"faebd7\",\n        aqua: \"0ff\",\n        aquamarine: \"7fffd4\",\n        azure: \"f0ffff\",\n        beige: \"f5f5dc\",\n        bisque: \"ffe4c4\",\n        black: \"000\",\n        blanchedalmond: \"ffebcd\",\n        blue: \"00f\",\n        blueviolet: \"8a2be2\",\n        brown: \"a52a2a\",\n        burlywood: \"deb887\",\n        burntsienna: \"ea7e5d\",\n        cadetblue: \"5f9ea0\",\n        chartreuse: \"7fff00\",\n        chocolate: \"d2691e\",\n        coral: \"ff7f50\",\n        cornflowerblue: \"6495ed\",\n        cornsilk: \"fff8dc\",\n        crimson: \"dc143c\",\n        cyan: \"0ff\",\n        darkblue: \"00008b\",\n        darkcyan: \"008b8b\",\n        darkgoldenrod: \"b8860b\",\n        darkgray: \"a9a9a9\",\n        darkgreen: \"006400\",\n        darkgrey: \"a9a9a9\",\n        darkkhaki: \"bdb76b\",\n        darkmagenta: \"8b008b\",\n        darkolivegreen: \"556b2f\",\n        darkorange: \"ff8c00\",\n        darkorchid: \"9932cc\",\n        darkred: \"8b0000\",\n        darksalmon: \"e9967a\",\n        darkseagreen: \"8fbc8f\",\n        darkslateblue: \"483d8b\",\n        darkslategray: \"2f4f4f\",\n        darkslategrey: \"2f4f4f\",\n        darkturquoise: \"00ced1\",\n        darkviolet: \"9400d3\",\n        deeppink: \"ff1493\",\n        deepskyblue: \"00bfff\",\n        dimgray: \"696969\",\n        dimgrey: \"696969\",\n        dodgerblue: \"1e90ff\",\n        firebrick: \"b22222\",\n        floralwhite: \"fffaf0\",\n        forestgreen: \"228b22\",\n        fuchsia: \"f0f\",\n        gainsboro: \"dcdcdc\",\n        ghostwhite: \"f8f8ff\",\n        gold: \"ffd700\",\n        goldenrod: \"daa520\",\n        gray: \"808080\",\n        green: \"008000\",\n        greenyellow: \"adff2f\",\n        grey: \"808080\",\n        honeydew: \"f0fff0\",\n        hotpink: \"ff69b4\",\n        indianred: \"cd5c5c\",\n        indigo: \"4b0082\",\n        ivory: \"fffff0\",\n        khaki: \"f0e68c\",\n        lavender: \"e6e6fa\",\n        lavenderblush: \"fff0f5\",\n        lawngreen: \"7cfc00\",\n        lemonchiffon: \"fffacd\",\n        lightblue: \"add8e6\",\n        lightcoral: \"f08080\",\n        lightcyan: \"e0ffff\",\n        lightgoldenrodyellow: \"fafad2\",\n        lightgray: \"d3d3d3\",\n        lightgreen: \"90ee90\",\n        lightgrey: \"d3d3d3\",\n        lightpink: \"ffb6c1\",\n        lightsalmon: \"ffa07a\",\n        lightseagreen: \"20b2aa\",\n        lightskyblue: \"87cefa\",\n        lightslategray: \"789\",\n        lightslategrey: \"789\",\n        lightsteelblue: \"b0c4de\",\n        lightyellow: \"ffffe0\",\n        lime: \"0f0\",\n        limegreen: \"32cd32\",\n        linen: \"faf0e6\",\n        magenta: \"f0f\",\n        maroon: \"800000\",\n        mediumaquamarine: \"66cdaa\",\n        mediumblue: \"0000cd\",\n        mediumorchid: \"ba55d3\",\n        mediumpurple: \"9370db\",\n        mediumseagreen: \"3cb371\",\n        mediumslateblue: \"7b68ee\",\n        mediumspringgreen: \"00fa9a\",\n        mediumturquoise: \"48d1cc\",\n        mediumvioletred: \"c71585\",\n        midnightblue: \"191970\",\n        mintcream: \"f5fffa\",\n        mistyrose: \"ffe4e1\",\n        moccasin: \"ffe4b5\",\n        navajowhite: \"ffdead\",\n        navy: \"000080\",\n        oldlace: \"fdf5e6\",\n        olive: \"808000\",\n        olivedrab: \"6b8e23\",\n        orange: \"ffa500\",\n        orangered: \"ff4500\",\n        orchid: \"da70d6\",\n        palegoldenrod: \"eee8aa\",\n        palegreen: \"98fb98\",\n        paleturquoise: \"afeeee\",\n        palevioletred: \"db7093\",\n        papayawhip: \"ffefd5\",\n        peachpuff: \"ffdab9\",\n        peru: \"cd853f\",\n        pink: \"ffc0cb\",\n        plum: \"dda0dd\",\n        powderblue: \"b0e0e6\",\n        purple: \"800080\",\n        rebeccapurple: \"663399\",\n        red: \"f00\",\n        rosybrown: \"bc8f8f\",\n        royalblue: \"4169e1\",\n        saddlebrown: \"8b4513\",\n        salmon: \"fa8072\",\n        sandybrown: \"f4a460\",\n        seagreen: \"2e8b57\",\n        seashell: \"fff5ee\",\n        sienna: \"a0522d\",\n        silver: \"c0c0c0\",\n        skyblue: \"87ceeb\",\n        slateblue: \"6a5acd\",\n        slategray: \"708090\",\n        slategrey: \"708090\",\n        snow: \"fffafa\",\n        springgreen: \"00ff7f\",\n        steelblue: \"4682b4\",\n        tan: \"d2b48c\",\n        teal: \"008080\",\n        thistle: \"d8bfd8\",\n        tomato: \"ff6347\",\n        turquoise: \"40e0d0\",\n        violet: \"ee82ee\",\n        wheat: \"f5deb3\",\n        white: \"fff\",\n        whitesmoke: \"f5f5f5\",\n        yellow: \"ff0\",\n        yellowgreen: \"9acd32\"\n    };\n\n// Make it easy to access colors via `hexNames[hex]`\n    var hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\n    function flip(o) {\n        var flipped = { };\n        for (var i in o) {\n            if (o.hasOwnProperty(i)) {\n                flipped[o[i]] = i;\n            }\n        }\n        return flipped;\n    }\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\n    function boundAlpha(a) {\n        a = parseFloat(a);\n\n        if (isNaN(a) || a < 0 || a > 1) {\n            a = 1;\n        }\n\n        return a;\n    }\n\n// Take input from [0, n] and return it as [0, 1]\n    function bound01(n, max) {\n        if (isOnePointZero(n)) { n = \"100%\"; }\n\n        var processPercent = isPercentage(n);\n        n = mathMin(max, mathMax(0, parseFloat(n)));\n\n        // Automatically convert percentage into number\n        if (processPercent) {\n            n = parseInt(n * max, 10) / 100;\n        }\n\n        // Handle floating point rounding errors\n        if ((Math.abs(n - max) < 0.000001)) {\n            return 1;\n        }\n\n        // Convert into [0, 1] range if it isn't already\n        return (n % max) / parseFloat(max);\n    }\n\n// Force a number between 0 and 1\n    function clamp01(val) {\n        return mathMin(1, mathMax(0, val));\n    }\n\n// Parse a base-16 hex value into a base-10 integer\n    function parseIntFromHex(val) {\n        return parseInt(val, 16);\n    }\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n    function isOnePointZero(n) {\n        return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n    }\n\n// Check to see if string passed in is a percentage\n    function isPercentage(n) {\n        return typeof n === \"string\" && n.indexOf('%') != -1;\n    }\n\n// Force a hex value to have 2 characters\n    function pad2(c) {\n        return c.length == 1 ? '0' + c : '' + c;\n    }\n\n// Replace a decimal with it's percentage value\n    function convertToPercentage(n) {\n        if (n <= 1) {\n            n = (n * 100) + \"%\";\n        }\n\n        return n;\n    }\n\n// Converts a decimal to a hex value\n    function convertDecimalToHex(d) {\n        return Math.round(parseFloat(d) * 255).toString(16);\n    }\n// Converts a hex value to a decimal\n    function convertHexToDecimal(h) {\n        return (parseIntFromHex(h) / 255);\n    }\n\n    var matchers = (function() {\n\n        // <http://www.w3.org/TR/css3-values/#integers>\n        var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n        // <http://www.w3.org/TR/css3-values/#number-value>\n        var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n        // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n        var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n        // Actual matching.\n        // Parentheses and commas are optional, but not required.\n        // Whitespace can take the place of commas or opening paren\n        var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n        var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n        return {\n            CSS_UNIT: new RegExp(CSS_UNIT),\n            rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n            rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n            hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n            hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n            hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n            hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n            hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n            hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n            hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n            hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n        };\n    })();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\n    function isValidCSSUnit(color) {\n        return !!matchers.CSS_UNIT.exec(color);\n    }\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n    function stringInputToObject(color) {\n\n        color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n        var named = false;\n        if (names[color]) {\n            color = names[color];\n            named = true;\n        }\n        else if (color == 'transparent') {\n            return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n        }\n\n        // Try to match string input using regular expressions.\n        // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n        // Just return an object and let the conversion functions handle that.\n        // This way the result will be the same whether the tinycolor is initialized with string or object.\n        var match;\n        if ((match = matchers.rgb.exec(color))) {\n            return { r: match[1], g: match[2], b: match[3] };\n        }\n        if ((match = matchers.rgba.exec(color))) {\n            return { r: match[1], g: match[2], b: match[3], a: match[4] };\n        }\n        if ((match = matchers.hsl.exec(color))) {\n            return { h: match[1], s: match[2], l: match[3] };\n        }\n        if ((match = matchers.hsla.exec(color))) {\n            return { h: match[1], s: match[2], l: match[3], a: match[4] };\n        }\n        if ((match = matchers.hsv.exec(color))) {\n            return { h: match[1], s: match[2], v: match[3] };\n        }\n        if ((match = matchers.hsva.exec(color))) {\n            return { h: match[1], s: match[2], v: match[3], a: match[4] };\n        }\n        if ((match = matchers.hex8.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1]),\n                g: parseIntFromHex(match[2]),\n                b: parseIntFromHex(match[3]),\n                a: convertHexToDecimal(match[4]),\n                format: named ? \"name\" : \"hex8\"\n            };\n        }\n        if ((match = matchers.hex6.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1]),\n                g: parseIntFromHex(match[2]),\n                b: parseIntFromHex(match[3]),\n                format: named ? \"name\" : \"hex\"\n            };\n        }\n        if ((match = matchers.hex4.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1] + '' + match[1]),\n                g: parseIntFromHex(match[2] + '' + match[2]),\n                b: parseIntFromHex(match[3] + '' + match[3]),\n                a: convertHexToDecimal(match[4] + '' + match[4]),\n                format: named ? \"name\" : \"hex8\"\n            };\n        }\n        if ((match = matchers.hex3.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1] + '' + match[1]),\n                g: parseIntFromHex(match[2] + '' + match[2]),\n                b: parseIntFromHex(match[3] + '' + match[3]),\n                format: named ? \"name\" : \"hex\"\n            };\n        }\n\n        return false;\n    }\n\n    function validateWCAG2Parms(parms) {\n        // return valid WCAG2 parms for isReadable.\n        // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n        var level, size;\n        parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n        level = (parms.level || \"AA\").toUpperCase();\n        size = (parms.size || \"small\").toLowerCase();\n        if (level !== \"AA\" && level !== \"AAA\") {\n            level = \"AA\";\n        }\n        if (size !== \"small\" && size !== \"large\") {\n            size = \"small\";\n        }\n        return {\"level\":level, \"size\":size};\n    }\n\n// Node: Export function\n    if (typeof module !== \"undefined\" && module.exports) {\n        module.exports = tinycolor;\n    }\n// AMD/requirejs: Define the module\n    else if (typeof define === 'function' && define.amd) {\n        define(function () {return tinycolor;});\n    }\n// Browser: Expose to window\n    else {\n        window.tinycolor = tinycolor;\n    }\n\n})(Math);\n","Magezon_Builder/vendor/api-check/dist/api-check.min.js":"//! api-check version 7.5.5 built with \u2665 by Kent C. Dodds <kent@doddsfamily.us> (http://kent.doddsfamily.us) (\u00f3 \u00ec_\u00ed)=\u00f3\u00f2=(\u00ec_\u00ed \u00f2)\n!function(e,r){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(r):\"object\"==typeof exports?exports.apiCheck=r():e.apiCheck=r()}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p=\"\",r(0)}([function(e,r,t){\"use strict\";function n(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(r,\"__esModule\",{value:!0});var o=t(3),i=n(o);r[\"default\"]=i[\"default\"],e.exports=r[\"default\"]},function(e,r){function t(e,r){var t=[],o=[];return r=r||function(e,r){return\"[Circular \"+n(r,t,o)+\"]\"},function(n,i){var a=i;return\"object\"==typeof i&&i&&(-1!==t.indexOf(i)?a=r(n,i):(t.push(i),o.push(n))),e&&(a=e(n,a)),a}}function n(e,r,t){var n=r.indexOf(e),o=[t[n]];for(n--;n>=0;n--)r[n][o[0]]===e&&(e=r[n],o.unshift(t[n]));return\"~\"+o.join(\".\")}function o(e,r,n,o){return JSON.stringify(e,t(r,o),n)}e.exports=o,o.getSerialize=t},function(e,r,t){\"use strict\";function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e){var r=i(e),t=void 0;if(\"array\"===r)t=[];else{if(\"object\"!==r)return e;t={}}return f(e,function(e,r){t[r]=e}),t}function i(e){return Array.isArray(e)?\"array\":e instanceof RegExp?\"object\":typeof e}function a(e,r){var t=void 0,n=r&&r[\"short\"];return t=n&&e.shortType?e.shortType:!n&&\"object\"==typeof e.type||\"function\"===e.type?u(e,r):u(e,r)||e.displayName||e.name}function u(e,r){var t=e.type;if(\"function\"==typeof t){var o=t.__apiCheckData,i=t(r);t=n({__apiCheckData:o},o.type,i)}return t}function p(e){return e?Array.isArray(e)?e:[e]:[]}function f(e,r,t){return Array.isArray(e)?s(e,r,t):c(e,r,t)}function c(e,r,t){var n=void 0,o=Object.prototype.hasOwnProperty;for(var i in e)if(o.call(e,i)&&(n=r.call(t,e[i],i,e),n===!1))return n;return!0}function s(e,r,t){for(var n=void 0,o=e.length,i=0;o>i;i++)if(n=r.call(t,e[i],i,e),n===!1)return n;return!0}function l(e){return e instanceof Error}function y(e,r,t){e=p(e);var n=e.slice(),o=n.pop();return 1===n.length&&(r=\" \"),n.join(r)+(\"\"+(n.length?r+t:\"\")+o)}function h(e,r,t){\"function\"==typeof t&&(t=t({\"short\":!0}));var n=\"object\"!=typeof t?t:A(t);return new Error(d(e,r)+\" must be \"+v(n))}function d(e,r){var t=v(e||\"value\"),n=r?\" at \"+v(r):\"\";return\"\"+t+n}function v(e){return\"`\"+e+\"`\"}function g(e){return\"undefined\"==typeof e}function b(e,r,t){return t&&(e=_(),e.isNoop=!0),\"string\"==typeof e.type&&(e.shortType=e.type),f(r,function(r,t){return e[t]=r}),e.displayName||(e.displayName=\"apiCheck \"+v(e.shortType||e.type||e.name)+\" type checker\"),e.notRequired||(e=m(e,t)),e.notNullable||k(e,t),e.notOptional||O(e,t),e}function m(e,r){var t=r?_():function(r,t,n,o){if(g(r)&&!e.isOptional){var i=n?\" in \"+v(n):\"\",u=a(e,{\"short\":!0}),p=\"object\"!=typeof u?u:A(u);return new Error(\"Required \"+v(t)+\" not specified\"+i+\". Must be \"+v(p))}return e(r,t,n,o)};return j(e,t),t.originalChecker=e,t}function O(e,r){var t=r?_():function(r,t,n,o){return g(r)?void 0:e(r,t,n,o)};j(e,t),t.isOptional=!0,t.displayName=e.displayName+\" (optional)\",t.originalChecker=e,e.optional=t,C(e,e.optional)}function k(e,r){var t=r?_():function(r,t,n,o){return null!==r?e(r,t,n,o):void 0};j(e,t),t.isNullable=!0,t.displayName=e.displayName+\" (nullable)\",t.originalChecker=e,e.nullable=t,C(e,e.nullable),e.notOptional||O(e.nullable,r)}function C(e,r){if(\"object\"==typeof r.type)r.type=o(r.type);else{if(\"function\"!=typeof r.type)return void(r.type+=\" (optional)\");r.type=function(){return e.type.apply(e,arguments)}}r.type.__apiCheckData=o(e.type.__apiCheckData)||{},r.type.__apiCheckData.optional=!0}function j(e,r){f(Object.keys(e),function(t){return r[t]=e[t]})}function x(){}function _(){return function(){}}var A=t(1),T={addOptional:O,getRequiredVersion:m,setupChecker:b,addNullable:k};e.exports={each:f,copy:o,typeOf:i,arrayify:p,getCheckerDisplay:a,isError:l,list:y,getError:h,nAtL:d,t:v,undef:g,checkerHelpers:T,noop:x}},function(e,r,t){\"use strict\";function n(){function r(n,i,a){if(r.config.disabled||e.exports.globalConfig.disabled)return{apiTypes:{},argTypes:{},passed:!0,message:\"\",failed:!1};t(arguments),Array.isArray(n)?i=Array.prototype.slice.call(i):(n=[n],i=[i]);var u=p(n,i);u.length||(u=o(n,i));var f=c(n,i);return f.args=i,u.length?(f.message=r.getErrorMessage(n,i,u,a),f.failed=!0,f.passed=!1):(f.message=\"\",f.failed=!1,f.passed=!0),f}function t(e){var t=e[0],n=e[1],i=Array.isArray(n)||n&&\"object\"==typeof n&&\"number\"==typeof n.length;if(Array.isArray(t)&&!i)throw new Error(a(t,[n],[\"If an array is provided for the api, an array must be provided for the args as well.\"],{prefix:\"apiCheck\"}));var u=o(C.checkApiCheckApi,e);if(u.length){var p=r.getErrorMessage(C.checkApiCheckApi,e,u,{prefix:\"apiCheck\"});r.handleErrorMessage(p,!0)}}function n(e){return function(t,n,o){var i=r(t,n,o);return r.handleErrorMessage(i.message,e),i}}function i(e,r){if(r&&e)throw new Error(e);e&&console.warn(e)}function a(e,t){function n(){var e=p.onlyPrefix;return e||(e=((f.prefix||\"\")+\" \"+(p.prefix||\"\")).trim()),e}function o(){var e=p.onlySuffix;return e||(e=((p.suffix||\"\")+\" \"+(f.suffix||\"\")).trim()),e}function i(){var e=p.url;return e||(e=f.docsBaseUrl&&p.urlSuffix&&(\"\"+f.docsBaseUrl+p.urlSuffix).trim()),e}var a=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],p=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],f=r.config.output||{},c=n(),s=o(),l=i(),y=\"apiCheck failed! \"+a.join(\", \"),h=\"\\n\\n\"+u(e,t);return(c+\" \"+y+\" \"+s+\" \"+(l||\"\")+h).trim()}function u(e,r){function t(e){h(e,function(r,n){-1===f.indexOf(r)&&(f.push(r),\"object\"==typeof r?t(e):\"function\"==typeof r&&(e[n]=r.displayName||r.name||\"anonymous function\"))})}function n(e){return e&&e.length?(e&&1===e.length&&(e=e[0]),l(e,null,2)):\"nothing\"}function o(){var e=\"\\n\",t=!0;r&&1===r.length&&(t=\"object\"==typeof r[0]&&null!==r[0]?!!Object.keys(r[0]).length:!1);var n=\"type\"+(t?\"s\":\"\"),o=e+e;return\"You passed:\"+e+s+o+(\"With the \"+n+\":\"+e+u+o)+(\"The API calls for:\"+e+a)}var i=c(e,r),a=i.apiTypes,u=i.argTypes,p=Array.prototype.slice.call(r||[]),f=[];t(p);var s=n(p);return u=n(u),a=n(a),o()}function c(t,n){t=g(t),n=g(n);var o=t.map(function(t,o){var i=e.exports.globalConfig.hasOwnProperty(\"verbose\");return b(t,{terse:i?!e.exports.globalConfig.verbose:!r.config.verbose,obj:n[o],addHelpers:!0})}),i=n.map(function(e){return f(e,[])});return{argTypes:i,apiTypes:o}}var s=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];j&&arguments.length&&j[\"throw\"](C.getApiCheckInstanceCheckers,arguments,{prefix:\"creating an apiCheck instance\"});var v={\"throw\":n(!0),warn:n(!1),getErrorMessage:a,handleErrorMessage:i,config:{output:s.output||{prefix:\"\",suffix:\"\",docsBaseUrl:\"\"},verbose:s.verbose||!1,disabled:s.disabled||!1},utils:y};h(v,function(e,t){return r[t]=e});var m=r.disabled||e.exports.globalConfig.disabled;return h(k.getCheckers(m),function(e,t){return r[t]=e}),h(d,function(e,t){return r[t]=e}),r}function o(e,r){for(var t=[],n=!1,o=0,i=0,u=void 0,p=void 0,f=void 0,c=void 0,s=void 0,l=void 0,y=void 0;(p=e[o++])&&i<r.length;)u=r[i++],s=\"Argument \"+i+(p.isOptional?\" (optional)\":\"\"),f=p(u,\"value\",s),l=d(f),c=o>=e.length,y=o>1&&e[o-1].isOptional,l&&c||l&&!c&&!p.isOptional&&!y?(n=!0,t.push(a(f,p,u))):l&&p.isOptional?i--:t.push(v(s)+\" passed\");return n?t:[]}function i(e,r,t){var n=k.shape({type:k.string,optional:k.bool}),o=k.func.withProperties({__apiCheckData:n}),a=k.shape({__apiCheckData:n}),u=k.oneOfType([o,a])(e,r,t);return d(u)?u:\"function\"==typeof e||e.hasOwnProperty(e.__apiCheckData.type)?void 0:O(r,t,i.type)}function a(e,r,t){var n=u(r,t);return n=n?\" - \"+n:\"\",e.message+n}function u(e,r){var t=e.help;return t?(\"function\"==typeof t&&(t=t(r)),t):\"\"}function p(e,r){var t=e.filter(function(e){return!e.isOptional});return r.length<t.length?[\"Not enough arguments specified. Requires `\"+t.length+\"`, you passed `\"+r.length+\"`\"]:[]}function f(e,r){function t(){return e&&Object.keys(e).length}function n(){return-1!==r.indexOf(e)?\"[Circular]\":(r.push(e),c(e,r))}var o=e&&e.constructor&&e.constructor.name,i=m(e);if(\"function\"===i){if(t()){var a=l(n());return o+\" (with properties: \"+a+\")\"}return o}return null===e?\"null\":\"array\"!==i&&\"object\"!==i?i:t()?n():o}function c(e,r){var t={};return h(e,function(e,n){return t[n]=f(e,r)}),t}function s(){var e=k.string.optional,r=k.func.withProperties({type:k.oneOfType([k.string,i]).optional,displayName:k.string.optional,shortType:k.string.optional,notOptional:k.bool.optional,notRequired:k.bool.optional}),t=[k.shape({output:k.shape({prefix:k.string.optional,suffix:k.string.optional,docsBaseUrl:k.string.optional}).strict.optional,verbose:k.bool.optional,disabled:k.bool.optional}).strict.optional,k.objectOf(r).optional],n=[k.typeOrArrayOf(r),k.any.optional,k.shape({prefix:e,suffix:e,urlSuffix:e,onlyPrefix:e,onlySuffix:e,url:e}).strict.optional];return{checkerFnChecker:r,getApiCheckInstanceCheckers:t,checkApiCheckApi:n}}var l=t(1),y=t(2),h=y.each,d=y.isError,v=y.t,g=y.arrayify,b=y.getCheckerDisplay,m=y.typeOf,O=y.getError,k=t(4),C=s();e.exports=n,e.exports.VERSION=\"7.5.5\",e.exports.utils=y,e.exports.globalConfig={verbose:!1,disabled:!1};var j=n({output:{prefix:\"apiCheck\"}});e.exports.internalChecker=j,h(k,function(r,t){return e.exports[t]=r}),i.type=\"function with __apiCheckData property and `${function.type}` property\"},function(e,r,t){\"use strict\";function n(e){function r(r){var t=r.toLowerCase();return b(function(e,n,o){return a(e)!==t?y(n,o,r):void 0},{type:r},e)}function t(){var r=\"Function\",t=b(function(e,t,n){return\"function\"!==a(e)?y(t,n,r):void 0},{type:r},e);return t.withProperties=function(r){var t=m.objectOf(m.func)(r,\"properties\",\"apiCheck.func.withProperties\");if(c(t))throw t;var n=m.shape(r,!0);return n.type.__apiCheckData.type=\"func.withProperties\",b(function(e,r,t){var o=m.func(e,r,t);return c(o)?o:n(e,r,t)},{type:n.type,shortType:\"func.withProperties\"},e)},t}function n(){var r=\"Object\",t=\"Object (null ok)\",n=b(function(e,r,n){return\"object\"!==a(e)?y(r,n,t):void 0},{type:t},e),o=b(function(e,r,t){return null===e||c(n(e,r,t))?y(r,t,o.type):void 0},{type:r,nullOk:n},e);return o}function i(r){return b(function(e,t,n){return e instanceof r?void 0:y(t,n,r.name)},{type:r.name},e)}function v(r){var t={__apiCheckData:{optional:!1,type:\"enum\"},\"enum\":r},n=\"oneOf[\"+r.map(function(e){return o(e)}).join(\", \")+\"]\";return b(function(e,t,o){return r.some(function(r){return r===e})?void 0:y(t,o,n)},{type:t,shortType:n},e)}function O(r){function t(e){return e&&e[\"short\"]?o:r.map(function(r){return f(r,e)})}var n=r.map(function(e){return f(e,{\"short\":!0})}),o=\"oneOfType[\"+n.join(\", \")+\"]\";return t.__apiCheckData={optional:!1,type:\"oneOfType\"},b(function(e,t,n){return r.some(function(r){return!c(r(e,t,n))})?void 0:y(t,n,o)},{type:t,shortType:o},e)}function k(r){function t(e){return e&&e[\"short\"]?o:f(r,e)}var n=f(r,{\"short\":!0}),o=\"arrayOf[\"+n+\"]\";return t.__apiCheckData={optional:!1,type:\"arrayOf\"},b(function(e,t,n){return c(m.array(e))||!e.every(function(e){return!c(r(e))})?y(t,n,o):void 0},{type:t,shortType:o},e)}function C(r){function t(e){return e&&e[\"short\"]?o:f(r,e)}var n=f(r,{\"short\":!0}),o=\"objectOf[\"+n+\"]\";return t.__apiCheckData={optional:!1,type:\"objectOf\"},b(function(e,t,n){var i=m.object(e,t,n);if(c(i))return i;var a=u(e,function(e,n){return c(r(e,n,t))?!1:void 0});return a?void 0:y(t,n,o)},{type:t,shortType:o},e)}function j(r){function t(e){return e&&e[\"short\"]?o:f(r,e)}var n=f(r,{\"short\":!0}),o=\"typeOrArrayOf[\"+n+\"]\";return t.__apiCheckData={optional:!1,type:\"typeOrArrayOf\"},b(function(e,t,n,i){return c(m.oneOfType([r,m.arrayOf(r)])(e,t,n,i))?y(t,n,o):void 0},{type:t,shortType:o},e)}function x(){function r(r,t){function n(){function e(e,r,t,n,o){function a(t,n,o){\"string\"==typeof e[r]?e[r]+=o:e[r].__apiCheckData[t]=n}if(t||!o||n.isOptional){if(t){var u=n(i[r],r,null,i);c(u)&&a(\"error\",\"THIS IS THE PROBLEM: \"+u.message,\" <-- THIS IS THE PROBLEM: \"+u.message)}}else{var p=\"ITEM\";n.type&&n.type.__apiCheckData&&(p=n.type.__apiCheckData.type.toUpperCase()),a(\"missing\",\"MISSING THIS \"+p,\" <-- YOU ARE MISSING THIS\")}}var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n={},o=t.terse,i=t.obj,a=t.addHelpers,p=t.required;return u(r,function(r,t){var u=i&&i.hasOwnProperty(t),c=g(p)?!r.isOptional:p;o&&!u&&r.isOptional||(n[t]=f(r,{terse:o,obj:i&&i[t],required:c,addHelpers:a})),a&&e(n,t,u,r,c)}),n}function o(){return n.apply(void 0,arguments)}var i={};u(r,function(e,r){i[r]=f(e)}),n.__apiCheckData={strict:!1,optional:!1,type:\"shape\"};var a=b(function(e,n,o){var i=!t&&m.object(e,n,o);if(c(i))return i;var a=void 0;return o=o?o+(n?\"/\":\"\"):\"\",n=n||\"\",u(r,function(r,t){return e.hasOwnProperty(t)||!r.isOptional?(a=r(e[t],t,\"\"+o+n,e),!c(a)):void 0}),c(a)?a:void 0},{type:n,shortType:\"shape\"},e);return o.__apiCheckData=p(a.type.__apiCheckData),o.__apiCheckData.strict=!0,a.strict=b(function(e,t,n){var o=a(e,t,n);if(c(o))return o;var i=Object.keys(r),u=Object.keys(e).filter(function(e){return-1===i.indexOf(e)});return u.length?new Error(h(t,n)+\" cannot have extra properties: \"+d(u.join(\"`, `\"))+\".It is limited to \"+d(i.join(\"`, `\"))):void 0},{type:o,shortType:\"strict shape\"},e),a}function t(r,t,o){var i=d(t.join(\", \")),a=\"if \"+(r?\"all of\":\"at least one of\"),u=\"specified \"+a+\" these are not specified: \"+i+\" (otherwise it's optional)\",p=\"requiredIfNot\"+(r?\".all\":\"\")+\"[\"+t.join(\", \")+\"}]\",f=n(o,u,p);return b(function(e,n,i,a){var u=a&&a.hasOwnProperty(n),p=r?\"every\":\"some\",c=t[p](function(e){return a&&a.hasOwnProperty(e)});return c||u?u?o(e,n,i,a):void 0:y(n,i,f)},{type:f,notRequired:!0},e)}function n(e,r,t){function n(r){return r&&r[\"short\"]?t:f(e)}return n.__apiCheckData={optional:!1,type:\"ifNot\",description:r},n}return r.ifNot=function(r,t){Array.isArray(r)||(r=[r]);var o=void 0;o=1===r.length?\"specified only if \"+r[0]+\" is not specified\":\"specified only if none of the following are specified: [\"+l(r,\", \",\"and \")+\"]\";var i=\"ifNot[\"+r.join(\", \")+\"]\",a=n(t,o,i);return b(function(e,n,o,i){var u=i&&i.hasOwnProperty(n),p=r.some(function(e){return i&&i.hasOwnProperty(e)});return u===p?y(n,o,a):u?t(e,n,o,i):void 0},{notRequired:!0,type:a,shortType:i},e)},r.onlyIf=function(r,t){r=s(r);var o=void 0;o=1===r.length?\"specified only if \"+r[0]+\" is also specified\":\"specified only if all of the following are specified: [\"+l(r,\", \",\"and \")+\"]\";var i=\"onlyIf[\"+r.join(\", \")+\"]\",a=n(t,o,i);return b(function(e,n,o,i){var u=r.every(function(e){return i.hasOwnProperty(e)});return u?t(e,n,o,i):y(n,o,a)},{type:a,shortType:i},e)},r.requiredIfNot=function(e,r){return Array.isArray(e)||(e=[e]),t(!1,e,r)},r.requiredIfNot.all=function(e,r){if(!Array.isArray(e))throw new Error(\"requiredIfNot.all must be passed an array\");return t(!0,e,r)},r}function _(){var r=\"function arguments\";return b(function(e,t,n){return Array.isArray(e)||c(m.object(e))||c(m.number(e.length))?y(t,n,r):void 0},{type:r},e)}function A(){return b(function(){},{type:\"any\"},e)}function T(){var r=\"null\";return b(function(e,t,n){return null!==e?y(t,n,r):void 0},{type:r},e)}function w(r,t){var n=\"Range (\"+r+\" - \"+t+\")\";return b(function(e,o,i){return\"number\"!=typeof e||r>e||e>t?y(o,i,n):void 0},{type:n},e)}function E(r){var t=\"lessThan[\"+r+\"]\";return b(function(e,n,o){return\"number\"!=typeof e||e>r?y(n,o,t):void 0},{type:t},e)}function D(r){var t=\"greaterThan[\"+r+\"]\";return b(function(e,n,o){return\"number\"!=typeof e||r>e?y(n,o,t):void 0},{type:t},e)}function N(){var r=\"empty object\";return b(function(e,t,n){return\"object\"!==a(e)||null===e||Object.keys(e).length?y(t,n,r):void 0},{type:r},e)}return{array:r(\"Array\"),bool:r(\"Boolean\"),number:r(\"Number\"),string:r(\"String\"),func:t(),object:n(),emptyObject:N(),instanceOf:i,oneOf:v,oneOfType:O,arrayOf:k,objectOf:C,typeOrArrayOf:j,range:w,lessThan:E,greaterThan:D,shape:x(),args:_(),any:A(),\"null\":T()}}var o=t(1),i=t(2),a=i.typeOf,u=i.each,p=i.copy,f=i.getCheckerDisplay,c=i.isError,s=i.arrayify,l=i.list,y=i.getError,h=i.nAtL,d=i.t,v=i.checkerHelpers,g=i.undef,b=v.setupChecker,m=e.exports=n();e.exports.getCheckers=n}])});","Magezon_Builder/vendor/angular-sanitize/angular-sanitize.min.js":"/*\n AngularJS v1.7.5\n (c) 2010-2018 Google, Inc. http://angularjs.org\n License: MIT\n*/\n(function(s,c){'use strict';function P(c){var h=[];C(h,E).chars(c);return h.join(\"\")}var D=c.$$minErr(\"$sanitize\"),F,h,G,H,I,q,E,J,K,C;c.module(\"ngSanitize\",[]).provider(\"$sanitize\",function(){function f(a,e){return B(a.split(\",\"),e)}function B(a,e){var d={},b;for(b=0;b<a.length;b++)d[e?q(a[b]):a[b]]=!0;return d}function t(a,e){e&&e.length&&h(a,B(e))}function Q(a){for(var e={},d=0,b=a.length;d<b;d++){var k=a[d];e[k.name]=k.value}return e}function L(a){return a.replace(/&/g,\"&amp;\").replace(z,function(a){var d=\na.charCodeAt(0);a=a.charCodeAt(1);return\"&#\"+(1024*(d-55296)+(a-56320)+65536)+\";\"}).replace(u,function(a){return\"&#\"+a.charCodeAt(0)+\";\"}).replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}function A(a){for(;a;){if(a.nodeType===s.Node.ELEMENT_NODE)for(var e=a.attributes,d=0,b=e.length;d<b;d++){var k=e[d],g=k.name.toLowerCase();if(\"xmlns:ns1\"===g||0===g.lastIndexOf(\"ns1:\",0))a.removeAttributeNode(k),d--,b--}(e=a.firstChild)&&A(e);a=v(\"nextSibling\",a)}}function v(a,e){var d=e[a];if(d&&J.call(e,d))throw D(\"elclob\",\ne.outerHTML||e.outerText);return d}var y=!1,g=!1;this.$get=[\"$$sanitizeUri\",function(a){y=!0;g&&h(m,l);return function(e){var d=[];K(e,C(d,function(b,d){return!/^unsafe:/.test(a(b,d))}));return d.join(\"\")}}];this.enableSvg=function(a){return I(a)?(g=a,this):g};this.addValidElements=function(a){y||(H(a)&&(a={htmlElements:a}),t(l,a.svgElements),t(r,a.htmlVoidElements),t(m,a.htmlVoidElements),t(m,a.htmlElements));return this};this.addValidAttrs=function(a){y||h(M,B(a,!0));return this};F=c.bind;h=c.extend;\nG=c.forEach;H=c.isArray;I=c.isDefined;q=c.$$lowercase;E=c.noop;K=function(a,e){null===a||void 0===a?a=\"\":\"string\"!==typeof a&&(a=\"\"+a);var d=N(a);if(!d)return\"\";var b=5;do{if(0===b)throw D(\"uinput\");b--;a=d.innerHTML;d=N(a)}while(a!==d.innerHTML);for(b=d.firstChild;b;){switch(b.nodeType){case 1:e.start(b.nodeName.toLowerCase(),Q(b.attributes));break;case 3:e.chars(b.textContent)}var k;if(!(k=b.firstChild)&&(1===b.nodeType&&e.end(b.nodeName.toLowerCase()),k=v(\"nextSibling\",b),!k))for(;null==k;){b=\nv(\"parentNode\",b);if(b===d)break;k=v(\"nextSibling\",b);1===b.nodeType&&e.end(b.nodeName.toLowerCase())}b=k}for(;b=d.firstChild;)d.removeChild(b)};C=function(a,e){var d=!1,b=F(a,a.push);return{start:function(a,g){a=q(a);!d&&w[a]&&(d=a);d||!0!==m[a]||(b(\"<\"),b(a),G(g,function(d,g){var c=q(g),f=\"img\"===a&&\"src\"===c||\"background\"===c;!0!==M[c]||!0===O[c]&&!e(d,f)||(b(\" \"),b(g),b('=\"'),b(L(d)),b('\"'))}),b(\">\"))},end:function(a){a=q(a);d||!0!==m[a]||!0===r[a]||(b(\"</\"),b(a),b(\">\"));a==d&&(d=!1)},chars:function(a){d||\nb(L(a))}}};J=s.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)};var z=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,u=/([^#-~ |!])/g,r=f(\"area,br,col,hr,img,wbr\"),x=f(\"colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr\"),p=f(\"rp,rt\"),n=h({},p,x),x=h({},x,f(\"address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul\")),p=h({},p,f(\"a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var\")),\nl=f(\"circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan\"),w=f(\"script,style\"),m=h({},r,x,p,n),O=f(\"background,cite,href,longdesc,src,xlink:href,xml:base\"),n=f(\"abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width\"),\np=f(\"accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan\",\n!0),M=h({},O,p,n),N=function(a,e){function d(b){b=\"<remove></remove>\"+b;try{var d=(new a.DOMParser).parseFromString(b,\"text/html\").body;d.firstChild.remove();return d}catch(e){}}function b(a){c.innerHTML=a;e.documentMode&&A(c);return c}var g;if(e&&e.implementation)g=e.implementation.createHTMLDocument(\"inert\");else throw D(\"noinert\");var c=(g.documentElement||g.getDocumentElement()).querySelector(\"body\");c.innerHTML='<svg><g onload=\"this.parentNode.remove()\"></g></svg>';return c.querySelector(\"svg\")?\n(c.innerHTML='<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">',c.querySelector(\"svg img\")?d:b):function(b){b=\"<remove></remove>\"+b;try{b=encodeURI(b)}catch(d){return}var e=new a.XMLHttpRequest;e.responseType=\"document\";e.open(\"GET\",\"data:text/html;charset=utf-8,\"+b,!1);e.send(null);b=e.response.body;b.firstChild.remove();return b}}(s,s.document)}).info({angularVersion:\"1.7.5\"});c.module(\"ngSanitize\").filter(\"linky\",[\"$sanitize\",function(f){var h=/((s?ftp|https?):\\/\\/|(www\\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\\S*[^\\s.;,(){}<>\"\\u201d\\u2019]/i,\nt=/^mailto:/i,q=c.$$minErr(\"linky\"),s=c.isDefined,A=c.isFunction,v=c.isObject,y=c.isString;return function(c,z,u){function r(c){c&&l.push(P(c))}function x(c,g){var f,a=p(c);l.push(\"<a \");for(f in a)l.push(f+'=\"'+a[f]+'\" ');!s(z)||\"target\"in a||l.push('target=\"',z,'\" ');l.push('href=\"',c.replace(/\"/g,\"&quot;\"),'\">');r(g);l.push(\"</a>\")}if(null==c||\"\"===c)return c;if(!y(c))throw q(\"notstring\",c);for(var p=A(u)?u:v(u)?function(){return u}:function(){return{}},n=c,l=[],w,m;c=n.match(h);)w=c[0],c[2]||\nc[4]||(w=(c[3]?\"http://\":\"mailto:\")+w),m=c.index,r(n.substr(0,m)),x(w,c[0].replace(t,\"\")),n=n.substring(m+c[0].length);r(n);return f(l.join(\"\"))}}])})(window,window.angular);"}
}});
